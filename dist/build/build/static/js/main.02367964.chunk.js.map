{"version":3,"sources":["constants/actionTypes.ts","constants/initialState.ts","reducers/counts.ts","reducers/ui.ts","reducers/auth.ts","reducers/repositories.ts","reducers/index.ts","constants/store.ts","components/Count/utils/API.tsx","constants/waitroseBrandColors.ts","constants/theme/colors.ts","constants/theme/fonts.ts","constants/theme/fontSizes.ts","constants/theme/fontWeights.ts","constants/theme/lineHeights.ts","constants/theme/letterSpacings.ts","constants/theme/space.ts","constants/theme/sizes.ts","constants/theme/radii.ts","constants/theme/zIndices.ts","constants/theme/styles.ts","constants/theme/components/Button.ts","constants/theme/components/index.ts","constants/theme/components/Heading.ts","constants/theme/components/Text.ts","constants/theme/components/FormLabel.ts","constants/theme/components/Input.ts","constants/theme/components/Textarea.ts","constants/theme/components/Select.ts","constants/theme/index.ts","fonts/Lato/Lato-Black.ttf","fonts/Lato/Lato-BlackItalic.ttf","fonts/Lato/Lato-Bold.ttf","fonts/Lato/Lato-BoldItalic.ttf","fonts/Lato/Lato-Italic.ttf","fonts/Lato/Lato-Light.ttf","fonts/Lato/Lato-LightItalic.ttf","fonts/Lato/Lato-Regular.ttf","fonts/Lato/Lato-Thin.ttf","fonts/Lato/Lato-ThinItalic.ttf","actions/index.ts","components/Header/index.tsx","components/Nav/NavLink.tsx","components/Nav/index.tsx","components/Flash/SingleFlash.tsx","components/Flash/index.tsx","components/PageWrapper.tsx","components/Login.tsx","components/Dashboard/ThumbnailGraph.tsx","components/Dashboard/index.tsx","components/QuickAdd.tsx","components/Counts/ListCount.tsx","components/base/Select.tsx","components/Counts/FilterRepos.tsx","components/Counts/PaginateNumberInput.tsx","components/Counts/index.tsx","components/Count/utils/CountContext.tsx","components/Count/BaggedCoin/BaggedCoinInput.tsx","components/Count/SubTotal.tsx","components/Count/BaggedCoin/index.tsx","components/base/Input.tsx","components/Count/Counter/DropMenu.tsx","components/Count/Counter/index.tsx","components/Count/LooseCoin/LooseCoinInput.tsx","components/Count/LooseCoin/index.tsx","components/Count/Notes/NoteNumberInput.tsx","components/Count/Notes/NoteValueInput.tsx","components/Count/Notes/NoteInputWrapper.tsx","components/Count/Notes/index.tsx","components/Count/Repository.tsx","components/base/DateInput.tsx","components/base/TimeInput.tsx","components/Count/Time.tsx","components/Count/Options/DeleteCount.tsx","components/Count/SaveInterface/utils.ts","components/Count/Options/SaveCount.tsx","components/Count/Options/index.tsx","components/Count/Total/Overall.tsx","components/Count/Total/Sub.tsx","components/Count/Total/index.tsx","components/Count/utils/reducer.ts","components/InspectOneRepo/types.ts","components/Count/utils/initialState.ts","components/Count/SaveInterface/Save.tsx","components/Count/SaveInterface/Close.tsx","components/Count/SaveInterface/Next.tsx","components/Count/SaveInterface/index.tsx","components/Count/index.tsx","components/InspectOneRepo/Utils.tsx","components/InspectOneRepo/InspectRepoActions.tsx","components/InspectOneRepo/RepoSelect.tsx","components/InspectOneRepo/TopControlGroup.tsx","components/InspectOneRepo/InspectRepoReducer.tsx","components/InspectOneRepo/GraphOnlyBags.tsx","components/InspectOneRepo/index.tsx","components/VisTest1.tsx","components/App.tsx","reportWebVitals.ts","index.tsx"],"names":["ActionTypes","initialState","main","counts","data","updated","countsServerTotal","pageLength","ui","flash","title","description","createdAt","Date","now","duration","catt","id","coloursets","liveRed","red","orange","yellow","green","blue","purple","black","white","brown","teal","tealGreen","gold","colours","auth","userList","userListUpdated","partnerList","partnerListUpdated","repositories","repositoryList","repositoryListUpdated","repositoryServerTotal","dataWriteAll","state","action","payload","dataWriteMultiple","serverTotalWrite","type","COUNTS_DATA_WRITE_ALL","COUNTS_DATA_WRITE_MULTIPLE","COUNTS_SERVER_TOTAL_WRITE","flashWriteOne","out","i","Math","floor","random","randomSixDigit","flashRemoveOne","filter","each","UI_FLASH_WRITE_ONE","UI_FLASH_REMOVE_ONE","authUsersWriteAll","authPartnersWriteAll","partnerListUpdate","AUTH_USERS_WRITE_ALL","AUTH_PARTNER_WRITE_ALL","repositoriesWriteAll","REPOSITORIES_WRITE_ALL","rootReducer","combineReducers","middleware","thunk","enhancerList","applyMiddleware","window","hasOwnProperty","push","__REDUX_DEVTOOLS_EXTENSION__","CountActions","enhancers","compose","store","createStore","waitrose_brand_colors","primary","highlight","bgDark","shade","bgLight","colors","transparent","current","whiteAlpha","blackAlpha","gray","cyan","pink","linkedin","facebook","messenger","whatsapp","twitter","telegram","waitrose","waitroseBrandColors","theme_light","text","clickable","contrastGreen","darker","standard","light","lighter","invisable","menuActive","button","buttonActive","background","secondary","line","container","danger","dangerLight","dangerDark","divider","bgInsetLight","bgInsetShaded","bgInsetDark","info","unfinished","partial","complete","unverified","fonts","body","heading","mono","fontSizes","xs","sm","md","lg","xl","fontWeights","hairline","thin","normal","medium","semibold","bold","extrabold","lineHeights","none","shorter","short","base","tall","taller","letterSpacings","tighter","tight","wide","wider","widest","space","px","sizes","max","min","full","radii","zIndices","hide","auto","docked","dropdown","sticky","banner","overlay","modal","popover","skipLink","toast","tooltip","styles","global","color","fontFamily","h","fontWeight","lineHeight","border","borderColor","bgColor","p","margin","_hover","_active","components","Heading","baseStyle","padding","variants","defaultProps","Button","fontSize","borderRadius","link","textDecoration","cursor","bg","outline","solid","marginY","_focus","boxShadow","warning","dangerOutline","dangerLink","size","variant","Text","faded","FormLabel","Input","m","Textarea","Select","customTheme","countsDataWriteMultiple","page","repo","dispatch","a","EXT","console","log","fetch","method","headers","res","json","uiFlashWriteOne","Header","navWidth","direction","width","transition","flex","as","alignSelf","orientation","height","NavLink","props","useLocation","pathname","to","borderLeft","href","Nav","textAlign","styleType","SingleFlash","useDispatch","useState","timer","setTimer","translate","setTranslate","removeFlash","setTimeout","uiFlashRemoveOne","useEffect","topPadd","my","display","alignItems","justifyContent","statusColor","transform","onMouseOver","clearTimeout","w","py","onClick","Flash","useSelector","s","position","bottom","left","map","idx","Dashboard","children","className","templateColumns","templateRows","colStart","colEnd","rowStart","rowEnd","Login","linearDataInitialState","bagNote5","bagPound2","bagPound1","bagPence50","bagPence20","bagPence10","bagPence5","bagPence2","bagPence1","bags","ThumbnailGraph","repository","setCounts","parsedData","setParsedData","focused","setFocused","Array","from","length","x","yAxisRange","setYAxisRange","COLOURS","colourMap","then","status","error","errorMessage","catch","adjustedC","float","record","bag","label","value","sort","b","stack","forEach","oneRecord","len","middle","ceil","j","multiplier","emptyStack","addOnePoint","y","timestamp","parsedC","reduce","acc","newAcc","toLocaleString","undefined","allMaxValues","allMinValues","Object","values","vals","e","maxVal","minVal","range","handleMarkMouseOver","point","style","onMouseLeave","tickValues","key","onNearestX","css","pointerEvents","boxSizing","flexDirection","JSON","stringify","deleted","deactivated","gridTemplateColumns","gridAutoRows","name","QuickAdd","right","Link","ml","ListCount","str","listCount","date","currentRepository","find","repositoryId","borderLeftColor","completionStatus","titleMap","pl","getDay","toLocaleDateString","toLocaleTimeString","FilterRepos","selectedRepo","changeSeletedRepo","onChange","target","PaginateNumberInput","setPage","Counts","setSelectedRepo","countState","total","Number","slice","CountContext","React","createContext","testing","sanitiseNumberInputVal","n","step","formatReadableName","user","useFullName","shortUid","firstName","lastName","tillNumber","substring","toUpperCase","Denomination","denomination","useContext","inVal","bagged","setError","setValue","smallScreen","useMediaQuery","val","inputColumn","justifyItems","onKeyDown","keyCode","changeVal","UPDATE_BAG","v","valueAsumber","isNaN","handleChange","borderBottom","borderBottomColor","toFixed","SubTotal","BaggedCoin","marginTop","autoRows","BaggedCoinInput","borderTop","borderRight","DropMenu","handleDropDownSelect","showMenu","filteredList","zIndex","top","listStyleType","mx","Counter","dispatchType","stateAssignment","setShowMenu","setFilteredList","createdList","test","names","middleNames","combinedAttrs","join","RegExp","firstInitial","secondInitial","onBlur","onFocus","selected","marginBottom","loose","valueAsNumber","minimumValueTest","nanTest","outOfStepTest","UPDATE_LOOSE","toLowerCase","LooseCoin","LooseCoinInput","NoteNumberInput","notes","noteNumber","nanCheck","zeroCheck","stepCheck","UPDATE_NOTES","handleNumberChange","poundValue","penceValue","stepAsPound","handleValueChange","NoteInput","NoteValueInput","NoteInputWrapper","Repository","UPDATE_REPO","DateInput","TimeInput","registerLocale","gb","setDefaultLocale","Time","UPDATE_TIME","flexWrap","locale","timeFormat","timeCaption","dateFormat","showTimeSelect","showTimeSelectOnly","DeleteCount","open","setOpen","partner","setPartner","busy","setBusy","modalError","setModalError","selectError","setSelectError","partners","params","useParams","safetyRef","useRef","navigate","useNavigate","explicitClose","isOpen","leastDestructiveRef","onClose","closeOnEsc","closeOnOverlayClick","blockScrollOnMount","preferredName","responseMessage","disabled","ref","icon","preventDefault","saveExisting","callback","count","pence_one","pence_two","pence_five","pence_ten","pence_twenty","pence_fifty","pound_one","pound_two","note_five","bagTotal","loosePence1","loosePence2","loosePence5","loosePence10","loosePence20","loosePence50","loosePound1","loosePound2","looseOther","other","looseTotal","note1","note_one","note5","note10","note_ten","note20","note_twenty","note50","note_fifty","noteTotal","floatTotal","counterId","counter","supervisorId","supervisor","OPTS","validation","code","saveNew","SaveCount","MdSave","Options","IconButton","Overall","Sub","gridColumn","Total","countReducer","InspectRepoActionTypes","WRITE_ALL","ready","SET_READY","UPDATE_COUTNER","UPDATE_SUPERVISOR","keys","updateBag","updateLoose","updateNotes","verified","Save","edit","editUrl","Close","Next","SaveInterface","Count","repos","useReducer","createdOn","setCreatedOn","stateFromRequest","Boolean","err","Provider","wordBreak","Notes","InspectRepoContext","baseDate","inspectRepoInitialState","startTime","getTime","endTime","adjustYAxisRenderPosition","adjustmentStepSize","inspecting","constants","WIDTH","HEIGHT","Y_PADDING","parsedCountBags","xAxisLabels","crosshair","crosshairX","focusedSeries","hoverSeries","inspectingClear","INSPECTING_CLEAR","RepoSelect","contextState","contextDispatch","repoList","REPO_SET","repoSet","TopControlGroup","useAdjustments","d","START_DATE_SET","END_DATE_SET","ADJUSTMENTS_USE_SET","adjustmentUseSet","adjustment","ADJUSTMENT_STEP_SIZE_SET","InspectRepoReducer","reduceRepoSet","reduceStartDateSet","reduceEndDateSet","reduceAdjustmentUseSet","reduceAdjustmentStepSizeSet","INSPECTING_SET","reduceInspectingSet","reduceInspectingClear","DATA_SET","reduceDataSet","PARSED_DATA_BAGS_SET","reduceParsedDataBagsSet","CROSSHAIR_SET","reduceCrosshairSet","CROSSHAIR_POSITION_SET","reduceCrosshairPositionSet","CROSSHAIR_CLEAR","reduceCrosshairClear","SERIES_HOVER_SET","reduceSeriesHoverSet","SERIES_HOVER_CLEAR","reduceSeriesHoverClear","tooltipStyle","months_full","GraphOnlyBags","inspectingSet","handleMarkMouseOut","handleSeriesMouseOver","bagType","seriesHoverSet","handleSeriesMouseOut","handleSeriesClick","colourRelation","bagtype","tooltipTextSyle","crosshairStyle","shadowMarkSize","yPadding","tickFormat","rawCount","getDate","getMonth","fill","onSeriesMouseOver","onSeriesMouseOut","onSeriesClick","strokeWidth","onValueMouseOver","onValueMouseOut","_sizeValue","crosshairPositionSet","countId","createCrosshair","time","crosshairWrite","round","whiteSpace","InspectOneRepo","dataSet","adjustments","records","pushToNewAcc","VisTest1","setRepo","setStartTime","setEndTime","setUseAdjustments","setData","setAdjustmentStepSize","setInspecting","parsedCount","setParsedCount","reverse","App","users","path","element","PageWrapper","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","theme","extendTheme","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.02367964.chunk.js","sourcesContent":["enum ActionTypes {\r\n\tCOUNTS_DATA_WRITE_ALL = 'COUNTS_DATA_WRITE_ALL',\r\n\tCOUNTS_DATA_WRITE_MULTIPLE = 'COUNTS_DATA_WRITE_MULTIPLE',\r\n\tCOUNTS_DATA_UPDATE_SINGLE = 'COUNTS_DATA_UPDATE_SINGLE',\r\n\tCOUNTS_DATA_WRITE_SINGLE = 'COUNTS_DATA_WRITE_SINGLE',\r\n\tCOUNTS_SERVER_TOTAL_WRITE = 'COUNTS_SERVER_TOTAL_WRITE',\r\n\r\n\tUI_FLASH_WRITE_ONE = 'UI_FLASH_WRITE_ONE',\r\n\tUI_FLASH_REMOVE_ONE = 'UI_FLASH_REMOVE_ONE',\r\n\r\n\tAUTH_USERS_WRITE_ALL = 'AUTH_USERS_WRITE_ALL',\r\n\tAUTH_PARTNER_WRITE_ALL = 'AUTH_PARTNER_WRITE_ALL',\r\n\r\n\tREPOSITORIES_WRITE_ALL = 'REPOSITORIES_WRITE_ALL',\r\n}\r\n\r\nexport default ActionTypes","import { ReduxStateType } from '../global'\r\n\r\nconst initialState: ReduxStateType = {\r\n  main: {},\r\n\tcounts: {\r\n\t\tdata: [],\r\n\t\tupdated: null,\r\n\t\tcountsServerTotal: null,\r\n\t\tpageLength: 10,\r\n\t},\r\n\tui: {\r\n\t\tflash: [\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Default Flash',\r\n\t\t\t\tdescription: 'Here is a flash that will last 20 seconds',\r\n\t\t\t\tcreatedAt: Date.now(),\r\n\t\t\t\tduration: 5000,\r\n\t\t\t\tcatt: 'info',\r\n\t\t\t\tid: Date.now() + '_528491'\r\n\t\t\t}\r\n\t\t],\r\n\t\tcoloursets: [\r\n\t\t\t{\r\n\t\t\t\tliveRed: '#db0032',\r\n\t\t\t\tred: '#ca6d6d',\r\n\t\t\t\torange: '#ff883a',\r\n\t\t\t\tyellow: '#bed800',\r\n\t\t\t\tgreen: '#598d00',\r\n\t\t\t\tblue: '#365075',\r\n\t\t\t\tpurple: '#6e70a8',\r\n\t\t\t\tblack: '#333333',\r\n\t\t\t\twhite: '#f3f3f3',\r\n\t\t\t\tbrown: '#9f9b15',\r\n\t\t\t\tteal: '#3db8b5',\r\n\t\t\t\ttealGreen: '#03ae99',\r\n\t\t\t\tgold: '#f8b018',\r\n\t\t\t}\r\n\t\t],\r\n\t\tcolours: {\r\n\t\t\tliveRed: '#db0032',\r\n\t\t\tred: '#ca6d6d',\r\n\t\t\torange: '#ff883a',\r\n\t\t\tyellow: '#bed800',\r\n\t\t\tgreen: '#598d00',\r\n\t\t\tblue: '#365075',\r\n\t\t\tpurple: '#6e70a8',\r\n\t\t\tblack: '#333333',\r\n\t\t\twhite: '#f3f3f3',\r\n\t\t\tbrown: '#9f9b15',\r\n\t\t\tteal: '#3db8b5',\r\n\t\t\ttealGreen: '#03ae99',\r\n\t\t\tgold: '#f8b018',\r\n\t\t}\r\n\t},\r\n\tauth: {\r\n\t\tuserList: [],\r\n\t\tuserListUpdated: null,\r\n\t\tpartnerList: [],\r\n\t\tpartnerListUpdated: null,\r\n\t},\r\n\trepositories: {\r\n\t\trepositoryList: [],\r\n\t\trepositoryListUpdated: null,\r\n\t\trepositoryServerTotal: null,\r\n\t}\r\n}\r\n\r\nexport default initialState\r\n","import { Action, Reducer } from 'redux'\r\nimport initialState from '../constants/initialState'\r\nimport ActionTypes from '../constants/actionTypes'\r\n\r\nconst counts: Reducer = (state = initialState.main, action: Action) => {\r\n\tswitch(action.type) {\r\n\t\tcase ActionTypes.COUNTS_DATA_WRITE_ALL: return dataWriteAll(state, action)\r\n\t\tcase ActionTypes.COUNTS_DATA_WRITE_MULTIPLE: return dataWriteMultiple(state, action)\r\n\t\tcase ActionTypes.COUNTS_SERVER_TOTAL_WRITE: return serverTotalWrite(state, action)\r\n\t\tdefault: return state\r\n\t}\r\n}\r\n\r\nfunction dataWriteAll (state: any, action: any) {\r\n\treturn {\r\n\t\t...state,\r\n\t\tupdated: Date.now(),\r\n\t\tdata: action.payload\r\n\t}\r\n}\r\n\r\nfunction dataWriteMultiple (state: any, action: any) {\r\n\treturn {\r\n\t\t...state,\r\n\t\tupdated: Date.now(),\r\n\t\tdata: [\r\n\t\t\t...state.data,\r\n\t\t\t...action.payload,\r\n\t\t]\r\n\t}\r\n}\r\n\r\nfunction serverTotalWrite (state: any, action: any) {\r\n\treturn {\r\n\t\t...state,\r\n\t\tcountsServerTotal: action.payload\r\n\t}\r\n}\r\n\r\nexport default counts","import { Action, Reducer } from 'redux'\r\n\r\nimport initialState from '../constants/initialState'\r\nimport ActionTypes from '../constants/actionTypes'\r\n\r\nconst ui: Reducer = (state = initialState.ui, action: Action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ActionTypes.UI_FLASH_WRITE_ONE: \r\n\t\t\treturn flashWriteOne(state, action)\r\n\t\tcase ActionTypes.UI_FLASH_REMOVE_ONE:\r\n\t\t\treturn flashRemoveOne(state, action)\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nfunction flashWriteOne(state: any, action: any) {\r\n\tconst randomSixDigit = () => {\r\n\t\tconst one = () => Math.floor(Math.random() * 10)\r\n\t\tlet out = ''\r\n\t\tfor (let i=0; i< 6; i++) out += one()\r\n\t\treturn out\r\n\t}\r\n\treturn {\r\n\t\t...state,\r\n\t\tflash: [\r\n\t\t\t{\r\n\t\t\t\t...action.payload,\r\n\t\t\t\tcreatedAt: Date.now(),\r\n\t\t\t\tid: Date.now() + randomSixDigit()\r\n\t\t\t},\r\n\t\t\t...state.flash,\r\n\t\t]\r\n\t}\r\n}\r\n\r\nfunction flashRemoveOne(state: any, action: any) {\r\n\tconst flash = state.flash.filter((each: any) => each.id !== action.payload)\r\n\treturn {\r\n\t\t...state,\r\n\t\tflash,\r\n\t}\r\n}\r\n\r\nexport default ui","import { Action, Reducer } from 'redux'\r\n\r\nimport initialState from '../constants/initialState'\r\nimport ActionTypes from '../constants/actionTypes'\r\n\r\nconst auth: Reducer = (state = initialState.auth, action: Action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ActionTypes.AUTH_USERS_WRITE_ALL: \r\n\t\t\treturn authUsersWriteAll(state, action)\r\n\t\tcase ActionTypes.AUTH_PARTNER_WRITE_ALL:\r\n\t\t\treturn authPartnersWriteAll(state, action)\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nfunction authUsersWriteAll(state: any, action: any) {\r\n\treturn {\r\n\t\t...state,\r\n\t\tuserList: action.payload,\r\n\t\tuserListUpdated: Date.now(),\r\n\t}\r\n}\r\n\r\nfunction authPartnersWriteAll (state: any, action: any) {\r\n\treturn {\r\n\t\t...state,\r\n\t\tpartnerList: action.payload,\r\n\t\tpartnerListUpdate: Date.now()\r\n\t}\t\r\n}\r\n\r\nexport default auth","import { Action, Reducer } from 'redux'\r\n\r\nimport initialState from '../constants/initialState'\r\nimport ActionTypes from '../constants/actionTypes'\r\n\r\nconst repositories: Reducer = (state = initialState.repositories, action: Action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ActionTypes.REPOSITORIES_WRITE_ALL: \r\n\t\t\treturn repositoriesWriteAll(state, action)\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nfunction repositoriesWriteAll (state: any, action: any) {\r\n\treturn {\r\n\t\t...state,\r\n\t\trepositoryList: action.payload,\r\n\t\trepositoryListUpdated: Date.now(),\r\n\t}\r\n}\r\n\r\nexport default repositories","\r\nimport { combineReducers, Reducer, Action } from 'redux'\r\nimport initialState from '../constants/initialState'\r\n\r\nimport counts from './counts'\r\nimport ui from './ui'\r\nimport auth from './auth'\r\nimport repositories from './repositories'\r\n\r\nconst main: Reducer = (state = initialState.main, action: Action) => state\r\n\r\nconst rootReducer = combineReducers({\r\n  main,\r\n\tcounts,\r\n\tui,\r\n\tauth,\r\n\trepositories,\r\n})\r\n\r\nexport default rootReducer","import { applyMiddleware, createStore, compose, StoreEnhancer } from 'redux'\r\nimport thunk from 'redux-thunk'\r\n\r\nimport rootReducer from '../reducers'\r\nimport initialState from './initialState'\r\n\r\ndeclare global {\r\n  interface Window {\r\n    __REDUX_DEVTOOLS_EXTENSION__: any\r\n  }\r\n}\r\n\r\nconst middleware: any[] = [thunk]\r\n\r\nconst enhancerList: any[] = [applyMiddleware(...middleware)]\r\n\r\nif (window.hasOwnProperty('__REDUX_DEVTOOLS_EXTENSION__')) {\r\n  enhancerList.push(window.__REDUX_DEVTOOLS_EXTENSION__())\r\n}\r\n\r\nconst enhancers: StoreEnhancer = compose(...enhancerList)\r\n\r\nconst store = createStore(rootReducer, initialState, enhancers)\r\n\r\nexport default store","\r\nimport {\r\n\tStateType,\r\n\tValidation,\r\n} from './types'\r\n\r\nexport const repositories: ['401', '403', 'lotto'] = ['401', '403', 'lotto']\r\n\r\nexport enum CountActions {\r\n\tWRITE_ALL = 'WRITE_ALL',\r\n\tSET_READY = 'SET_READY',\r\n\tUPDATE_REPO = 'UPDATE_REPO',\r\n\tUPDATE_COUTNER = 'UPDATE_COUTNER',\r\n\tUPDATE_SUPERVISOR = 'UPDATE_SUPERVISOR',\r\n\tUPDATE_TIME = 'UPDATE_TIME',\r\n\tUPDATE_BAG = 'UPDATE_BAG',\r\n\tUPDATE_LOOSE = 'UPDATE_LOOSE',\r\n\tUPDATE_NOTES = 'UPDATE_NOTES',\r\n}\r\n\r\nexport const sanitiseNumberInputVal = (\r\n\tn: number | string | undefined | null, \r\n\tstep: number\r\n): number | string => {\r\n\tif (n === '' || n === undefined || n === null) return ''\r\n\telse return n\r\n}\r\n\r\n// const why: TestInterface = {\r\n\r\n// }\r\n\r\nexport const formatReadableName = (user: any): string => {\r\n\tif (user === undefined || user === null || !user) return ''\r\n\tlet out = ''\r\n\tlet useFullName = user.shortUid === null\r\n\tconsole.log(user)\r\n\tif (useFullName) {\r\n\t\tout += `${user.firstName} ${user.lastName}`\r\n\t} else {\r\n\t\tout += `${user.tillNumber} `\r\n\t\tif (user.firstName && user.firstName !== '') {\r\n\t\t\tif (user.lastName && user.lastName !== '') {\t\r\n\t\t\t\tout += user.firstName.substring(0,1).toUpperCase()\r\n\t\t\t\tout += user.lastName.substring(0,1).toUpperCase()\r\n\t\t\t} else {\r\n\t\t\t\tout += user.firstName\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn out\t\r\n}\r\n\r\nexport const validateCount = (count: any): Validation => {\r\n\t// LAST CHANGE: 14-04-2021 1220\r\n\r\n\tconsole.log('### Begin Count ###')\r\n\tconsole.log(count)\r\n\r\n\tconst sampleState: StateType = {\r\n\t\tid: 1,\r\n\t\trepository: repositories[0],\r\n\t\trepositoryId: 1,\r\n\t\tcounter: '',\r\n\t\tcounterId: '',\r\n\t\tsupervisor: '',\r\n\t\tsupervisorId: '',\r\n\t\tdata: {\r\n\t\t\tbagged: {\r\n\t\t\t\tpence_one: 0,\r\n\t\t\t\tpence_two: 0,\r\n\t\t\t\tpence_five: 0,\r\n\t\t\t\tpence_ten: 0,\r\n\t\t\t\tpence_twenty: 0,\r\n\t\t\t\tpence_fifty: 0,\r\n\t\t\t\tpound_one: 0,\r\n\t\t\t\tpound_two: 0,\r\n\t\t\t\tnote_five: 0,\r\n\t\t\t\ttotal: 0,\r\n\t\t\t},\r\n\t\t\tloose: {\r\n\t\t\t\tpence_one: 0,\r\n\t\t\t\tpence_two: 0,\r\n\t\t\t\tpence_five: 0,\r\n\t\t\t\tpence_ten: 0,\r\n\t\t\t\tpence_twenty: 0,\r\n\t\t\t\tpence_fifty: 0,\r\n\t\t\t\tpound_one: 0,\r\n\t\t\t\tpound_two: 0,\r\n\t\t\t\tother: 0,\r\n\t\t\t\ttotal: 0,\r\n\t\t\t},\r\n\t\t\tnotes: {\r\n\t\t\t\tnote_one: 0,\r\n\t\t\t\tnote_five: 0,\r\n\t\t\t\tnote_ten: 0,\r\n\t\t\t\tnote_twenty: 0,\r\n\t\t\t\tnote_fifty: 0,\r\n\t\t\t\ttotal: 0,\r\n\t\t\t},\r\n\t\t\ttotal: 0,\r\n\t\t},\r\n\t\ttimestamp: Date.now(),\r\n\t\tready: false,\r\n\t\tverified: true,\r\n\t}\r\n\r\n\tlet response: any\r\n\tlet verified: boolean = true\r\n\tlet baggedCheckPass: boolean = false\r\n\tlet looseCheckPass: boolean = false\r\n\tlet notesCheckPass: boolean = false\r\n\r\n\tfunction failMissingData (message: string) {\r\n\t\t// console.log('~call to failMissingData~', {\r\n\t\t// \tcode: 'invalid',\r\n\t\t// \tmessage,\r\n\t\t// \tverified,\r\n\t\t// })\r\n\t\treturn {\r\n\t\t\tcode: 'invalid',\r\n\t\t\tmessage,\r\n\t\t\tverified,\r\n\t\t}\r\n\t}\r\n\r\n\tfunction isVerifiedCheck () {\r\n\t\tif (count.hasOwnProperty('counterId') && /\\w+/gi.test(count.counterId)) {\r\n\t\t\tconst EXT = `/api/v1/user/${count.counterId}`\r\n\t\t\tconst OPTS = {\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfetch(EXT, OPTS)\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(data => {\r\n\t\t\t\tconsole.log({ data })\r\n\t\t\t\tif (data.user) {\r\n\t\t\t\t\tverified = true\r\n\t\t\t\t} else {\r\n\t\t\t\t\tverified = false\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(() => {\r\n\t\t\t\tverified = false\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tif (count.verified && count.verified === true) verified = true\r\n\t\t\telse verified = false\r\n\t\t}\r\n\t}\r\n\r\n\tfunction missingDataCheck () {\r\n\t\tif (count === null) {\r\n\t\t\treturn failMissingData('No count provided, recieved null')\r\n\t\t}\r\n\t\tif (count === undefined) {\r\n\t\t\treturn failMissingData('No count provided, recieved undefined')\r\n\t\t}\r\n\t\tif (count === '') {\r\n\t\t\treturn failMissingData('No count provided, recieved an empty string')\r\n\t\t}\r\n\t}\r\n\r\n\t// # Invalid Check\r\n\t// check is null data\r\n\t// check level 1 properties exist\r\n\t// for data.bagged .loose .notes check all attrs exist\r\n\t\r\n\t// # Partial count Check\r\n\t// for each prop in bagged - check has non NaN value\r\n\r\n\t// # Complete check\r\n\t// for loose each value check non NaN value\r\n\t// for notes each value check non NaN value\r\n\r\n\t\r\n\tfunction propsCheck () {\r\n\t\tif (!count.hasOwnProperty('data')) {\r\n\t\t\treturn failMissingData('Object count has no such property \"data\".')\r\n\t\t}\r\n\t\tconst dataKeys: string[] = Object.keys(sampleState.data)\r\n\t\tdataKeys.forEach((key: string) => {\r\n\t\t\tif (!count.data.hasOwnProperty(key)) {\r\n\t\t\t\treturn failMissingData(`Object count.data has no such property \"${key}\"`)\r\n\t\t\t}\r\n\t\t\t// @ts-ignore suppressImplicitAnyIndexErrors\r\n\t\t\tconst itemisedKeys = Object.keys(sampleState.data[key])\r\n\t\t\titemisedKeys.forEach((item: string) => {\r\n\t\t\t\tif (!count.data[key].hasOwnProperty(item)) {\r\n\t\t\t\t\treturn failMissingData(`Object count.data[${key}] has no such property \"${item}\"`)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tfunction checkAuthor () {\r\n\t\tif (count && count.hasOwnProperty('counter')) {\r\n\t\t\tif (typeof count.counter === 'boolean') return failMissingData('counter (author) on count is the wrong data type (number)')\r\n\t\t\tif (typeof count.counter === 'number') return failMissingData('counter (author) on count is the wrong data type (number)')\r\n\t\t\tif (typeof count.counter === 'object') return failMissingData('counter (author) on count is the wrong data type (number)')\r\n\t\t} else return failMissingData('No counter (author) found on the count object.')\r\n\t}\r\n\r\n\tfunction baggedCompleteCheck () {\r\n\t\tconst baggedKeys = Object.keys(sampleState.data.bagged)\r\n\t\tlet error: string | boolean = false\r\n\t\tconst result = baggedKeys.reduce((acc, each) => {\r\n\t\t\tif (error) return acc\r\n\t\t\t// @ts-ignore\r\n\t\t\tif (!count.data.bagged.hasOwnProperty(each)) error = each\r\n\t\t\t// @ts-ignore\r\n\t\t\tif (typeof count.data.bagged[each] === 'number') return acc\r\n\t\t\t// @ts-ignore\r\n\t\t\tif (count.data.bagged[each] === null) return false\r\n\t\t\terror = each\r\n\t\t\treturn false\r\n\t\t}, true)\r\n\t\tif (error) return failMissingData(`[Bagged Coin Check]: invalid value for property \"${error}\". Expected null or number but recieved \"${count.data.bagged[error]}\"`)\r\n\t\tbaggedCheckPass = result\r\n\t}\r\n\r\n\tfunction looseCompleteCheck () {\r\n\t\tconst looseKeys = Object.keys(sampleState.data.loose)\r\n\t\tlet error: string | boolean = false\r\n\t\tconst result = looseKeys.reduce((acc, each) => {\r\n\t\t\tif (error) return acc\r\n\t\t\t// @ts-ignore\r\n\t\t\tif (!count.data.loose.hasOwnProperty(each)) error = each\r\n\t\t\t// @ts-ignore\r\n\t\t\tif (typeof count.data.loose[each] === 'number') return acc\r\n\t\t\t// @ts-ignore\r\n\t\t\tif (count.data.loose[each] === null) return false\r\n\t\t\terror = each\r\n\t\t\treturn false\r\n\t\t}, true)\r\n\t\tif (error) return failMissingData(`[Loose Coin Check]: invalid value for property \"${error}\". Expected null or number but recieved \"${count.data.loose[error]}\"`)\r\n\t\tlooseCheckPass = result\r\n\t}\r\n\r\n\tfunction notesCompleteCheck () {\r\n\t\tconst notesKeys = Object.keys(sampleState.data.notes)\r\n\t\tlet error: string | boolean = false\r\n\t\tconst result = notesKeys.reduce((acc, each) => {\r\n\t\t\tif (error) return acc\r\n\t\t\t// @ts-ignore\r\n\t\t\tif (!count.data.notes.hasOwnProperty(each)) error = each\r\n\t\t\t// @ts-ignore\r\n\t\t\tif (typeof count.data.notes[each] === 'number') return acc\r\n\t\t\t// @ts-ignore\r\n\t\t\tif (count.data.notes[each] === null) return false\r\n\t\t\terror = each\r\n\t\t\treturn false\r\n\t\t}, true)\r\n\t\tif (error) return failMissingData(`[Notes Coin Check]: invalid value for property \"${error}\". Expected null or number but recieved \"${count.data.notes[error]}\"`)\r\n\t\tnotesCheckPass = result\r\n\t}\r\n\r\n\tfunction assignPartialOrComplete () {\r\n\t\tconsole.log({ baggedCheckPass, looseCheckPass, notesCheckPass })\r\n\r\n\t\tfunction partial (message: string) {\r\n\t\t\treturn {\r\n\t\t\t\tcode: 'partial',\r\n\t\t\t\tmessage,\r\n\t\t\t\tverified,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (baggedCheckPass) {\r\n\t\t\tif (looseCheckPass && notesCheckPass) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tcode: 'complete',\r\n\t\t\t\t\tmessage: 'all values found',\r\n\t\t\t\t\tverified,\r\n\t\t\t\t}\t\r\n\t\t\t} else if (looseCheckPass) {\r\n\t\t\t\treturn partial('notes have missing values')\r\n\t\t\t} else if (notesCheckPass) {\r\n\t\t\t\treturn partial('loose coins have missing values')\r\n\t\t\t} else {\r\n\t\t\t\treturn partial('notes and loose coins have missing values')\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn {\r\n\t\t\t\tcode: 'incomplete',\r\n\t\t\t\tmessage: 'bagged coin has missing values',\r\n\t\t\t\tverified,\r\n\t\t\t}\t\r\n\t\t}\r\n\t}\r\n\r\n\t// # Verified type checks\r\n\t// isVerifiedCheck()\r\n\r\n\t// # Invalid type checks\r\n\t// missingDataCheck()\r\n\t// propsCheck()\r\n\t// checkAuthor()\r\n\t\r\n\t// # Partial type checks\r\n\t// baggedCompleteCheck\r\n\t\r\n\t// # Complete type checks\r\n\t// looseCompleteCheck\r\n\t// noteCompleteCheck\r\n\r\n\t// assignPartialOrComplete\r\n\t\r\n\t// if complete return complete\r\n\t// if partial return partial\r\n\r\n\tfunction callChecks () {\r\n\t\tconst tests = [isVerifiedCheck, missingDataCheck, propsCheck, checkAuthor, baggedCompleteCheck, looseCompleteCheck, notesCompleteCheck, assignPartialOrComplete]\r\n\t\ttests.forEach((each) => {\r\n\t\t\tconst res: any = each()\r\n\t\t\tif (res && !response) response = res\r\n\t\t})\r\n\t}\r\n\r\n\tcallChecks()\r\n\tif (response) return response\r\n\treturn {\r\n\t\tcode: 'incomplete',\r\n\t\tmessage: '[default] no count provided',\r\n\t\tverified,\r\n\t}\r\n}","const waitrose_brand_colors = {\r\n  primary: '#598d00',\r\n  highlight: '#BED800',\r\n  bgDark: '#004A32',\r\n  shade: '#2F6B38',\r\n  bgLight: '#FFFFFF'\r\n}\r\n\r\nexport default waitrose_brand_colors","import waitroseBrandColors from '../waitroseBrandColors'\r\n\r\nconst colors = {\r\n  transparent: \"transparent\",\r\n  current: \"currentColor\",\r\n  black: \"#000000\",\r\n  white: \"#FFFFFF\",\r\n\r\n  whiteAlpha: {\r\n    50: \"rgba(255, 255, 255, 0.04)\",\r\n    100: \"rgba(255, 255, 255, 0.06)\",\r\n    200: \"rgba(255, 255, 255, 0.08)\",\r\n    300: \"rgba(255, 255, 255, 0.16)\",\r\n    400: \"rgba(255, 255, 255, 0.24)\",\r\n    500: \"rgba(255, 255, 255, 0.36)\",\r\n    600: \"rgba(255, 255, 255, 0.48)\",\r\n    700: \"rgba(255, 255, 255, 0.64)\",\r\n    800: \"rgba(255, 255, 255, 0.80)\",\r\n    900: \"rgba(255, 255, 255, 0.92)\",\r\n  },\r\n\r\n  blackAlpha: {\r\n    50: \"rgba(0, 0, 0, 0.04)\",\r\n    100: \"rgba(0, 0, 0, 0.06)\",\r\n    200: \"rgba(0, 0, 0, 0.08)\",\r\n    300: \"rgba(0, 0, 0, 0.16)\",\r\n    400: \"rgba(0, 0, 0, 0.24)\",\r\n    500: \"rgba(0, 0, 0, 0.36)\",\r\n    600: \"rgba(0, 0, 0, 0.48)\",\r\n    700: \"rgba(0, 0, 0, 0.64)\",\r\n    800: \"rgba(0, 0, 0, 0.80)\",\r\n    900: \"rgba(0, 0, 0, 0.92)\",\r\n  },\r\n\r\n  gray: {\r\n    50: \"#F7FAFC\",\r\n    100: \"#EDF2F7\",\r\n    200: \"#E2E8F0\",\r\n    300: \"#CBD5E0\",\r\n    400: \"#A0AEC0\",\r\n    500: \"#718096\",\r\n    600: \"#4A5568\",\r\n    700: \"#2D3748\",\r\n    800: \"#1A202C\",\r\n    900: \"#171923\",\r\n  },\r\n\r\n  red: {\r\n    50: \"#FFF5F5\",\r\n    100: \"#FED7D7\",\r\n    200: \"#FEB2B2\",\r\n    300: \"#FC8181\",\r\n    400: \"#F56565\",\r\n    500: \"#E53E3E\",\r\n    600: \"#C53030\",\r\n    700: \"#9B2C2C\",\r\n    800: \"#822727\",\r\n    900: \"#63171B\",\r\n  },\r\n\r\n  orange: {\r\n    50: \"#FFFAF0\",\r\n    100: \"#FEEBC8\",\r\n    200: \"#FBD38D\",\r\n    300: \"#F6AD55\",\r\n    400: \"#ED8936\",\r\n    500: \"#DD6B20\",\r\n    600: \"#C05621\",\r\n    700: \"#9C4221\",\r\n    800: \"#7B341E\",\r\n    900: \"#652B19\",\r\n  },\r\n\r\n  yellow: {\r\n    50: \"#FFFFF0\",\r\n    100: \"#FEFCBF\",\r\n    200: \"#FAF089\",\r\n    300: \"#F6E05E\",\r\n    400: \"#ECC94B\",\r\n    500: \"#D69E2E\",\r\n    600: \"#B7791F\",\r\n    700: \"#975A16\",\r\n    800: \"#744210\",\r\n    900: \"#5F370E\",\r\n  },\r\n\r\n  green: {\r\n    50: \"#F0FFF4\",\r\n    100: \"#C6F6D5\",\r\n    200: \"#9AE6B4\",\r\n    300: \"#68D391\",\r\n    400: \"#48BB78\",\r\n    500: \"#38A169\",\r\n    600: \"#2F855A\",\r\n    700: \"#276749\",\r\n    800: \"#22543D\",\r\n    900: \"#1C4532\",\r\n  },\r\n\r\n  teal: {\r\n    50: \"#E6FFFA\",\r\n    100: \"#B2F5EA\",\r\n    200: \"#81E6D9\",\r\n    300: \"#4FD1C5\",\r\n    400: \"#38B2AC\",\r\n    500: \"#319795\",\r\n    600: \"#2C7A7B\",\r\n    700: \"#285E61\",\r\n    800: \"#234E52\",\r\n    900: \"#1D4044\",\r\n  },\r\n\r\n  blue: {\r\n    50: \"#ebf8ff\",\r\n    100: \"#bee3f8\",\r\n    200: \"#90cdf4\",\r\n    300: \"#63b3ed\",\r\n    400: \"#4299e1\",\r\n    500: \"#3182ce\",\r\n    600: \"#2b6cb0\",\r\n    700: \"#2c5282\",\r\n    800: \"#2a4365\",\r\n    900: \"#1A365D\",\r\n  },\r\n\r\n  cyan: {\r\n    50: \"#EDFDFD\",\r\n    100: \"#C4F1F9\",\r\n    200: \"#9DECF9\",\r\n    300: \"#76E4F7\",\r\n    400: \"#0BC5EA\",\r\n    500: \"#00B5D8\",\r\n    600: \"#00A3C4\",\r\n    700: \"#0987A0\",\r\n    800: \"#086F83\",\r\n    900: \"#065666\",\r\n  },\r\n\r\n  purple: {\r\n    50: \"#FAF5FF\",\r\n    100: \"#E9D8FD\",\r\n    200: \"#D6BCFA\",\r\n    300: \"#B794F4\",\r\n    400: \"#9F7AEA\",\r\n    500: \"#805AD5\",\r\n    600: \"#6B46C1\",\r\n    700: \"#553C9A\",\r\n    800: \"#44337A\",\r\n    900: \"#322659\",\r\n  },\r\n\r\n  pink: {\r\n    50: \"#FFF5F7\",\r\n    100: \"#FED7E2\",\r\n    200: \"#FBB6CE\",\r\n    300: \"#F687B3\",\r\n    400: \"#ED64A6\",\r\n    500: \"#D53F8C\",\r\n    600: \"#B83280\",\r\n    700: \"#97266D\",\r\n    800: \"#702459\",\r\n    900: \"#521B41\",\r\n  },\r\n\r\n  linkedin: {\r\n    50: \"#E8F4F9\",\r\n    100: \"#CFEDFB\",\r\n    200: \"#9BDAF3\",\r\n    300: \"#68C7EC\",\r\n    400: \"#34B3E4\",\r\n    500: \"#00A0DC\",\r\n    600: \"#008CC9\",\r\n    700: \"#0077B5\",\r\n    800: \"#005E93\",\r\n    900: \"#004471\",\r\n  },\r\n\r\n  facebook: {\r\n    50: \"#E8F4F9\",\r\n    100: \"#D9DEE9\",\r\n    200: \"#B7C2DA\",\r\n    300: \"#6482C0\",\r\n    400: \"#4267B2\",\r\n    500: \"#385898\",\r\n    600: \"#314E89\",\r\n    700: \"#29487D\",\r\n    800: \"#223B67\",\r\n    900: \"#1E355B\",\r\n  },\r\n\r\n  messenger: {\r\n    50: \"#D0E6FF\",\r\n    100: \"#B9DAFF\",\r\n    200: \"#A2CDFF\",\r\n    300: \"#7AB8FF\",\r\n    400: \"#2E90FF\",\r\n    500: \"#0078FF\",\r\n    600: \"#0063D1\",\r\n    700: \"#0052AC\",\r\n    800: \"#003C7E\",\r\n    900: \"#002C5C\",\r\n  },\r\n\r\n  whatsapp: {\r\n    50: \"#dffeec\",\r\n    100: \"#b9f5d0\",\r\n    200: \"#90edb3\",\r\n    300: \"#65e495\",\r\n    400: \"#3cdd78\",\r\n    500: \"#22c35e\",\r\n    600: \"#179848\",\r\n    700: \"#0c6c33\",\r\n    800: \"#01421c\",\r\n    900: \"#001803\",\r\n  },\r\n\r\n  twitter: {\r\n    50: \"#E5F4FD\",\r\n    100: \"#C8E9FB\",\r\n    200: \"#A8DCFA\",\r\n    300: \"#83CDF7\",\r\n    400: \"#57BBF5\",\r\n    500: \"#1DA1F2\",\r\n    600: \"#1A94DA\",\r\n    700: \"#1681BF\",\r\n    800: \"#136B9E\",\r\n    900: \"#0D4D71\",\r\n  },\r\n\r\n  telegram: {\r\n    50: \"#E3F2F9\",\r\n    100: \"#C5E4F3\",\r\n    200: \"#A2D4EC\",\r\n    300: \"#7AC1E4\",\r\n    400: \"#47A9DA\",\r\n    500: \"#0088CC\",\r\n    600: \"#007AB8\",\r\n    700: \"#006BA1\",\r\n    800: \"#005885\",\r\n    900: \"#003F5E\",\r\n  },\r\n\r\n  waitrose: {\r\n    ...waitroseBrandColors\r\n  },\r\n\r\n  theme_light: {\r\n    text: {\r\n      clickable: waitroseBrandColors.bgDark,\r\n      contrastGreen: '#FFFFFF',\r\n      darker: '#515151',\r\n      standard: '#717171',\r\n\t\t\tlight: '#9a9a9a',\r\n      lighter: '#C4C4C4',\r\n      invisable: '#DADADB', // #D5D6D8 30% alpha\r\n      menuActive: '#FFFFFF',\r\n      title: waitroseBrandColors.bgDark,\r\n      button: '#F3F3F3',\r\n      buttonActive: waitroseBrandColors.primary,\r\n    },\r\n    background: {\r\n      primary: '#EAEAEA',//'#f3f3f3',\r\n      secondary: '#7EC507',\r\n      button: '#FFFFFF',\r\n    },\r\n    ui: {\r\n      line: '#CACACA',\r\n      container: '#CACACA',\r\n      danger: '#CA6D6D',\r\n      dangerLight: '#E75858',\r\n      dangerDark: '#AF1C1C',\r\n      divider: '#ECF0F1',\r\n      bgInsetLight: '#F8F8F8',\r\n      bgInsetShaded: '#E2E2E2',\r\n      bgInsetDark: '#DEDEDE',\r\n    },\r\n\t\tinfo: {\r\n\t\t\tunfinished: '#ca6d6d',\r\n\t\t\tpartial: '#bed800',\r\n\t\t\tcomplete: '#004A32',\r\n\t\t\tunverified: '#3db8b5',\r\n\t\t}\r\n  },\r\n}\r\n\r\nexport default colors","const fonts = {\r\n  body: \"lato, Lato-Regular, lato-regular, 'Lato Regular', roboto, system-ui, sans-serif\",\r\n  heading: \"lato, Lato-Regular, roboto, system-ui, sans-serif, Georgia, serif\",\r\n  mono: \"lato, Lato-Regular, roboto, system-ui, sans-serif, Menlo, monospace\",\r\n}\r\n\r\nexport default fonts","const fontSizes = {\r\n  xs: \"0.75rem\",\r\n  sm: \"0.875rem\",\r\n  md: \"1rem\",\r\n  lg: \"1.125rem\",\r\n  xl: \"1.25rem\",\r\n  \"2xl\": \"1.5rem\",\r\n  \"3xl\": \"1.875rem\",\r\n  \"4xl\": \"2.25rem\",\r\n  \"5xl\": \"3rem\",\r\n  \"6xl\": \"3.75rem\",\r\n  \"7xl\": \"4.5rem\",\r\n  \"8xl\": \"6rem\",\r\n  \"9xl\": \"8rem\",\r\n}\r\n\r\nexport default fontSizes","const fontWeights = {\r\n  hairline: 100,\r\n  thin: 200,\r\n  light: 300,\r\n  normal: 400,\r\n  medium: 500,\r\n  semibold: 600,\r\n  bold: 700,\r\n  extrabold: 800,\r\n  black: 900,\r\n}\r\n\r\nexport default fontWeights","const lineHeights = {\r\n  normal: \"normal\",\r\n  none: 1,\r\n  shorter: 1.25,\r\n  short: 1.375,\r\n  base: 1.5,\r\n  tall: 1.625,\r\n  taller: \"2\",\r\n  \"3\": \".75rem\",\r\n  \"4\": \"1rem\",\r\n  \"5\": \"1.25rem\",\r\n  \"6\": \"1.5rem\",\r\n  \"7\": \"1.75rem\",\r\n  \"8\": \"2rem\",\r\n  \"9\": \"2.25rem\",\r\n  \"10\": \"2.5rem\",\r\n}\r\n\r\nexport default lineHeights","const letterSpacings = {\r\n  tighter: \"-0.05em\",\r\n  tight: \"-0.025em\",\r\n  normal: \"0\",\r\n  wide: \"0.025em\",\r\n  wider: \"0.05em\",\r\n  widest: \"0.1em\",\r\n}\r\n\r\nexport default letterSpacings ","const space = {\r\n  px: \"1px\",\r\n  0: \"0\",\r\n  0.5: \"0.125rem\",\r\n  1: \"0.25rem\",\r\n  1.5: \"0.375rem\",\r\n  2: \"0.5rem\",\r\n  2.5: \"0.625rem\",\r\n  3: \"0.75rem\",\r\n  3.5: \"0.875rem\",\r\n  4: \"1rem\",\r\n  5: \"1.25rem\",\r\n  6: \"1.5rem\",\r\n  7: \"1.75rem\",\r\n  8: \"2rem\",\r\n  9: \"2.25rem\",\r\n  10: \"2.5rem\",\r\n  12: \"3rem\",\r\n  14: \"3.5rem\",\r\n  16: \"4rem\",\r\n  20: \"5rem\",\r\n  24: \"6rem\",\r\n  28: \"7rem\",\r\n  32: \"8rem\",\r\n  36: \"9rem\",\r\n  40: \"10rem\",\r\n  44: \"11rem\",\r\n  48: \"12rem\",\r\n  52: \"13rem\",\r\n  56: \"14rem\",\r\n  60: \"15rem\",\r\n  64: \"16rem\",\r\n  72: \"18rem\",\r\n  80: \"20rem\",\r\n  96: \"24rem\",\r\n}\r\n\r\nexport default space","import space from './space'\r\n\r\nconst sizes = {\r\n  ...space,\r\n  max: \"max-content\",\r\n  min: \"min-content\",\r\n  full: \"100%\",\r\n  \"3xs\": \"14rem\",\r\n  \"2xs\": \"16rem\",\r\n  xs: \"20rem\",\r\n  sm: \"24rem\",\r\n  md: \"28rem\",\r\n  lg: \"32rem\",\r\n  xl: \"36rem\",\r\n  \"2xl\": \"42rem\",\r\n  \"3xl\": \"48rem\",\r\n  \"4xl\": \"56rem\",\r\n  \"5xl\": \"64rem\",\r\n  \"6xl\": \"72rem\",\r\n  \"7xl\": \"80rem\",\r\n  \"8xl\": \"90rem\",\r\n  container: {\r\n    sm: \"640px\",\r\n    md: \"768px\",\r\n    lg: \"1024px\",\r\n    xl: \"1280px\",\r\n  },\r\n}\r\n\r\nexport default sizes","const radii = {\r\n  none: \"0\",\r\n  sm: \"0.125rem\",\r\n  base: \"0.25rem\",\r\n  md: \"0.375rem\",\r\n  lg: \"0.5rem\",\r\n  xl: \"0.75rem\",\r\n  \"2xl\": \"1rem\",\r\n  \"3xl\": \"1.5rem\",\r\n  full: \"9999px\",\r\n}\r\n\r\nexport default radii","const zIndices = {\r\n  hide: -1,\r\n  auto: \"auto\",\r\n  base: 0,\r\n  docked: 10,\r\n  dropdown: 1000,\r\n  sticky: 1100,\r\n  banner: 1200,\r\n  overlay: 1300,\r\n  modal: 1400,\r\n  popover: 1500,\r\n  skipLink: 1600,\r\n  toast: 1700,\r\n  tooltip: 1800,\r\n}\r\n\r\nexport default zIndices","// import waitroseBrandColors from '../waitroseBrandColors'\r\n\r\nconst fontFamily = ['lato', 'roboto', 'sans-serif']\r\n\r\nconst styles = {\r\n  global: {\r\n    body: {\r\n      color: 'theme_light.text.standard',\r\n      fontFamily,\r\n\r\n    },\r\n\t\tbutton: {\r\n\t\t\th: 'auto'\r\n\t\t}\r\n  }\r\n}\r\n\r\nexport default styles","const standard = {\r\n\th: 'auto !important',\r\n\tfontWeight: \"normal\",\r\n\tlineHeight: 'normal',\r\n\t// height: '0.7em',\r\n\tcolor: 'theme_light.text.contrastGreen',\r\n\tborder: \"2px solid\",\r\n\tborderColor: \"waitrose.primary\",\r\n\tbgColor: \"waitrose.primary\",\r\n\tp: \"8px 16px\",\r\n\tmargin: '0 4px',\r\n\t_hover: {\r\n\t\tborderColor: '#7EC507',\r\n\t\tbgColor: '#7EC507',\r\n\t},\r\n\t_active: {\r\n\t\tborderColor: 'waitrose.bgDark',\r\n\t\tbgColor: 'waitrose.bgDark',\r\n\t},\r\n}\r\n\r\nconst Button = {\r\n  // The styles all button have in common\r\n  baseStyle: {\r\n\t\t...standard\r\n\t},\r\n  // Two sizes: sm and md\r\n  sizes: {\r\n    sm: {\r\n\t\t\th: 'auto !important',\r\n      fontSize: \"12px\",\r\n      p: \"4px 4px\",\r\n      padding: \"4px 4px\",\r\n\t\t\tborderRadius: '.15rem',\r\n    },\r\n    md: {\r\n      fontSize: \"16px\",\r\n      p: \"8px 16px\",\r\n    },\r\n    lg: {\r\n      fontSize: \"20px\",\r\n      p: \"12px 20px\",\r\n    },\r\n  },\r\n  // Two variants: outline and solid\r\n  variants: {\r\n\t\tstandard,\r\n\t\tlink: {\r\n\t\t\tborder: 'none',\r\n\t\t\tbackground: 'none',\r\n\t\t\ttextDecoration: 'none',\r\n\t\t\tcursor: 'pointer',\r\n\t\t\tcolor: 'waitrose.primary',\r\n\t\t\t_hover: {\r\n\t\t\t\ttextDecoration: 'none',\r\n\t\t\t\tbg: 'none',\r\n\t\t\t\tcolor: 'theme_light.text.clickable',\r\n\t\t\t},\r\n\t\t\t_active: {\r\n\t\t\t\tcolor: '#7EC507',\r\n\t\t\t\tbg: 'none',\r\n\t\t\t\ttextDecoration: 'none',\r\n\t\t\t},\r\n\t\t},\r\n    outline: {\r\n\t\t\tcolor: 'waitrose.primary',\r\n\t\t\tborder: \"2px solid\",\r\n      borderColor: \"waitrose.primary\",\r\n      bgColor: \"rgba(0,0,0,0)\",\r\n\t\t\tfontWeight: 'normal',\r\n\t\t\tpadding: '16px 24px',\r\n\t\t\tmargin: '0 4px',\r\n\t\t\t_hover: {\r\n\t\t\t\tborderColor: \"waitrose.primary\",\r\n\t\t\t\tbgColor: 'waitrose.primary',\r\n\t\t\t\tbackground: 'waitrose.primary',\r\n\t\t\t\tcolor: 'theme_light.text.contrastGreen',\r\n\t\t\t},\r\n\t\t\t_active: {\r\n\t\t\t\tborderColor: \"waitrose.bgDark\",\r\n\t\t\t\tbgColor: 'waitrose.bgDark',\r\n\t\t\t\tbackground: 'waitrose.bgDark',\r\n\t\t\t\tcolor: '#FFFFFF',\r\n\t\t\t},\r\n    },\r\n    solid: {\r\n      bg: \"green.500\",\r\n      color: \"white\",\r\n    },\r\n\t\tui: {\r\n\t\t\tborder: '2px solid',\r\n\t\t\tmarginY: '2px',\r\n\t\t\tborderColor: '#EAEAEA',\r\n\t\t\th: 'auto',\r\n\t\t\tbgColor: '#EAEAEA', // formally #f3f3f3\r\n\t\t\tcolor: 'theme_light.text.standard',\r\n\t\t\t_hover: {\r\n\t\t\t\tborderColor: '#D3D3D3',\r\n\t\t\t\tbgColor: '#D3D3D3',\r\n\t\t\t\tcolor: 'theme_light.text.darker'\r\n\t\t\t},\r\n\t\t\t_active: {\r\n\t\t\t\tborderColor: '#C4C4C4',\r\n\t\t\t\tbgColor: '#C4C4C4',\r\n\t\t\t},\r\n\t\t\t_focus: {\r\n\t\t\t\tboxShadow: '0 0 0 2px #5EAFFB',//'0 0 0 2px rgba(22, 129, 191, .6)',\r\n\t\t\t\tborderColor: '#5EAFFB',\r\n\t\t\t}\r\n\t\t},\r\n\t\ttransparent: {\r\n\t\t\tbgColor: 'none',\r\n\t\t\tborderColor: 'waitrose.primary',\r\n\t\t\tcolor: 'waitrose.primary',\r\n\t\t\t_hover: {\r\n\t\t\t\tcolor: 'white',\r\n\t\t\t\tborderColor: 'waitrose.primary',\r\n\t\t\t\tbgColor: 'waitrose.primary',\r\n\t\t\t},\r\n\t\t\t_active: {\r\n\t\t\t\tcolor: 'white',\r\n\t\t\t\tbgColor: 'waitrose.bgDark',\r\n\t\t\t\tborderColor: 'waitrose.bgDark'\r\n\t\t\t},\r\n\t\t},\r\n\t\tprimary: {\r\n\t\t\tborderRadius: '20px',\r\n\t\t},\r\n\t\twarning: {},\r\n\t\tdanger: {\r\n\t\t\tbgColor: 'theme_light.ui.danger',\r\n\t\t\tborderColor: 'theme_light.ui.danger',\r\n\t\t\tcolor: '#ffffff',\r\n\t\t\t_hover: {\r\n\t\t\t\tbgColor: 'theme_light.ui.dangerLight',\r\n\t\t\t\tborderColor: 'theme_light.ui.dangerLight',\r\n\t\t\t\t// color: '#ffffff',\r\n\t\t\t},\r\n\t\t\t_active: {\r\n\t\t\t\tbgColor: 'theme_light.ui.dangerDark',\r\n\t\t\t\tborderColor: 'theme_light.ui.dangerDark',\r\n\t\t\t\t// color: '#ffffff',\r\n\t\t\t},\r\n\t\t},\r\n\t\tdangerOutline: {\r\n\t\t\tbg: 'none',\r\n\t\t\tborder: '2px solid',\r\n\t\t\tborderColor: 'theme_light.ui.danger',\r\n\t\t\tcolor: 'theme_light.ui.danger',\r\n\t\t\t_hover: {\r\n\t\t\t\tbgColor: 'theme_light.ui.danger',\r\n\t\t\t\tborderColor: 'theme_light.ui.danger',\r\n\t\t\t\tcolor: '#ffffff',\r\n\t\t\t},\r\n\t\t\t_active: {\r\n\t\t\t\tbgColor: 'theme_light.ui.dangerDark',\r\n\t\t\t\tborderColor: 'theme_light.ui.dangerDark',\r\n\t\t\t\t// color: '#ffffff',\r\n\t\t\t},\r\n\t\t},\r\n\t\tdangerLink: {\r\n\t\t\tbg: 'none',\r\n\t\t\tborder: '2px solid',\r\n\t\t\tborderColor: 'rgba(0,0,0,0)',\r\n\t\t\tfontWeight: 'bold',\r\n\t\t\tcolor: 'theme_light.ui.danger',\r\n\t\t\t_hover: {\r\n\t\t\t\tbg: 'none',\r\n\t\t\t\tborderColor: 'rgba(0,0,0,0)',\r\n\t\t\t\tcolor: 'theme_light.ui.dangerLight',\r\n\t\t\t},\r\n\t\t\t_active: {\r\n\t\t\t\tbg: 'none',\r\n\t\t\t\tborderColor: 'rgba(0,0,0,0)',\r\n\t\t\t\tcolor: 'theme_light.ui.dangerDark',\r\n\t\t\t},\r\n\t\t},\r\n  },\r\n  // The default size and variant values\r\n  defaultProps: {\r\n    size: \"md\",\r\n    variant: \"standard\",\r\n\t\th: 'auto',\r\n  },\r\n}\r\n\r\nexport default Button","import Heading from './Heading'\r\nimport Button from './Button'\r\nimport Text from './Text'\r\nimport FormLabel from './FormLabel'\r\nimport Input from './Input'\r\nimport Textarea from './Textarea'\r\nimport Select from './Select'\r\n\r\nconst components = {\r\n  Heading,\r\n  Button,\r\n  Text,\r\n  FormLabel,\r\n\tInput,\r\n\tTextarea,\r\n\tSelect,\r\n}\r\n\r\nexport default components","const Heading = {\r\n  baseStyle: {\r\n    // fontFamily: \"lato, roboto, system-ui, sans-serif\",\r\n    // font: \"lato, roboto, system-ui, sans-serif\",\r\n    color: 'theme_light.text.standard',\r\n    padding: '.35rem 0',\r\n  },\r\n  sizes: {\r\n    '2xl': {\r\n      color: 'theme_light.text.title'\r\n    }\r\n    // lg: {\r\n    //   fontSize: '32px'\r\n    // },\r\n    // sm: {\r\n    //   fontSize: '24px'\r\n    // }\r\n  },\r\n  variants: {\r\n\t\tprimary: {\r\n\t\t\tcolor: 'theme_light.text.title'\r\n\t\t}\r\n  },\r\n  defaultProps: {}\r\n}\r\n\r\nexport default Heading","const Text = {\r\n  baseStyle: {\r\n    color: 'theme_light.text.standard',\r\n    padding: '.2rem 0',\r\n  },\r\n  sizes: {},\r\n  variants: {\r\n\t\tdanger: {\r\n\t\t\tcolor: 'theme_light.ui.danger',\r\n\t\t},\r\n    faded: {\r\n      color: 'theme_light.text.invisable',\r\n    }\r\n  },\r\n  defaultProps: {},\r\n}\r\n\r\nexport default Text","const FormLabel = {\r\n  baseStyle: {\r\n    color: 'theme_light.text.standard'\r\n  },\r\n  sizes: {},\r\n  variants: {},\r\n  defaultProps: {},\r\n}\r\n\r\nexport default FormLabel","// import { mode } from '@chakra-ui/theme-tools'\r\n\r\nconst Input = {\r\n  baseStyle: {\r\n\t\t// backgroundColor: '#f8f8f8',\r\n\t\t// color: 'theme_light.text.invisable',\r\n\t\tcolor: 'red',\r\n\t\tm: '20px',\r\n\t\t// borderTop: 'none',\r\n\t\t// borderLeft: 'none',\r\n\t\t// borderRight: 'none',\r\n\t\t// borderBottom: '1px solid #c4c4c4',\r\n\t}\r\n}\r\n\r\nexport default Input","const Textarea = {\r\n\tbaseStyle: {\r\n\t\tbgColor: '#f8f8f8',\r\n\t\t// color: 'theme_light.text.invisable',\r\n\t\t// borderTop: 'none',\r\n\t\t// borderLeft: 'none',\r\n\t\t// borderRight: 'none',\r\n\t\t// borderBottom: '1px solid #c4c4c4',\r\n\t}\r\n}\r\n\r\nexport default Textarea","const Select = {\r\n\tbaseStyle: {\r\n\t\tcolor: 'red',\r\n\t\tborderRadius: '0',\r\n\t\tbg: 'blue',\r\n\t},\r\n\tvariants: {\r\n\t\toutline: {\r\n\t\t\tborderRadius: '0',\r\n\t\t\tcolor: 'red',\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default Select","import colors from './colors'\r\nimport fonts from './fonts'\r\nimport fontSizes from './fontSizes'\r\nimport fontWeights from './fontWeights'\r\nimport lineHeights from './lineHeights'\r\nimport letterSpacings from './letterSpacings'\r\nimport space from './space'\r\nimport sizes from './sizes'\r\nimport radii from './radii'\r\nimport zIndices from './zIndices'\r\n\r\nimport styles from './styles'\r\nimport components from './components'\r\n\r\nimport '../../fonts/Lato/Lato-Black.ttf'\r\nimport '../../fonts/Lato/Lato-BlackItalic.ttf'\r\nimport '../../fonts/Lato/Lato-Bold.ttf'\r\nimport '../../fonts/Lato/Lato-BoldItalic.ttf'\r\nimport '../../fonts/Lato/Lato-Italic.ttf'\r\nimport '../../fonts/Lato/Lato-Light.ttf'\r\nimport '../../fonts/Lato/Lato-LightItalic.ttf'\r\nimport '../../fonts/Lato/Lato-Regular.ttf'\r\nimport '../../fonts/Lato/Lato-Thin.ttf'\r\nimport '../../fonts/Lato/Lato-ThinItalic.ttf'\r\n\r\nconst customTheme = {\r\n  // ========== Typography ==========\r\n  colors,\r\n  fonts,\r\n  fontSizes,\r\n  fontWeights,\r\n  lineHeights,\r\n  letterSpacings,\r\n  // ========== Spacing ==========\r\n  space,\r\n  // ========== Sizes ==========\r\n  sizes,\r\n  // ========== Border Radius ==========\r\n  radii,\r\n  // ========== Z-Index Values ==========\r\n  zIndices,\r\n  styles,\r\n  components,\r\n}\r\n\r\nexport default customTheme","export default __webpack_public_path__ + \"static/media/Lato-Black.0b51cf32.ttf\";","export default __webpack_public_path__ + \"static/media/Lato-BlackItalic.8b75b50d.ttf\";","export default __webpack_public_path__ + \"static/media/Lato-Bold.5dd5aa02.ttf\";","export default __webpack_public_path__ + \"static/media/Lato-BoldItalic.4113fd37.ttf\";","export default __webpack_public_path__ + \"static/media/Lato-Italic.0b4ed003.ttf\";","export default __webpack_public_path__ + \"static/media/Lato-Light.bfc37ff1.ttf\";","export default __webpack_public_path__ + \"static/media/Lato-LightItalic.d04e35ca.ttf\";","export default __webpack_public_path__ + \"static/media/Lato-Regular.9919edff.ttf\";","export default __webpack_public_path__ + \"static/media/Lato-Thin.01923cbb.ttf\";","export default __webpack_public_path__ + \"static/media/Lato-ThinItalic.c47d267d.ttf\";","import ActionTypes from '../constants/actionTypes'\r\nimport {\r\n\tThunkDispatch,\r\n} from 'redux-thunk'\r\n\r\nimport { FlashCatts } from '../global'\r\n\r\n// ThunkAction<R> = (dispatch, getState, extraArgument) => R\r\n\r\n// ThunkDispatch<S, E, A extends Action<any>>\r\n// S = Type of root state. The return value from getState()\r\n// E = Type of extra arguments passed to the thunk action\r\n// A = Action type. Should extend action.\r\n\r\nconst getOptions = () => ({\r\n\tmethod: 'GET',\r\n\theaders: {\r\n\t\t'Content-Type': 'application/json'\r\n\t},\r\n})\r\n\r\nconst postOptions = (body: any) => ({\r\n\tmethod: 'POST',\r\n\theaders: {\r\n\t\t'Content-Type': 'application/json'\r\n\t},\r\n\tbody,\r\n})\r\n\r\nconst putOptions = (body: any) => ({\r\n\tmethod: 'PUT',\r\n\theaders: {\r\n\t\t'Content-Type': 'application/json'\r\n\t},\r\n\tbody,\r\n})\r\n\r\nexport const countsDataWriteAll = (page?: number, pageLength?: number) => async (dispatch: ThunkDispatch<any, any, any>) => {\r\n\tconst EXT = `/api/v1/count?deleted=false&page=${page || 0}&pagelength=${pageLength || 10}`\r\n\tconsole.log(EXT)\r\n\tconst res = await fetch(EXT, getOptions())\r\n\tconst data = await res.json()\r\n\tconsole.log(data)\r\n\tdispatch({\r\n\t\ttype: ActionTypes.COUNTS_DATA_WRITE_ALL,\r\n\t\tpayload: data.counts,\r\n\t})\r\n}\r\n\r\n// TODO: change this to countsDataCreateSingle - it does more than write to redux\r\nexport const countsDataWriteSingle = (body: any) => async (dispatch: ThunkDispatch<any, any, any>) => {\r\n\tconst EXT = '/api/v1/count/'\r\n\tconst res = await fetch(EXT, postOptions(body))\r\n\tconst data = await res.json()\r\n\tdispatch({\r\n\t\ttype: ActionTypes.COUNTS_DATA_WRITE_SINGLE,\r\n\t\tpayload: data.count\r\n\t})\r\n}\r\n\r\nexport const countsDataWriteMultiple = (page?: number, pageLength?: number, repo?: number | string) => async (dispatch: ThunkDispatch<any, any, any>) => {\r\n\tlet EXT = `/api/v1/count?deleted=false&page=${page || 0}&pagelength=${pageLength || 10}`\r\n\tif (repo) EXT += `&repository=${repo}`\r\n\tconsole.log(EXT)\r\n\tconst res = await fetch(EXT, getOptions())\r\n\tconst data = await res.json()\r\n\tconsole.log(data)\r\n\tdispatch({\r\n\t\ttype: ActionTypes.COUNTS_DATA_WRITE_MULTIPLE,\r\n\t\tpayload: data.counts,\r\n\t})\r\n}\r\n\r\nexport const countsDataUpdateSingle = (count: any) => async (dispatch: ThunkDispatch<any, any, any>) => {\r\n\tconst EXT = `/api/v1/count/${count._id}`\r\n\tconst res = await fetch(EXT, putOptions(count))\r\n\tconst data = await res.json()\r\n\tdispatch({\r\n\t\ttype: ActionTypes.COUNTS_DATA_UPDATE_SINGLE,\r\n\t\tpayload: data.counts\r\n\t})\r\n}\r\n\r\nexport const countsServerTotalWrite = () => async (dispatch: ThunkDispatch<any, any, any>) => {\r\n\tconst EXT = `/api/v1/count/total`\r\n\tconst res = await fetch(EXT, getOptions())\r\n\tconst data = await res.json()\r\n\tdispatch({\r\n\t\ttype: ActionTypes.COUNTS_SERVER_TOTAL_WRITE,\r\n\t\tpayload: data.total['count(*)']\r\n\t})\r\n}\r\n\r\n// deleteCount\r\n\r\nexport const uiFlashWriteOne = (title: string, description: string, catt?: FlashCatts, duration?: string | number) => ({\r\n\ttype: ActionTypes.UI_FLASH_WRITE_ONE,\r\n\tpayload: {\r\n\t\ttitle,\r\n\t\tdescription,\r\n\t\tcatt,\r\n\t\tduration: duration || null\r\n\t}\r\n})\r\n\r\nexport const uiFlashRemoveOne = (id: string) => ({\r\n\ttype: ActionTypes.UI_FLASH_REMOVE_ONE,\r\n\tpayload: id\r\n})\r\n\r\n\r\n\r\n\r\nexport const authUsersWriteAll = () => async (dispatch: ThunkDispatch<any, any, any>) => {\r\n\tconst EXT = '/api/v1/user?deleted=false'\r\n\tconst OPTS = getOptions()\r\n\tconst res = await fetch(EXT, OPTS)\r\n\tconst data = await res.json()\r\n\tconsole.log(data)\r\n\tdispatch({\r\n\t\ttype: ActionTypes.AUTH_USERS_WRITE_ALL,\r\n\t\tpayload: data.users,\r\n\t})\r\n}\r\n\r\nexport const authPartnersWriteAll = () => async (dispatch: ThunkDispatch<any, any, any>) => {\r\n\tconst EXT = '/api/v1/partner?deleted=false'\r\n\tconst OPTS = getOptions()\r\n\tconst res = await fetch(EXT, OPTS)\r\n\tconst data = await res.json()\r\n\tdispatch({\r\n\t\ttype: ActionTypes.AUTH_PARTNER_WRITE_ALL,\r\n\t\tpayload: data.partners\r\n\t})\r\n}\r\n\r\n\r\nexport const repositoriesWriteAll = () => async (dispatch: ThunkDispatch<any, any, any>) => {\r\n\tconst EXT = '/api/v1/repository?deleted=false'\r\n\tconst OPTS = getOptions()\r\n\tconst res = await fetch(EXT, OPTS)\r\n\tconst data = await res.json()\r\n\tdispatch({\r\n\t\ttype: ActionTypes.REPOSITORIES_WRITE_ALL,\r\n\t\tpayload: data.repositories,\r\n\t})\r\n}","import React from 'react'\r\nimport { \r\n  Flex, \r\n  Heading, \r\n  Divider,\r\n\tBox,\r\n\tButton\r\n } from '@chakra-ui/react'\r\n import {\r\n\t ChevronLeftIcon\r\n } from '@chakra-ui/icons'\r\n\r\ninterface Props {\r\n  title: string | number\r\n\tnavWidth?: string | number\r\n}\r\n\r\nconst Header: React.FC<Props> = ({\r\n  title,\r\n\tnavWidth\r\n}) => {\r\n  return (\r\n    <Flex\r\n\t\t\tdirection='row'\r\n\t\t>\r\n\t\t\t<Button\r\n\t\t\t\tm='0'\r\n\t\t\t\tborderRadius='0'\r\n\t\t\t\twidth={navWidth ? navWidth : 'auto'}\r\n\t\t\t\ttransition='background 250ms, border 250ms'\r\n\t\t\t>\r\n\t\t\t\t<ChevronLeftIcon />\r\n\t\t\t\tExit\r\n\t\t\t</Button>\r\n\t\t\t<Flex\r\n\t\t\t\tdirection='column'\r\n\t\t\t\tflex='1'\r\n\t\t\t>\r\n\t\t\t\t<Heading \r\n\t\t\t\t\tas='h1' \r\n\t\t\t\t\tsize='xl' \r\n\t\t\t\t\tvariant='primary'\r\n\t\t\t\t\talignSelf='flex-start'\r\n\t\t\t\t\tp='10px 40px'\r\n\t\t\t\t>\r\n\t\t\t\t\t{ title }\r\n\t\t\t\t</Heading>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tpadding='0 40px'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Divider \r\n\t\t\t\t\t\torientation='horizontal' \r\n\t\t\t\t\t\theight='1px' \r\n\t\t\t\t\t\tbg='theme_light.text.darker'\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Box>\r\n\t\t\t</Flex>\r\n    </Flex>\r\n  )\r\n}\r\n\r\nexport default Header","import React from 'react'\r\nimport { Link, ListItem } from '@chakra-ui/react'\r\nimport { useLocation } from 'react-router-dom'\r\n\r\nconst NavLink: React.FC<any> = (props: any) => {\r\n\tconst location = useLocation()\r\n\tconst current = location.pathname === props.to\r\n\tconst borderWeight = '5px'\r\n\tconst borderLeft = current ? `${borderWeight} solid #fff` : `${borderWeight} solid rgba(0,0,0,0)`\r\n\tconst fontWeight = props.primary ? `bold` : `normal`\r\n\treturn (\r\n\t\t<ListItem\r\n\t\t\tm='20px 0'\r\n\t\t\tp='4px 16px'\r\n\t\t\tborderLeft={borderLeft}\r\n\t\t\tfontWeight={fontWeight}\r\n\t\t>\r\n\t\t\t<Link \r\n\t\t\t\t{...props}\r\n\t\t\t\thref={`#${props.to}`}\r\n\t\t\t\tcolor='waitrose.bgLight'\r\n\t\t\t\tfontSize='1.2em'\r\n\t\t\t/>\r\n\t\t</ListItem>\r\n\t)\r\n}\r\n\r\nexport default NavLink","import React from 'react'\r\nimport {\r\n  Flex,\r\n  Divider,\r\n\tUnorderedList,\r\n} from '@chakra-ui/react'\r\n// import { NavLink } from 'react-router-dom'\r\nimport NavLink from './NavLink'\r\n\r\ninterface Props {\r\n  colStart?: any\r\n  colEnd?: any\r\n  rowStart?: any\r\n  rowEnd?: any\r\n}\r\n\r\nconst Nav: React.FC<Props> = () => {\r\n  return (\r\n    <Flex\r\n\t\t\tdirection='column'\r\n\t\t\tbgColor='waitrose.primary'\r\n\t\t\th='100%'\r\n\t\t\ttextAlign='left'\r\n\t\t\t// w='100%'\r\n\t\t\t// border='1px solid'\r\n\t\t\t// borderColor='red'\r\n\t\t>\r\n      <nav>\r\n        <UnorderedList\r\n\t\t\t\t\tstyleType='none'\r\n\t\t\t\t\tm='0px'\r\n\t\t\t\t>\r\n          <Divider />\r\n\t\t\t\t\t<NavLink to='/repositories' primary='true' current='true'>\r\n\t\t\t\t\t\tRepositories\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t<Divider />\r\n\t\t\t\t\t<NavLink to='/counts' primary='true'>\r\n\t\t\t\t\t\tCounts\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t<NavLink to='/count/new'>\r\n\t\t\t\t\t\tNew Count\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t<NavLink to='/incomplete-counts'>\r\n\t\t\t\t\t\tIncomplete Counts\r\n\t\t\t\t\t</NavLink>\r\n          <Divider />\r\n\t\t\t\t\t<NavLink to='/users' primary='true'>\r\n\t\t\t\t\t\tUsers\r\n\t\t\t\t\t</NavLink>\r\n          <Divider />\r\n        </UnorderedList>\r\n      </nav>\r\n    </Flex>\r\n  )\r\n}\r\n\r\nexport default Nav","import React, { useState } from 'react'\r\n\r\nimport {\r\n\tBox,\r\n\tHeading,\r\n\tText,\r\n\tButton,\r\n\tFlex,\r\n} from '@chakra-ui/react'\r\nimport {\r\n\tCloseIcon\r\n} from '@chakra-ui/icons'\r\nimport { useEffect } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { uiFlashRemoveOne } from '../../actions'\r\n\r\nconst SingleFlash: React.FC<any> = ({\r\n\ttitle,\r\n\tdescription,\r\n\tcatt,\r\n\tduration,\r\n\tid,\r\n}) => {\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst [timer, setTimer]: [any, any] = useState(null)\r\n\tconst [translate, setTranslate] = useState('translate(-100%, -50%)')\r\n\r\n\tuseEffect(() => {\r\n\t\tsetTranslate('translate(0%, 0%)')\r\n\t\tif (duration) {\r\n\t\t\tsetTimer(setTimeout(removeFlash, duration))\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\tfunction suspendTimer () {\r\n\t\tsetTimer(clearTimeout(timer))\r\n\t}\r\n\r\n\tfunction removeFlash () {\r\n\t\tsetTranslate('translate(-120%, 0%)')\r\n\t\tsetTimeout(() => {\r\n\t\t\tdispatch(uiFlashRemoveOne(id))\r\n\t\t}, 1000)\r\n\t}\r\n\r\n\tfunction statusColor () {\r\n\t\tswitch (catt) {\r\n\t\t\tcase 'unverified':\r\n\t\t\tcase 'info':\r\n\t\t\t\treturn 'theme_light.info.unverified'\r\n\t\t\tcase 'complete':\r\n\t\t\t\treturn 'theme_light.info.complete'\r\n\t\t\tcase 'partial':\r\n\t\t\t\treturn 'theme_light.info.partial'\r\n\t\t\tcase 'danger':\r\n\t\t\tcase 'incomplete':\r\n\t\t\t\treturn 'theme_light.info.unfinished'\r\n\t\t\tdefault:\r\n\t\t\t\treturn 'theme_light.text.standard'\r\n\t\t}\r\n\t}\r\n\r\n\tconst topPadd = '18px'\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tbgColor='waitrose.bgLight'\r\n\t\t\tp='0px 0px 0px 20px'\r\n\t\t\tmy='5px'\r\n\t\t\tborderLeft='15px solid'\r\n\t\t\tdisplay='flex'\r\n\t\t\talignItems='stretch'\r\n\t\t\tjustifyContent='space-between'\r\n\t\t\tborderColor={statusColor()}\r\n\t\t\tboxShadow='5px 5px 10px rgba(0,0,0,.3)'\r\n\t\t\ttransform={translate}\r\n\t\t\ttransition='transform .2s linear'\r\n\t\t\tonMouseOver={suspendTimer}\r\n\t\t\tw='100%'\r\n\t\t\t_hover={{\r\n\t\t\t\tbgColor: '#f2f2f2'\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<Flex\r\n\t\t\t\talignItems='center'\r\n\t\t\t>\r\n\t\t\t\t<Heading\r\n\t\t\t\t\tfontSize='1.2em'\r\n\t\t\t\t\tpy={topPadd}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle\r\n\t\t\t\t\t}\r\n\t\t\t\t</Heading>\r\n\t\t\t\t<Text\r\n\t\t\t\t\tfontSize='1.1em'\r\n\t\t\t\t\tpx='1em'\r\n\t\t\t\t\tpy={topPadd}\r\n\t\t\t\t>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdescription\r\n\t\t\t\t\t}\r\n\t\t\t\t</Text>\r\n\t\t\t</Flex>\r\n\t\t\t<Button\r\n\t\t\t\th='1mm00%'\r\n\t\t\t\tm='0'\r\n\t\t\t\tborderRadius='0'\r\n\t\t\t\tbgColor='waitrose.bgLight'\r\n\t\t\t\tcolor='theme_light.text.standard'\r\n\t\t\t\tborder='none'\r\n\t\t\t\t_hover={{\r\n\t\t\t\t\tbgColor: 'theme_light.text.invisable'\r\n\t\t\t\t}}\r\n\t\t\t\t_active={{\r\n\t\t\t\t\tbgColor: 'theme_light.text.light'\r\n\t\t\t\t}}\r\n\t\t\t\tonClick={removeFlash}\r\n\t\t\t>\r\n\t\t\t\t<CloseIcon />\r\n\t\t\t</Button>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default SingleFlash","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nimport {\r\n\tFlex,\r\n} from '@chakra-ui/react'\r\n\r\nimport SingleFlash from './SingleFlash'\r\n\r\nconst Flash: React.FC = () => {\r\n\tconst { flash } = useSelector((s: any) => s.ui)\r\n\treturn (\r\n\t\t<Flex\r\n\t\t\tposition='fixed'\r\n\t\t\tbottom='10px'\r\n\t\t\tleft='10px'\r\n\t\t\tw='30vw'\r\n\t\t\tdirection='column'\r\n\t\t>\r\n\t\t\t{\r\n\t\t\t\tflash.map((each: any, idx: any) => (\r\n\t\t\t\t\t<SingleFlash \r\n\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t{...each}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))\r\n\t\t\t}\r\n\t\t</Flex>\r\n\t)\r\n}\r\n\r\nexport default Flash","import React from 'react'\r\nimport {\r\n\tGrid,\r\n\tGridItem,\r\n} from '@chakra-ui/react'\r\n\r\nimport Header from './Header/'\r\nimport Nav from './Nav/'\r\nimport Flash from './Flash'\r\n\r\ninterface Props {\r\n\ttitle: string\r\n\tchildren: React.ReactChild[]\r\n}\r\n\r\nconst Dashboard: React.FC<any> = ({\r\n\tchildren,\r\n\ttitle,\r\n}: Props) => {\r\n\tconst navWidth = '15vw'\r\n\treturn (\r\n\t\t<Grid \r\n      className=\"Page-Dashboard\"\r\n      templateColumns={`${navWidth} 1fr`}\r\n      templateRows='auto 1fr'\r\n      h='100vh'\r\n\t\t\tbgColor='theme_light.background.primary'\r\n    >\r\n\t\t\t<GridItem\r\n\t\t\t\tcolStart={1}\r\n\t\t\t\tcolEnd={-1}\r\n\t\t\t>\r\n\t      <Header \r\n\t\t\t\t\ttitle={title} \r\n\t\t\t\t\tnavWidth={navWidth}\r\n\t\t\t\t/>\r\n\t\t\t</GridItem>\r\n      <GridItem\r\n        rowStart={2}\r\n        rowEnd={-1}\r\n      >\r\n        <Nav />\r\n      </GridItem>\r\n\t\t\t<GridItem \r\n        w='100%' \r\n        p='2em 40px'\r\n        textAlign='left'\r\n        bg='theme_light.background.primary'\r\n        colStart={2}\r\n        colEnd={2}\r\n        rowStart={2}\r\n        rowEnd={2}\r\n\t\t\t\tbgColor='theme_light.background.primary'\r\n\t\t\t\t\r\n      >\r\n\t\t\t\t{ children }\r\n\t\t\t</GridItem>\r\n\t\t\t<Flash />\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nexport default Dashboard","import React from 'react'\r\n\r\nconst Login: React.FC = () => {\r\n  return (<>Login Page</>)\r\n}\r\n\r\nexport default Login","/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport React, { \r\n\tuseEffect, \r\n\tuseState,\r\n} from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { css, jsx } from '@emotion/react'\r\nimport {\r\n\tXYPlot,\r\n\tLineSeries,\r\n\tMarkSeries,\r\n\tXAxis,\r\n\tYAxis,\r\n\tMarkSeriesPoint,\r\n\tHorizontalGridLines,\r\n\tCrosshair,\r\n} from 'react-vis'\r\n\r\nimport {\r\n\tReduxStateType,\r\n\tServerCountType,\r\n} from '../../global'\r\nimport { \r\n\tFlex, \r\n\tHeading, \r\n} from '@chakra-ui/layout'\r\n// import DashCrosshair from './DashCrosshair'\r\n\r\ninterface Props {\r\n\twidth: number\r\n\theight: number\r\n\trepository: any\r\n}\r\n\r\ninterface DataPoint {\r\n\tlabel: string\r\n\ty: number\r\n\tx: number\r\n\ttimestamp: number | string | undefined\r\n\tid: number\r\n}\r\n\r\ninterface LinearDataState {\r\n\tbagNote5: DataPoint[]\r\n\tbagPound2: DataPoint[]\r\n\tbagPound1: DataPoint[]\r\n\tbagPence50: DataPoint[]\r\n\tbagPence20: DataPoint[]\r\n\tbagPence10: DataPoint[]\r\n\tbagPence5: DataPoint[]\r\n\tbagPence2: DataPoint[]\r\n\tbagPence1: DataPoint[]\r\n}\r\n\r\nconst linearDataInitialState: LinearDataState = {\r\n\tbagNote5: [],\r\n\tbagPound2: [],\r\n\tbagPound1: [],\r\n\tbagPence50: [],\r\n\tbagPence20: [],\r\n\tbagPence10: [],\r\n\tbagPence5: [],\r\n\tbagPence2: [],\r\n\tbagPence1: [],\r\n}\r\n\r\ntype BagTypes = 'bagNote5' | 'bagPound2' | 'bagPound1' | 'bagPence50' | 'bagPence20' | 'bagPence10' | 'bagPence5' | 'bagPence2' | 'bagPence1'\r\nconst bags: BagTypes[] = ['bagNote5', 'bagPound2', 'bagPound1', 'bagPence50', 'bagPence20', 'bagPence10', 'bagPence5', 'bagPence2', 'bagPence1']\r\n\r\nconst ThumbnailGraph: React.FC<Props> = ({\r\n\twidth,\r\n\theight,\r\n\trepository,\r\n}) => {\r\n\tconst [counts, setCounts]: [ServerCountType[], any] = useState([])\r\n\tconst [parsedData, setParsedData]: [LinearDataState, any] = useState(linearDataInitialState)\r\n\tconst [focused, setFocused]: [MarkSeriesPoint | null, any] = useState(null)\r\n\tconst [yAxisRange, setYAxisRange]: [number[], any] = useState(Array.from({ length: 10 }, (x, i) => i))\r\n\tconst COLOURS = useSelector((state: ReduxStateType) => state.ui.colours)\r\n\r\n\tconst colourMap = {\r\n\t\tbagNote5: COLOURS.red,\r\n\t\tbagPound2: COLOURS.green,\r\n\t\tbagPound1: COLOURS.blue,\r\n\t\tbagPence50: COLOURS.orange,\r\n\t\tbagPence20: COLOURS.yellow,\r\n\t\tbagPence10: COLOURS.teal,\r\n\t\tbagPence5: COLOURS.black,\r\n\t\tbagPence2: COLOURS.gold,\r\n\t\tbagPence1: COLOURS.liveRed,\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tconst EXT = `/api/v1/count?repository=${repository.id}&float=1&limit=4`\r\n\t\tconst OPTS = {\r\n\t\t\tmethod: 'GET',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t}\r\n\t\t}\r\n\t\tfetch(EXT, OPTS)\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(res => {\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t\tif (res.status === 200) {\r\n\t\t\t\t\tsetCounts(res.counts)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.error(res.errorMessage)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(error => console.error(error))\r\n\t}, [repository])\r\n\r\n\tuseEffect(() => {\r\n\t\tconst adjustedC = counts.map((each: ServerCountType) => {\r\n\r\n\t\t\tconst float = { ...each.float }\r\n\r\n\t\t\tinterface Record {\r\n\t\t\t\tlabel: BagTypes\r\n\t\t\t\tvalue: number\r\n\t\t\t}\r\n\r\n\t\t\tconst record: Record[] = bags.map((bag: BagTypes) => {\r\n\t\t\t\tconst value: number = (each.float && each.float[bag]) ? each.float[bag] as number : 0\r\n\t\t\t\treturn {\r\n\t\t\t\t\tlabel: bag,\r\n\t\t\t\t\tvalue\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.sort((a, b) => a.value - b.value)\r\n\r\n\t\t\tconst stack: Record[] = []\r\n\r\n\t\t\trecord.forEach((oneRecord: Record) => {\r\n\t\t\t\tif (stack.length === 0) {\r\n\t\t\t\t\tstack.push(oneRecord)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (oneRecord.value === stack[0].value) {\r\n\t\t\t\t\t\tstack.push(oneRecord)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\temptyStack(oneRecord)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tfunction emptyStack (oneRecord: Record) {\r\n\t\t\t\tconst len: number = stack.length\r\n\t\t\t\tconst middle: number = Math.ceil(len / 2)\r\n\t\t\t\tfor (let i = 1 - middle, j = 0; i <= len - middle; i++, j++) {\r\n\t\t\t\t\tconst label = stack[j].label\r\n\t\t\t\t\tconst value = stack[j].value\r\n\t\t\t\t\t// const multiplier: number = useAdjustments \r\n\t\t\t\t\t// \t? i * \tadjustmentStepSize * adjustments[label] \r\n\t\t\t\t\t// \t: i\r\n\t\t\t\t\tconst multiplier: number = i\r\n\t\t\t\t\tfloat[label] = value + multiplier\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tstack.length = 0\r\n\t\t\t\tstack.push(oneRecord)\r\n\t\t\t}\r\n\r\n\t\t\treturn { ...each, float }\r\n\t\t})\r\n\r\n\t\tconst addOnePoint = (label: string, y: number, x: number, timestamp: number | string | undefined, id: number): DataPoint => ({\r\n\t\t\tlabel,\r\n\t\t\ty, \r\n\t\t\t// @ts-ignore\r\n\t\t\tx, \r\n\t\t\ttimestamp,\r\n\t\t\tid,\r\n\t\t})\r\n\r\n\t\tconst parsedC: LinearDataState = adjustedC.reduce((acc: LinearDataState, each: any, idx: number) => {\r\n\t\t\tconst newAcc: any = { ...acc }\r\n\t\t\tnewAcc.bagNote5.push(addOnePoint(new Date(each.timestamp).toLocaleString('en-GB'), (each.float?.bagNote5 || 0) / (100 * 5), idx, each.timestamp ? new Date(each.timestamp).toLocaleString('en-GB') : undefined, each.id))\r\n\t\t\tnewAcc.bagPound2.push(addOnePoint(new Date(each.timestamp).toLocaleString('en-GB'), (each.float?.bagPound2 || 0) / (100 * 20), idx, each.timestamp ? new Date(each.timestamp).toLocaleString('en-GB') : undefined, each.id))\r\n\t\t\tnewAcc.bagPound1.push(addOnePoint(new Date(each.timestamp).toLocaleString('en-GB'), (each.float?.bagPound1 || 0) / (100 * 20), idx, each.timestamp ? new Date(each.timestamp).toLocaleString('en-GB') : undefined, each.id))\r\n\t\t\tnewAcc.bagPence50.push(addOnePoint(new Date(each.timestamp).toLocaleString('en-GB'), (each.float?.bagPence50 || 0) / (100 * 10), idx, each.timestamp ? new Date(each.timestamp).toLocaleString('en-GB') : undefined, each.id))\r\n\t\t\tnewAcc.bagPence20.push(addOnePoint(new Date(each.timestamp).toLocaleString('en-GB'), (each.float?.bagPence20 || 0) / (100 * 10), idx, each.timestamp ? new Date(each.timestamp).toLocaleString('en-GB') : undefined, each.id))\r\n\t\t\tnewAcc.bagPence10.push(addOnePoint(new Date(each.timestamp).toLocaleString('en-GB'), (each.float?.bagPence10 || 0) / (100 * 5), idx, each.timestamp ? new Date(each.timestamp).toLocaleString('en-GB') : undefined, each.id))\r\n\t\t\tnewAcc.bagPence5.push(addOnePoint(new Date(each.timestamp).toLocaleString('en-GB'), (each.float?.bagPence5 || 0) / (100 * 5), idx, each.timestamp ? new Date(each.timestamp).toLocaleString('en-GB') : undefined, each.id))\r\n\t\t\tnewAcc.bagPence2.push(addOnePoint(new Date(each.timestamp).toLocaleString('en-GB'), (each.float?.bagPence2 || 0) / 100, idx, each.timestamp ? new Date(each.timestamp).toLocaleString('en-GB') : undefined, each.id))\r\n\t\t\tnewAcc.bagPence1.push(addOnePoint(new Date(each.timestamp).toLocaleString('en-GB'), (each.float?.bagPence1 || 0) / 100,idx, each.timestamp ? new Date(each.timestamp).toLocaleString('en-GB') : undefined, each.id))\r\n\t\t\treturn newAcc\r\n\t\t}, {\r\n\t\t\tbagNote5: [],\r\n\t\t\tbagPound2: [],\r\n\t\t\tbagPound1: [],\r\n\t\t\tbagPence50: [],\r\n\t\t\tbagPence20: [],\r\n\t\t\tbagPence10: [],\r\n\t\t\tbagPence5: [],\r\n\t\t\tbagPence2: [],\r\n\t\t\tbagPence1: [],\r\n\t\t})\r\n\r\n\t\tconst allMaxValues: number[] = []\r\n\t\tconst allMinValues: number[] = []\r\n\t\tObject.values(parsedC).forEach((each: DataPoint[]) => {\r\n\t\t\tconst vals = each.map((e: DataPoint) => e.y)\r\n\t\t\tallMaxValues.push(Math.max(...vals))\r\n\t\t\tallMinValues.push(Math.min(...vals))\r\n\t\t})\r\n\t\tconst maxVal = Math.max(...allMaxValues) + 1\r\n\t\tconst minVal = Math.min(...allMinValues)\r\n\r\n\t\tconst range = Array.from({ length: maxVal - minVal }, (x, i) => i + minVal)\r\n\r\n\t\tsetYAxisRange(range)\r\n\t\tsetParsedData(parsedC)\r\n\t}, [\r\n\t\tcounts\r\n\t])\r\n\r\n\tconst handleMarkMouseOver = (point: MarkSeriesPoint) => {\r\n\t\tsetFocused(point)\r\n\t}\r\n\r\n\tconst handleGraphMouseLeave = () => {\r\n\t\tsetFocused(null)\r\n\t}\r\n\r\n\tif (!counts.length) {\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tposition: 'relative'\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Flex\r\n\t\t\t\t\theight={height}\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t\tjustifyContent='center'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Heading\r\n\t\t\t\t\t\tas='h4'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tNo Data\r\n\t\t\t\t\t</Heading>\r\n\t\t\t\t</Flex>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tstyle={{\r\n\t\t\t\tposition: 'relative'\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<XYPlot\r\n\t\t\t\twidth={width}\r\n\t\t\t\theight={height}\r\n\t\t\t\tbackground='#183625'\r\n\t\t\t\tonMouseLeave={handleGraphMouseLeave}\r\n\t\t\t>\r\n\t\t\t\t<XAxis />\r\n\t\t\t\t<YAxis \r\n\t\t\t\t\ttickValues={yAxisRange}\r\n\t\t\t\t/>\r\n\t\t\t\t<HorizontalGridLines />\r\n\t\t\t\t{\r\n\t\t\t\t\tbags.map((bag: BagTypes) => \r\n\t\t\t\t\t\t<LineSeries \r\n\t\t\t\t\t\t\tkey={bag}\r\n\t\t\t\t\t\t\tdata={parsedData[bag]}\r\n\t\t\t\t\t\t\tcolor={colourMap[bag]}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\tbags.map((bag: BagTypes) => \r\n\t\t\t\t\t\t<MarkSeries \r\n\t\t\t\t\t\t\tkey={bag}\r\n\t\t\t\t\t\t\tdata={parsedData[bag]}\r\n\t\t\t\t\t\t\tonNearestX={handleMarkMouseOver}\r\n\t\t\t\t\t\t\tcolor={colourMap[bag]}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\tfocused !== null && focused !== undefined\r\n\t\t\t\t\t\t? <Crosshair \r\n\t\t\t\t\t\t\t\tvalues={[focused]}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tcss={css({\r\n\t\t\t\t\t\t\t\t\t\ttextAlign: 'left',\r\n\t\t\t\t\t\t\t\t\t\tfontSize: '12px',\r\n\t\t\t\t\t\t\t\t\t\tpadding: '6px',\r\n\t\t\t\t\t\t\t\t\t\tborderRadius: '5px',\r\n\t\t\t\t\t\t\t\t\t\tpointerEvents: 'none',\r\n\t\t\t\t\t\t\t\t\t\tboxShadow: '5px 5px 5px rgba(0,0,0,.3)',\r\n\t\t\t\t\t\t\t\t\t\tbackground: '#3A3A48',\r\n\t\t\t\t\t\t\t\t\t\tmargin: '5px',\r\n\t\t\t\t\t\t\t\t\t\tboxSizing: 'border-box',\r\n\t\t\t\t\t\t\t\t\t\ttransform: 'translateY(-100%)',\r\n\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\t\t\tflexDirection: 'column',\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{/* @ts-ignore */}\r\n\t\t\t\t\t\t\t\t\t<p>{focused.label}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Crosshair>\r\n\t\t\t\t\t\t: undefined\r\n\t\t\t\t}\r\n\t\t\t</XYPlot>\r\n\t\t\t<div>{JSON.stringify(focused)}</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default ThumbnailGraph","/** @ jsxRuntime classic */\r\n/** @ jsx jsx */\r\nimport React from 'react'\r\nimport {\r\n\tGrid,\r\n\tGridItem,\r\n\tBox,\r\n\tHeading,\r\n} from '@chakra-ui/react'\r\nimport ThumbnailGraph from './ThumbnailGraph'\r\nimport { useSelector } from 'react-redux'\r\nimport initialState from '../../constants/initialState'\r\n// import { css, jsx } from '@emotion/react'\r\n\r\nconst Dashboard: React.FC = () => {\r\n\r\n\tconst repositoryList = useSelector((state: typeof initialState) => state.repositories.repositoryList)\r\n\t\t.filter((repo: any) => !repo.deleted && !repo.deactivated)\r\n\r\n\tconst sizes = [\r\n\t\t{\r\n\t\t\t// vw >= 1920\r\n\t\t\tw: 600,\r\n\t\t\th: 300,\r\n\t\t}\r\n\t]\r\n\t\r\n\treturn (\r\n\t\t<Grid\r\n\t\t\tgridTemplateColumns='1fr 1fr'\r\n\t\t\tgridAutoRows='auto'\r\n\t\t>\r\n\t\t\t{\r\n\t\t\t\trepositoryList.map((each: any) => \r\n\t\t\t\t\t<GridItem\r\n\t\t\t\t\t\tp='40px 20px'\r\n\t\t\t\t\t\tkey={each.id}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\tw='100%'\r\n\t\t\t\t\t\t\t// h='100%'\r\n\t\t\t\t\t\t\t// bgColor='#c4c4c4'\r\n\t\t\t\t\t\t\tbgColor='#fff'\r\n\t\t\t\t\t\t\tposition='relative'\r\n\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Heading\r\n\t\t\t\t\t\t\t\tas='h2'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{each.name}\r\n\t\t\t\t\t\t\t</Heading>\r\n\t\t\t\t\t\t\t<ThumbnailGraph \r\n\t\t\t\t\t\t\t\twidth={sizes[0].w}\r\n\t\t\t\t\t\t\t\theight={sizes[0].h}\r\n\t\t\t\t\t\t\t\trepository={each}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</GridItem>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nexport default Dashboard","import React from 'react'\r\n\r\nimport {\r\n\tBox,\r\n\tLink,\r\n\tButton,\r\n} from '@chakra-ui/react'\r\nimport { AddIcon } from '@chakra-ui/icons'\r\n\r\nconst QuickAdd: React.FC = () => {\r\n\tconst h = 50\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tposition='fixed'\r\n\t\t\tbottom='0'\r\n\t\t\tright='0'\r\n\t\t>\r\n\t\t\t<Button\r\n\t\t\t\tas={Link}\r\n\t\t\t\thref='/#/count/new'\r\n\t\t\t\th={h}\r\n\t\t\t\tborderRadius={h/2}\r\n\t\t\t\tfontSize='18px'\r\n\t\t\t\tpx='30px'\r\n\t\t\t\tmargin='1rem 2rem'\r\n\t\t\t\t\r\n\t\t\t\t_hover={{\r\n\t\t\t\t\ttextDecoration: 'none',\r\n\t\t\t\t\tborderColor: '#7EC507',\r\n\t\t\t\t\tbgColor: '#7EC507',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\tNew Count \r\n\t\t\t\t<AddIcon \r\n\t\t\t\t\tml='20px'\r\n\t\t\t\t/>\r\n\t\t\t</Button>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default QuickAdd","import React from 'react'\r\n\r\nimport {\r\n\tFlex,\r\n\tLink,\r\n\tText,\r\n\tCheckbox,\r\n} from '@chakra-ui/react'\r\nimport { \r\n\tListCount as ListCountT, \r\n\tRepository \r\n} from '../../global'\r\n\r\ninterface Props {\r\n\tlistCount: ListCountT\r\n\trepositories: Repository[]\r\n}\r\n\r\nconst ListCount: React.FC<Props> = ({\r\n\tlistCount,\r\n\trepositories,\r\n}) => {\r\n\r\n\tconst days = ['Mon', 'Tue', 'Wed', 'Thur', 'Fri', 'Sat', 'Sun']\r\n\r\n\tconst colourMap = (str: any): string => {\r\n\t\tconst m: any = {\r\n\t\t\t'complete': 'theme_light.info.complete',\r\n\t\t\t'partial': 'theme_light.info.partial',\r\n\t\t\t'incomplete': 'theme_light.info.unfinished',\r\n\t\t\t'unverified': 'theme_light.info.unverified',\r\n\t\t}\r\n\t\treturn m[str]\r\n\t}\r\n\r\n\tconst titleMap = (str: any): string => {\r\n\t\tconst m: any = {\r\n\t\t\t'complete': 'This count is a fully completed count.',\r\n\t\t\t'partial': 'This count is partially complete meaning at least the bagged coin data is present.',\r\n\t\t\t'incomplete': 'This count is missing data and will not show on any graphs or analytics.',\r\n\t\t\t'unverified': 'This count is unverified, a duty partner must authorise it.',\r\n\t\t}\r\n\t\treturn m[str]\r\n\t}\r\n\r\n\tconst date = new Date(listCount.timestamp)\r\n\tconst py='10px'\r\n\tconst px='40px'\r\n\tconst currentRepository = repositories.find((repo: Repository) => listCount.repositoryId === repo.id)\r\n\treturn (\r\n\t\t<Flex\r\n\t\t\tkey={listCount.id}\r\n\t\t\tbgColor='#ffffff'\r\n\t\t\talignItems='center'\r\n\t\t\tjustifyContent='space-between'\r\n\t\t\tm='4px 0'\r\n\t\t\tborderLeft='10px solid'\r\n\t\t\tborderLeftColor={colourMap(listCount.completionStatus)}\r\n\t\t\ttransition='.1s linear'\r\n\t\t\ttitle={titleMap(listCount.completionStatus)}\r\n\t\t\t_hover={{\r\n\t\t\t\tbgColor: '#DADADB'\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<Link \r\n\t\t\t\thref={`#/count/${listCount.id}`}\r\n\t\t\t\tflex='1'\r\n\t\t\t\tpy={py}\r\n\t\t\t\tpl={px}\r\n\t\t\t\t_hover={{\r\n\t\t\t\t\ttextDecoration: 'none'\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Flex\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Text>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tcurrentRepository ? currentRepository.name : ''\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Text>\r\n\t\t\t\t\t<Text>\r\n\t\t\t\t\t\t{days[date.getDay()]}\r\n\t\t\t\t\t</Text>\r\n\t\t\t\t\t<Text>\r\n\t\t\t\t\t\t{date.toLocaleDateString('en-GB')}\r\n\t\t\t\t\t</Text>\r\n\t\t\t\t\t<Text>\r\n\t\t\t\t\t\t{date.toLocaleTimeString('en-GB')}\r\n\t\t\t\t\t</Text>\r\n\t\t\t\t</Flex>\r\n\t\t\t</Link>\r\n\t\t\t<Flex\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tjustifyContent='center'\r\n\t\t\t\tpx={px}\r\n\t\t\t>\r\n\t\t\t\t<Checkbox></Checkbox>\r\n\t\t\t</Flex>\r\n\t\t</Flex>\r\n\t)\r\n}\r\n\r\nexport default ListCount","import React from 'react'\r\nimport { Select as ChakraSelect } from '@chakra-ui/react'\r\n\r\nconst Select: React.FC<any> = (props) => <ChakraSelect \r\n\tcolor='theme_light.text.light'\r\n\tborderRadius='0'\r\n\tborder='2px solid'\r\n\tborderColor='theme_light.text.lighter'\r\n\tm='10px 0'\r\n\t_hover={{\r\n\t\tcolor: 'theme_light.text.darker',\r\n\t\tborderColor: 'theme_light.text.light',\r\n\t}}\r\n\t_focus={{\r\n\t\tboxShadow: '0 0 0 2px #5EAFFB',\r\n\t\tborderColor: 'theme_light.text.standard',\r\n\t}}\r\n\t{...props}\r\n/>\r\n\r\nexport default Select","import React from 'react'\r\n\r\nimport Select from '../base/Select'\r\nimport { Repository } from '../../global'\r\n\r\ninterface Props {\r\n\tselectedRepo: string\r\n\tchangeSeletedRepo: any\r\n\trepositories: Repository[]\r\n}\r\n\r\nconst FilterRepos: React.FC<Props> = ({\r\n\tselectedRepo,\r\n\tchangeSeletedRepo,\r\n\trepositories,\r\n}) => {\r\n\treturn (\r\n\t\t<Select\r\n\t\t\tw='50%'\r\n\t\t\tvalue={selectedRepo}\r\n\t\t\tonChange={(e: any) => changeSeletedRepo(e.target.value)}\r\n\t\t>\r\n\t\t\t<option value='all'>All Repositories</option>\r\n\t\t\t{\r\n\t\t\t\trepositories.map((each: Repository) =>\r\n\t\t\t\t\t<option \r\n\t\t\t\t\t\tkey={each.id} \r\n\t\t\t\t\t\tvalue={each.id}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{each.name}\r\n\t\t\t\t\t</option>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t</Select>\r\n\t)\r\n}\r\n\r\nexport default FilterRepos","import React from 'react'\r\n\r\nimport {\r\n\tButton,\r\n\tFlex,\r\n\tInput,\r\n} from '@chakra-ui/react'\r\nimport { \r\n\tChevronLeftIcon,\r\n\tChevronRightIcon, \r\n} from '@chakra-ui/icons'\r\n\r\ninterface Props {\r\n\tpage: number\r\n\tpageLength: number\r\n\tsetPage: any\r\n}\r\n\r\nconst PaginateNumberInput: React.FC<Props> = ({\r\n\tpage,\r\n\tpageLength,\r\n\tsetPage,\r\n}) => {\r\n\r\n\tconst increment = (e: any) => setPage(page + 1)\r\n\r\n\tconst decrement = (e: any) => {\r\n\t\tif (page === 0) return\r\n\t\tsetPage(page - 1)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Flex\r\n\t\t\tjustifyContent='center'\r\n\t\t\tm='50px 0'\r\n\t\t\tposition='sticky'\r\n\t\t\tbottom='10px'\r\n\t\t>\r\n\t\t\t<Button\r\n\t\t\t\tvariant='ui'\r\n\t\t\t\tonClick={decrement}\r\n\t\t\t>\r\n\t\t\t\t<ChevronLeftIcon />\r\n\t\t\t\tPrevious\r\n\t\t\t</Button>\r\n\t\t\t<Input \r\n\t\t\t\tvalue={page}\r\n\t\t\t\tonChange={(e: any) => console.log(e)}\r\n\t\t\t\tw='100px'\r\n\t\t\t\ttextAlign='center'\r\n\t\t\t/>\r\n\t\t\t<Button\r\n\t\t\t\tvariant='ui'\r\n\t\t\t\tonClick={increment}\r\n\t\t\t>\r\n\t\t\t\tNext\r\n\t\t\t\t<ChevronRightIcon />\r\n\t\t\t</Button>\r\n\t\t</Flex>\r\n\t)\r\n}\r\n\r\nexport default PaginateNumberInput","import React, { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nimport { \r\n\tcountsDataWriteMultiple, \r\n\tcountsServerTotalWrite \r\n} from '../../actions'\r\nimport initialState from '../../constants/initialState'\r\n\r\nimport { \r\n\tRepository, \r\n\tListCount as ListCountT \r\n} from '../../global'\r\n\r\nimport {\r\n\tFlex,\r\n\tSkeleton,\r\n} from '@chakra-ui/react'\r\n\r\n// import Select from '../base/Select'\r\n\r\nimport QuickAdd from '../QuickAdd'\r\nimport ListCount from './ListCount'\r\nimport FilterRepos from './FilterRepos'\r\nimport PaginateNumberInput from './PaginateNumberInput'\r\n\r\n// interface CountType {\r\n// \trepository: '403' | '401' | 'lotto',\r\n// \tstatus: 'complete' | 'incomplete' | 'partial' | 'unverified',\r\n// \tdate: number,\r\n// \t_id: string,\r\n// }\r\n\r\n// TODO: implament save buttons\r\n// TODO: show floating 0's\r\n// TODO: support long empty strings\r\n// TODO: 20p bagged validation is off -still\r\n// TODO: £50 cannot be set to zero?\r\n// TODO: backspace goes to 0 before empty string\r\n\r\nconst Counts: React.FC = () => {\r\n\tconst dispatch = useDispatch()\r\n\tconst repositories: Repository[] = useSelector((s: typeof initialState) => s.repositories.repositoryList)\r\n\t// const repos = ['401', '403', 'lotto']\r\n\tconst [selectedRepo, setSelectedRepo] = useState('all')\r\n\tconst [page, setPage] = useState(0)\r\n\r\n\tconst countState = useSelector((state: any) => state.counts)\r\n\tconst { data: counts, updated, pageLength } = countState\r\n\r\n\tuseEffect(() => {\r\n\t\t// dispatch(countsDataWriteAll(page, pageLength))\r\n\t\tdispatch(countsServerTotalWrite())\r\n\t}, [dispatch, page])\r\n\r\n\tuseEffect(() => {\r\n\t\tif ((page + 1) * pageLength > counts.length && (counts.length % pageLength === 0)) {\r\n\t\t\tdispatch(countsDataWriteMultiple(page, pageLength, selectedRepo))\r\n\t\t}\r\n\t\t\r\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\t\t\r\n\t}, [dispatch, page])\r\n\r\n\tfunction changeSeletedRepo (value: any) {\r\n\t\tsetSelectedRepo(value)\r\n\t\tsetPage(0)\r\n\t\tdispatch(countsDataWriteMultiple(page, pageLength))\r\n\t}\r\n\r\n\tif (!updated) {\r\n\t\treturn (\r\n\t\t\t<Flex\r\n\t\t\t\tdirection='column'\r\n\t\t\t>\r\n\t\t\t\t<Skeleton height='40px' width='50%' my='10px' />\r\n\t\t\t\t{\r\n\t\t\t\t\tArray.from({ length: 3 }).map((e: any, i) => \r\n\t\t\t\t\t\t<Skeleton height='30px' my='4px' key={i} />\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t</Flex>\r\n\t\t)\r\n\t}\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<FilterRepos\r\n\t\t\t\tselectedRepo={selectedRepo}\r\n\t\t\t\tchangeSeletedRepo={changeSeletedRepo}\r\n\t\t\t\trepositories={repositories}\r\n\t\t\t/>\r\n\t\t\t<Flex\r\n\t\t\t\tdirection='column'\r\n\t\t\t>\r\n\t\t\t\t{\r\n\t\t\t\t\tcounts\r\n\t\t\t\t\t\t.filter((each: any) => \r\n\t\t\t\t\t\t\teach.repositoryId === Number(selectedRepo) || selectedRepo === 'all')\r\n\t\t\t\t\t\t.slice(page * pageLength, (page + 1) * pageLength)\r\n\t\t\t\t\t\t.map((each: ListCountT, idx: number) => \r\n\t\t\t\t\t\t\t<ListCount \r\n\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\tlistCount={each} \r\n\t\t\t\t\t\t\t\trepositories={repositories} \r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t</Flex>\r\n\t\t\t<PaginateNumberInput \r\n\t\t\t\tpage={page}\r\n\t\t\t\tsetPage={setPage}\r\n\t\t\t\tpageLength={pageLength}\r\n\t\t\t/>\r\n\t\t\t<QuickAdd />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Counts","import React from 'react'\r\n\r\nconst CountContext = React.createContext<any>({\r\n\ttesting: 'testing one two'\r\n})\r\n\r\nexport default CountContext","import React, { SetStateAction, useContext, useState } from 'react'\r\nimport {\r\n\tuseMediaQuery,\r\n\tFormLabel,\r\n\tGridItem,\r\n\tNumberInput,\r\n\tNumberInputField,\r\n\tText,\r\n\tGrid,\r\n} from '@chakra-ui/react'\r\nimport CountContext from '../utils/CountContext'\r\nimport { CountActions, sanitiseNumberInputVal } from '../utils/API'\r\nimport { useEffect } from 'react'\r\nimport { Dispatch } from 'react'\r\n\r\ninterface Props {\r\n\tlabel: string\r\n\tstep: number,\r\n\tdenomination: string\r\n\tdisplay?: 'pound' | 'pence'\r\n}\r\n\r\n// type Labels = '£5' | '£2' | '£1' | '50p' | '20p' | '10p' | '5p' | '2p' | '1p'\r\n// type Denominations = 'note_five' | 'pound_two' | 'pound_one' | 'pence_fifty' | 'pence_twenty' | 'pence_ten' | 'pence_five' | 'pence_two' | 'pence_one'\r\n// const denominations = {\r\n// \t'£2': 'pound_two',\r\n// \t'£1': 'pound_one',\r\n// \t'50p': 'pence_fifty',\r\n// \t'20p': 'pence_twenty',\r\n// \t'10p': 'pence_ten',\r\n// \t'5p': 'pence_five',\r\n// \t'2p': 'pence_two',\r\n// \t'1p': 'pence_one',\r\n// }\r\n\r\nconst Denomination: React.FC<Props> = ({\r\n\tlabel,\r\n\tstep,\r\n\tdenomination,\r\n}) => {\r\n\tconst { state, dispatch } = useContext(CountContext)\r\n\tconst inVal = state.data.bagged[denomination]\r\n\tconst [error, setError]: [null | string, any] = useState(null)\r\n\tconst [value, setValue]: [null | undefined | string | number, Dispatch<SetStateAction<any>>] = useState(null)\r\n\r\n\tconst smallScreen = useMediaQuery('(max-width: 760px)')\r\n\t// label = `bagged: ${label}`\r\n\r\n\tuseEffect(() => {\r\n\t\t// console.log('set value to:', inVal)\r\n\t\tsetValue(inVal)\r\n\t}, [inVal])\r\n\r\n\tfunction handleChange (v: any): void {\r\n\t\t// console.log(v)\r\n\t\tconst valueAsumber = Number(v) * step\r\n\t\tconst val = (v === '' || v === undefined || v === null) ? null : valueAsumber\r\n\t\t// setValue(val)\r\n\r\n\t\tif (valueAsumber % 1 || isNaN(valueAsumber)) {\r\n\t\t\tsetError('Invalid input, please check')\r\n\t\t\treturn\r\n\t\t}\r\n\t\tsetError(null)\r\n\t\tconst payload = {\r\n\t\t\t[denomination]: val\r\n\t\t}\r\n\t\tdispatch({\r\n\t\t\ttype: CountActions.UPDATE_BAG,\r\n\t\t\tpayload,\r\n\t\t})\r\n\t}\r\n\r\n\tfunction handleKeyDown (e: any) {\r\n\t\tconst { keyCode } = e\r\n\t\tif (keyCode < 38 || keyCode > 40) return\r\n\t\t// console.log(keyCode)\r\n\t\tif (keyCode === 38) {\r\n\t\t\tconst changeVal = Number(value) + step\r\n\t\t\tif (changeVal < 0) return\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: CountActions.UPDATE_BAG,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\t[denomination]: changeVal\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t\tif (keyCode === 40) {\r\n\t\t\tconst changeVal = Number(value) - step\r\n\t\t\tif (changeVal < 0) return\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: CountActions.UPDATE_BAG,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\t[denomination]: changeVal\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t\t// L 65\r\n\t\tif (keyCode === 68) {\r\n\t\t\t// FUTURE: could be used to tab with arrow keys\r\n\t\t\t// dissregarded for now due to clash concerns with select and navigation\r\n\t\t\t// const els = document.querySelectorAll('.tab_jump')\r\n\t\t\t// let us: number = 0\r\n\t\t\t// els.forEach((each, idx) => {\r\n\t\t\t// \tif (each.className.includes(`bag_${denomination}`)) us = idx\r\n\t\t\t// })\r\n\t\t\t// const target = us + 1\r\n\t\t\t// console.log(target, els.length)\r\n\t\t\t// if (target >= els.length) return\r\n\t\t\t// console.log(els, us, els[target])\r\n\t\t\t// els[target].focus()\r\n\t\t}\r\n\t}\r\n\r\n\tfunction convertToDisplay (val: number): string {\r\n\t\treturn `£${val / 100}`\r\n\t}\r\n\r\n\tconst sideColumns = '3fr'\r\n\tconst inputColumn = smallScreen ? '6fr' : '4fr'\r\n\r\n\treturn (\r\n\t\t<GridItem\r\n\t\t\tp={smallScreen ? '8px 10px' : '8px 20px'}\r\n\t\t>\r\n\t\t\t<Grid\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tjustifyContent='space-around'\r\n\t\t\t\ttitle={error ? error : ''}\r\n\t\t\t\twidth='100%'\r\n\t\t\t\ttemplateColumns={`${sideColumns} ${inputColumn} ${sideColumns}`}\r\n\t\t\t\tjustifyItems='center'\r\n\t\t\t>\r\n\t\t\t\t<FormLabel\r\n\t\t\t\t\tmargin='0'\r\n\t\t\t\t>\r\n\t\t\t\t\t{label} {\r\n\t\t\t\t\t// String(sanitiseNumberInputVal(value, step))\r\n\t\t\t\t\t}\r\n\t\t\t\t</FormLabel>\r\n\t\t\t\t<NumberInput\r\n\t\t\t\t\tvalue={sanitiseNumberInputVal(typeof value === 'number' ? value/step : value, step)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t<NumberInputField \r\n\t\t\t\t\t\tvalue={sanitiseNumberInputVal(typeof value === 'number' ? value/step : value, step)}\r\n\t\t\t\t\t\tonKeyDown={handleKeyDown}\r\n\t\t\t\t\t\tonChange={(e: any) => handleChange(e.target.value)}\r\n\t\t\t\t\t\tbgColor='#f8f8f8'\r\n\t\t\t\t\t\tborderColor='rgba(0,0,0,0)'\r\n\t\t\t\t\t\tborderRadius='none'\r\n\t\t\t\t\t\tborderBottom='2px solid'\r\n\t\t\t\t\t\tborderBottomColor='theme_light.text.lighter'\r\n\t\t\t\t\t\tboxShadow={error ? '0 0 0 3px #E75858' : 'none'}\r\n\t\t\t\t\t\ttitle={`The number of ${label} bags. Each bag is £${(step / 100).toFixed(2)}`}\r\n\t\t\t\t\t\tclassName={`tab_jump bag_${denomination}`}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</NumberInput>\r\n\t\t\t\t<Text\r\n\t\t\t\t\tp='0'\r\n\t\t\t\t\tcolor='theme_light.text.invisable'\r\n\t\t\t\t>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconvertToDisplay(typeof value === 'number' ? value : 0)\r\n\t\t\t\t\t}\r\n\t\t\t\t</Text>\r\n\t\t\t</Grid>\r\n\t\t</GridItem>\r\n\t)\r\n}\r\n\r\nexport default Denomination","import React from 'react'\r\n\r\nimport {\r\n\tBox,\r\n\tText,\r\n} from '@chakra-ui/react'\r\n\r\ninterface Props {\r\n\tvalue: any\r\n\ttitle?: string\r\n}\r\n\r\nconst SubTotal: React.FC<Props> = ({\r\n\tvalue,\r\n\ttitle,\r\n}) => {\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tp='20px'\r\n\t\t>\r\n\t\t\t<Text\r\n\t\t\t\tfontSize='18px'\r\n\t\t\t\tcolor='theme_light.text.darker'\r\n\t\t\t\ttextAlign='right'\r\n\t\t\t\ttitle={title || ''}\r\n\t\t\t>\r\n\t\t\t\tTotal: { (value / 100).toFixed(2) }\r\n\t\t\t</Text>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default SubTotal","import React, { useContext } from 'react'\r\nimport {\r\n\tGrid,\r\n\tBox,\r\n\tDivider,\r\n\tFormLabel,\r\n} from '@chakra-ui/react'\r\n\r\nimport BaggedCoinInput from './BaggedCoinInput'\r\nimport CountContext from '../utils/CountContext'\r\nimport SubTotal from '../SubTotal'\r\n\r\nconst BaggedCoin: React.FC = () => {\r\n\tconst { state: { data: { bagged: { total } } }} = useContext(CountContext)\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Divider />\r\n\t\t\t<FormLabel\r\n\t\t\t\tmarginTop='10px'\r\n\t\t\t>\r\n\t\t\t\tBagged Coin\r\n\t\t\t</FormLabel>\r\n\t\t\t<Grid\r\n\t\t\t\ttemplateColumns='1fr 1fr'\r\n\t\t\t\tautoRows='1fr'\r\n\t\t\t>\r\n\t\t\t\t<BaggedCoinInput \r\n\t\t\t\t\tlabel='£2'\r\n\t\t\t\t\tdenomination='pound_two'\r\n\t\t\t\t\tstep={2000}\r\n\t\t\t\t\tdisplay='pound'\r\n\t\t\t\t\t/>\r\n\t\t\t\t<BaggedCoinInput \r\n\t\t\t\t\tlabel='£1'\r\n\t\t\t\t\tdenomination='pound_one'\r\n\t\t\t\t\tstep={2000}\r\n\t\t\t\t\tdisplay='pound'\r\n\t\t\t\t\t/>\r\n\t\t\t\t<BaggedCoinInput \r\n\t\t\t\t\tlabel='50p'\r\n\t\t\t\t\tdenomination='pence_fifty'\r\n\t\t\t\t\tstep={1000}\r\n\t\t\t\t\tdisplay='pence'\r\n\t\t\t\t\t/>\r\n\t\t\t\t<BaggedCoinInput \r\n\t\t\t\t\tlabel='20p'\r\n\t\t\t\t\tdenomination='pence_twenty'\r\n\t\t\t\t\tstep={1000}\r\n\t\t\t\t\tdisplay='pence'\r\n\t\t\t\t\t/>\r\n\t\t\t\t<BaggedCoinInput \r\n\t\t\t\t\tlabel='10p'\r\n\t\t\t\t\tdenomination='pence_ten'\r\n\t\t\t\t\tstep={500}\r\n\t\t\t\t\tdisplay='pence'\r\n\t\t\t\t\t/>\r\n\t\t\t\t<BaggedCoinInput \r\n\t\t\t\t\tlabel='5p'\r\n\t\t\t\t\tdenomination='pence_five'\r\n\t\t\t\t\tstep={500}\r\n\t\t\t\t\tdisplay='pence'\r\n\t\t\t\t\t/>\r\n\t\t\t\t<BaggedCoinInput \r\n\t\t\t\t\tlabel='2p'\r\n\t\t\t\t\tdenomination='pence_two'\r\n\t\t\t\t\tstep={100}\r\n\t\t\t\t\tdisplay='pence'\r\n\t\t\t\t\t/>\r\n\t\t\t\t<BaggedCoinInput \r\n\t\t\t\t\tlabel='1p'\r\n\t\t\t\t\tdenomination='pence_one'\r\n\t\t\t\t\tstep={100}\r\n\t\t\t\t\tdisplay='pence'\r\n\t\t\t\t\t/>\r\n\t\t\t\t<Box></Box>\r\n\t\t\t\t<BaggedCoinInput \r\n\t\t\t\t\tlabel='£5 Note'\r\n\t\t\t\t\tdenomination='note_five'\r\n\t\t\t\t\tstep={500}\r\n\t\t\t\t\tdisplay='pound'\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t<SubTotal\r\n\t\t\t\tvalue={total}\r\n\t\t\t\ttitle='total bagged value (£)'\r\n\t\t\t/>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default BaggedCoin","import React from 'react'\r\nimport {\r\n\tInput as ChakraInput\r\n} from '@chakra-ui/react'\r\n\r\ntype ChakraInputType = typeof ChakraInput\r\ninterface Props extends ChakraInputType {\r\n\tplaceholder?: string\r\n}\r\n\r\nconst Input: React.FC<any> = (props: Props) => <ChakraInput\r\n\tcolor='theme_light.text.light'\r\n\tborderRadius='0'\r\n\tbgColor='#f8f8f8'\r\n\tborderTop='none'\r\n\tborderLeft='none'\r\n\tborderRight='none'\r\n\tborderBottom='2px solid'\r\n\tborderColor='theme_light.text.lighter'\r\n\tm='10px 0'\r\n\t_hover={{\r\n\t\tborderColor: 'theme_light.text.standard'\r\n\t}}\r\n\t_focus={{\r\n\t\tcolor: 'theme_light.text.darker',\r\n\t\tboxShadow: '0 0 0 2px #5EAFFB',\r\n\t}}\r\n\t{...props}\r\n/>\r\n\r\nexport default Input","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nimport {\r\n\tFlex,\r\n\tUnorderedList,\r\n\tListItem,\r\n\tButton,\r\n} from '@chakra-ui/react'\r\n\r\nimport {\r\n\tMdSubdirectoryArrowLeft\r\n} from 'react-icons/md'\r\n\r\ninterface Props {\r\n\tformatReadableName: (each: any) => string\r\n\thandleDropDownSelect: (each: any) => void \r\n\tshowMenu: boolean\r\n\tfilteredList: {}[]\r\n}\r\n\r\nconst DropMenu: React.FC<Props> = ({\r\n\tformatReadableName,\r\n\thandleDropDownSelect,\r\n\tshowMenu,\r\n\tfilteredList\r\n}) => {\r\n\tconst { userListUpdated } = useSelector((s: any) => s.auth)\r\n\treturn (\r\n\t\t<Flex\r\n\t\t\tflexDirection='column'\r\n\t\t\tposition='relative'\r\n\t\t\tzIndex='1'\r\n\t\t>\r\n\t\t\t{\r\n\t\t\t\t(userListUpdated && showMenu && filteredList.length !== 0) && (\r\n\t\t\t\t\t<UnorderedList\r\n\t\t\t\t\t\tposition='absolute'\r\n\t\t\t\t\t\tm='0px'\r\n\t\t\t\t\t\ttop='0px'\r\n\t\t\t\t\t\tbackground='#fff'\r\n\t\t\t\t\t\tw='100%'\r\n\t\t\t\t\t\tboxShadow='0px 5px 10px rgba(0,0,0,.1)'\r\n\t\t\t\t\t\tborderRadius='5px'\r\n\t\t\t\t\t\tpy='4px'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tfilteredList\r\n\t\t\t\t\t\t\t.map((each: any, idx: number) => \r\n\t\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\t\tlistStyleType='none'\r\n\t\t\t\t\t\t\t\t\tkey={each.id}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\t\t\t\tkey={each.id}\r\n\t\t\t\t\t\t\t\t\t\tp='4px'\r\n\t\t\t\t\t\t\t\t\t\tvariant='ui'\r\n\t\t\t\t\t\t\t\t\t\tmx='0px'\r\n\t\t\t\t\t\t\t\t\t\tmy='0px'\r\n\t\t\t\t\t\t\t\t\t\tborderRadius='0px'\r\n\t\t\t\t\t\t\t\t\t\twidth='100%'\r\n\t\t\t\t\t\t\t\t\t\tjustifyContent='flex-start'\r\n\t\t\t\t\t\t\t\t\t\tbgColor={idx === 0 ? '#cde6fe' : '#fff'}\r\n\t\t\t\t\t\t\t\t\t\tborder='none'\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => handleDropDownSelect(each)}\r\n\t\t\t\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\t\t\t\tjustifyItems='space-between'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\tformatReadableName(each)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t(idx === 0) ? <MdSubdirectoryArrowLeft /> : ''\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</UnorderedList>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t</Flex>\r\n\t)\r\n}\r\n\r\nexport default DropMenu","import React, { useState, useContext } from 'react'\r\nimport {\r\n\tInputGroup,\r\n\tFormLabel,\r\n\tBox,\r\n} from '@chakra-ui/react'\r\n\r\nimport Input from '../../base/Input'\r\n\r\nimport DropMenu from './DropMenu'\r\n\r\nimport CountContext from '../utils/CountContext'\r\nimport { CountActions, formatReadableName } from '../utils/API'\r\nimport { useSelector } from 'react-redux'\r\nimport { useEffect } from 'react'\r\n\r\ninterface Props {\r\n\tlabel: string\r\n\tdispatchType: CountActions\r\n\tstateAssignment: 'counter' | 'supervisor'\r\n}\r\n\r\nconst Counter: React.FC<Props> = ({\r\n\tlabel,\r\n\tdispatchType,\r\n\tstateAssignment,\r\n}) => {\r\n\tconst { state, dispatch } = useContext(CountContext)\r\n\tconst partnerList = useSelector((s: any) => s.auth.partnerList)\r\n\tconst [showMenu, setShowMenu] = useState(false)\r\n\tconst [filteredList, setFilteredList] = useState(partnerList)\r\n\r\n\tconst onChange = (e: any) => dispatch({\r\n\t\ttype: dispatchType, \r\n\t\tpayload: {\r\n\t\t\t[stateAssignment]: e.target.value,\r\n\t\t},\r\n\t})\r\n\r\n\tconst handleFocus = () => {\r\n\t\tsetShowMenu(true)\r\n\t}\r\n\r\n\tconst handleBlur = () => {\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetShowMenu(false)\r\n\t\t}, 500)\r\n\t}\r\n\r\n\tconst handleDropDownSelect = (each: any) => {\r\n\t\tconsole.log('Clicked ', each.shortUid)\r\n\t\tdispatch({\r\n\t\t\ttype: dispatchType, \r\n\t\t\tpayload: {\r\n\t\t\t\t[stateAssignment]: formatReadableName(each),\r\n\t\t\t\t[`${stateAssignment}Id`]: each.id\r\n\t\t\t},\r\n\t\t})\r\n\t\tsetShowMenu(false)\r\n\t}\r\n\r\n\tconst handleKeyDown = (e: any) => {\r\n\t\tif (!(e.keyCode === 13)) return\r\n\t\tif (filteredList.length < 1) return\r\n\t\tconst selected = filteredList[0]\r\n\t\tdispatch({\r\n\t\t\ttype: dispatchType, \r\n\t\t\tpayload: {\r\n\t\t\t\t[stateAssignment]: formatReadableName(selected),\r\n\t\t\t\t[`${stateAssignment}Id`]: selected.id\r\n\t\t\t},\r\n\t\t})\r\n\t\tsetShowMenu(false)\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tconst createdList = partnerList\r\n\t\t\t.filter((each: any) => {\r\n\t\t\t\tif (!/\\w+/.test(state[stateAssignment])) return true\r\n\t\t\t\tconst names = [each.firstName, each.middleNames, each.lastName]\r\n\t\t\t\tconst combinedAttrs = `${each.id}${each.shortUid}${names.join('')}`\r\n\t\t\t\tconst rawInputReg = new RegExp(state[stateAssignment], 'gi')\r\n\t\t\t\tlet res = false \r\n\t\t\t\tif (rawInputReg.test(combinedAttrs)) res = true\r\n\t\t\t\tif (each.firstName && each.lastName) {\r\n\t\t\t\t\tconst firstInitial = each.firstName.substring(0,1)\r\n\t\t\t\t\tconst secondInitial = each.lastName.substring(0,1)\r\n\t\t\t\t\tconst initialRegexp = new RegExp(`${firstInitial}${secondInitial}`, 'gi')\r\n\t\t\t\t\tif (initialRegexp.test(state[stateAssignment])) res = true\r\n\t\t\t\t}\r\n\t\t\t\treturn res\r\n\t\t\t})\r\n\t\t\tsetFilteredList(createdList)\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\t\t\r\n\t}, [state[stateAssignment]])\r\n\r\n\treturn (\r\n\t\t<InputGroup\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexDirection='column'\r\n\t\t\tonBlur={handleBlur}\r\n\t\t\tonFocus={handleFocus}\r\n\t\t\tonKeyDown={handleKeyDown}\r\n\t\t>\r\n\t\t\t<FormLabel>\r\n\t\t\t\t{ label }\r\n\t\t\t</FormLabel>\r\n\t\t\t<Box\r\n\t\t\t\tpx='1rem'\r\n\t\t\t\tposition='relative'\r\n\t\t\t>\r\n\t\t\t\t<Input \r\n\t\t\t\t\tvalue={state[stateAssignment]} \r\n\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\tmarginBottom='0px'\r\n\t\t\t\t/>\r\n\t\t\t\t<DropMenu \r\n\t\t\t\t\tformatReadableName={formatReadableName}\r\n\t\t\t\t\thandleDropDownSelect={handleDropDownSelect}\r\n\t\t\t\t\tshowMenu={showMenu}\r\n\t\t\t\t\tfilteredList={filteredList}\r\n\t\t\t\t/>\r\n\t\t\t</Box>\r\n\t\t</InputGroup>\r\n\t)\r\n}\r\n\r\nexport default Counter","import React, { SetStateAction, useContext, useState, Dispatch, useEffect } from 'react'\r\nimport {\r\n\tuseMediaQuery,\r\n\tFormLabel,\r\n\tGridItem,\r\n\tNumberInput,\r\n\tNumberInputField,\r\n\tGrid,\r\n} from '@chakra-ui/react'\r\nimport CountContext from '../utils/CountContext'\r\nimport { CountActions } from '../utils/API'\r\n\r\ninterface Props {\r\n\tlabel: string\r\n\tdenomination: string\r\n\tstep: number\r\n\tdisplay?: 'pound' | 'pence'\r\n}\r\n\r\nconst Denomination: React.FC<Props> = ({\r\n\tlabel,\r\n\tdenomination,\r\n\tstep,\r\n}) => {\r\n\tconst { state, dispatch } = useContext(CountContext)\r\n\tconst inVal = state.data.loose[denomination]\r\n\tconst [error, setError]: [null | string, any] = useState(null)\r\n\tconst [value, setValue]: [string | number | undefined, Dispatch<SetStateAction<any>>] = useState(undefined)\r\n\r\n\tconst smallScreen = useMediaQuery('(max-width: 760px)')\r\n\t// label = `loose ${label}`\r\n\t\r\n\tuseEffect(() => {\r\n\t\t// console.log(inVal)\r\n\t\tif (typeof inVal === 'number') setValue((inVal / 100).toFixed(2))\r\n\t\telse setValue(undefined)\r\n\t}, [inVal])\r\n\r\n\tfunction handleChange (v: any): void {\r\n\t\tconsole.log(typeof v, v)\r\n\t\tsetValue(v)\r\n\t}\r\n\r\n\tconst handleFocusLeave = (e: any) => {\r\n\t\tconst v = e.target.value\r\n\t\t// console.log('focusLeve', new Date().toLocaleTimeString())\r\n\t\t\r\n\t\tconst valueAsNumber = Math.floor(Number(v) * 100)\r\n\t\t// console.log({ valueAsNumber, inVal })\r\n\t\tif (valueAsNumber === inVal) return\r\n\t\tconst val = (v === '' || v === null || v === undefined) ? null : valueAsNumber\r\n\r\n\t\tconst minimumValueTest = valueAsNumber % 1\r\n\t\tconst nanTest = isNaN(valueAsNumber)\r\n\t\tconst outOfStepTest = valueAsNumber % step\r\n\t\tconst isPartialInput = /\\.$/gi.test(v)\r\n\t\t\r\n\t\tif (isPartialInput) {\r\n\t\t\tsetError(`Error [LooseCountInput] at isPartialInput test: value contains a trailling full stop.`)\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (minimumValueTest) {\r\n\t\t\tsetError(`Error [LooseCoinInput] at minimumValueTest: value entered is bellow the value of this denomination: value: ${v}, denomination: ${step / 100}`)\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (nanTest) {\r\n\t\t\tsetError(`Error [LooseCoinInput] at nanTest: value entered is not a number: value: ${v}`)\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (outOfStepTest) {\r\n\t\t\tsetError(`Error [LooseCoinInput] at outOfStepTest: value entered is incompatible with the denomination's min value: value: ${v}, denomination: ${step / 100}`)\r\n\t\t\treturn\r\n\t\t}\r\n\t\tconst payload = {\r\n\t\t\t[denomination]: val\r\n\t\t}\r\n\t\tconsole.log('dispatching', payload)\r\n\t\tsetError(null)\r\n\t\tdispatch({\r\n\t\t\ttype: CountActions.UPDATE_LOOSE,\r\n\t\t\tpayload,\r\n\t\t})\r\n\t\t// if (isNaN(val)) {\r\n\t\t// \treturn\r\n\t\t// } else if (!error) {\r\n\t\t// \tconst fixedVal = val.toFixed(2)\r\n\t\t// \tsetValue(fixedVal)\r\n\t\t// \t// console.log(typeof fixedVal, fixedVal)\r\n\t\t// \t// const payload = {\r\n\t\t// \t// \t[denomination]: fixedVal\r\n\t\t// \t// }\r\n\t\t// \t// dispatch({\r\n\t\t// \t// \ttype: CountActions.UPDATE_LOOSE,\r\n\t\t// \t// \tpayload,\r\n\t\t// \t// })\r\n\t\t// }\r\n\t}\r\n\t\r\n\tconst sideColumns = '3fr'\r\n\tconst inputColumn = smallScreen ? '6fr' : '4fr'\r\n\t// if (label === \"loose 50p\") console.log(label, value)\r\n\r\n\treturn (\r\n\t\t<GridItem\r\n\t\t\tp={smallScreen ? '8px 10px' : '8px 20px'}\r\n\t\t>\r\n\t\t\t<Grid\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tjustifyContent='space-around'\r\n\t\t\t\ttitle={error ? error : ''}\r\n\t\t\t\twidth='100%'\r\n\t\t\t\ttemplateColumns={`${sideColumns} ${inputColumn} ${sideColumns}`}\r\n\t\t\t\tjustifyItems='center'\r\n\t\t\t>\r\n\t\t\t\t<FormLabel\r\n\t\t\t\t\tmargin='0'\r\n\t\t\t\t>\r\n\t\t\t\t\t{label}\r\n\t\t\t\t</FormLabel>\r\n\t\t\t\t<NumberInput\r\n\t\t\t\t\tvalue={value === null ? undefined : value}\r\n\t\t\t\t\tonBlur={handleFocusLeave}\r\n\t\t\t\t>\r\n\t\t\t\t\t<NumberInputField \r\n\t\t\t\t\t\tonChange={(e: any) => handleChange(e.target.value)}\r\n\t\t\t\t\t\tvalue={value === null ? undefined : value}\r\n\t\t\t\t\t\tbgColor='#f8f8f8'\r\n\t\t\t\t\t\tborderColor='rgba(0,0,0,0)'\r\n\t\t\t\t\t\tborderRadius='none'\r\n\t\t\t\t\t\tborderBottom='2px solid'\r\n\t\t\t\t\t\tborderBottomColor='theme_light.text.lighter'\r\n\t\t\t\t\t\tboxShadow={error ? '0 0 0 2px #E75858' : 'none'}\r\n\t\t\t\t\t\ttitle={`Amount of ${label.toLowerCase()} in format £0.00${error ? '\\n' + error : ''}`}\r\n\t\t\t\t\t\tclassName='tab_jump'\r\n\t\t\t\t\t/>\r\n\t\t\t\t</NumberInput>\r\n\t\t\t</Grid>\r\n\t\t</GridItem>\r\n\t)\r\n}\r\n\r\nexport default Denomination","import React, { useContext } from 'react'\r\nimport {\r\n\tGrid,\r\n\tBox,\r\n\tDivider,\r\n\tFormLabel,\r\n} from '@chakra-ui/react'\r\n\r\nimport LooseCoinInput from './LooseCoinInput'\r\nimport CountContext from '../utils/CountContext'\r\nimport SubTotal from '../SubTotal'\r\n\r\nconst LooseCoin: React.FC = () => {\r\n\tconst { state: { data: { loose: { total } } } } = useContext(CountContext)\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Divider />\r\n\t\t\t<FormLabel\r\n\t\t\t\tmarginTop='10px'\r\n\t\t\t>\r\n\t\t\t\tLoose Coin\r\n\t\t\t</FormLabel>\r\n\t\t\t<Grid\r\n\t\t\t\ttemplateColumns='1fr 1fr'\r\n\t\t\t\tautoRows='auto'\r\n\t\t\t>\r\n\t\t\t\t<LooseCoinInput \r\n\t\t\t\t\tlabel='£2'\r\n\t\t\t\t\tdisplay='pound'\r\n\t\t\t\t\tdenomination='pound_two'\r\n\t\t\t\t\tstep={200}\r\n\t\t\t\t\t/>\r\n\t\t\t\t<LooseCoinInput \r\n\t\t\t\t\tlabel='£1'\r\n\t\t\t\t\tdisplay='pound'\r\n\t\t\t\t\tdenomination='pound_one'\r\n\t\t\t\t\tstep={100}\r\n\t\t\t\t\t/>\r\n\t\t\t\t<LooseCoinInput \r\n\t\t\t\t\tlabel='50p'\r\n\t\t\t\t\tdisplay='pence'\r\n\t\t\t\t\tdenomination='pence_fifty'\r\n\t\t\t\t\tstep={50}\r\n\t\t\t\t\t/>\r\n\t\t\t\t<LooseCoinInput \r\n\t\t\t\t\tlabel='20p'\r\n\t\t\t\t\tdisplay='pence'\r\n\t\t\t\t\tdenomination='pence_twenty'\r\n\t\t\t\t\tstep={20}\r\n\t\t\t\t\t/>\r\n\t\t\t\t<LooseCoinInput \r\n\t\t\t\t\tlabel='10p'\r\n\t\t\t\t\tdisplay='pence'\r\n\t\t\t\t\tdenomination='pence_ten'\r\n\t\t\t\t\tstep={10}\r\n\t\t\t\t\t/>\r\n\t\t\t\t<LooseCoinInput \r\n\t\t\t\t\tlabel='5p'\r\n\t\t\t\t\tdisplay='pence'\r\n\t\t\t\t\tdenomination='pence_five'\r\n\t\t\t\t\tstep={5}\r\n\t\t\t\t\t/>\r\n\t\t\t\t<LooseCoinInput \r\n\t\t\t\t\tlabel='2p'\r\n\t\t\t\t\tdisplay='pence'\r\n\t\t\t\t\tdenomination='pence_two'\r\n\t\t\t\t\tstep={2}\r\n\t\t\t\t\t/>\r\n\t\t\t\t<LooseCoinInput \r\n\t\t\t\t\tlabel='1p'\r\n\t\t\t\t\tdisplay='pence'\r\n\t\t\t\t\tdenomination='pence_one'\r\n\t\t\t\t\tstep={1}\r\n\t\t\t\t\t/>\r\n\t\t\t\t<Box></Box>\r\n\t\t\t\t<LooseCoinInput \r\n\t\t\t\t\tlabel='Any Other Value'\r\n\t\t\t\t\tdisplay='pound'\r\n\t\t\t\t\tdenomination='other'\r\n\t\t\t\t\tstep={1}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t<SubTotal \r\n\t\t\t\tvalue={total} \r\n\t\t\t\ttitle={'total loose coin (£)'} \r\n\t\t\t/>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default LooseCoin","import React, {\r\n\tuseState,\r\n\tDispatch,\r\n\tSetStateAction,\r\n\tuseContext,\r\n} from 'react'\r\nimport { \r\n\tNumberInput, \r\n\tNumberInputField, \r\n} from '@chakra-ui/number-input'\r\n\r\nimport CountContext from '../utils/CountContext'\r\nimport { CountActions } from '../utils/API'\r\nimport { useEffect } from 'react'\r\n\r\ninterface Props {\r\n\tdenomination: string\r\n\tstep: number\r\n\tlabel: string\r\n}\r\n\r\nconst NoteNumberInput: React.FC<Props> = ({\r\n\tdenomination,\r\n\tstep,\r\n\tlabel,\r\n}) => {\r\n\tconst { state, dispatch } = useContext(CountContext)\r\n\tconst inVal = state.data.notes[denomination]\r\n\tconst [error, setError]: [null | string, Dispatch<SetStateAction<any>>] = useState(null)\r\n\tconst [value, setValue]: [null | undefined | string | number, Dispatch<SetStateAction<any>>] = useState(null)\r\n\r\n\tuseEffect(() => {\r\n\t\tif (inVal === null) setValue('')\r\n\t\telse setValue(inVal / step)\r\n\t}, [inVal, step])\r\n\r\n\tconst handleNumberChange = (v: any): void => {\r\n\t\tconst noteNumber = Number(v)\r\n\r\n\t\tif (v === '' || v === undefined || v === null) setValue('')\r\n\t\telse setValue(noteNumber)\r\n\r\n\t\tconst val = noteNumber * step\r\n\t\tconst nanCheck = isNaN(val)\r\n\t\tconst zeroCheck = val < 0\r\n\t\tconst stepCheck = (val > 0 && val % step)\r\n\t\tif (nanCheck) {\r\n\t\t\tsetError(`Error in [handleNumberChange] at nanCheck: value is not a number: ${val}`)\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (zeroCheck) {\r\n\t\t\tsetError(`Error in [handleNumberChange] at zeroCheck: value is bellow zero: ${val}`)\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (stepCheck) {\r\n\t\t\tsetError(`Error in [handleNumberChange] at stepCheck: value is an incompatible ammount: ${val}`)\r\n\t\t\treturn\r\n\t\t}\r\n\t\tsetError(null)\r\n\t\tconst payload = {\r\n\t\t\t[denomination]: (v === undefined || v === null || v === '') ? null : val\r\n\t\t}\r\n\t\tdispatch({\r\n\t\t\ttype: CountActions.UPDATE_NOTES,\r\n\t\t\tpayload,\r\n\t\t})\r\n\t}\r\n\r\n\treturn (\r\n\t\t<NumberInput\r\n\t\t\tpx='2em'\r\n\t\t\tvalue={value === null ? undefined : value}\r\n\t\t>\r\n\t\t\t<NumberInputField \r\n\t\t\t\tonChange={(e: any) => handleNumberChange(e.target.value)}\r\n\t\t\t\tvalue={value === null ? undefined : value}\r\n\t\t\t\tbgColor='#f8f8f8'\r\n\t\t\t\tborderColor='rgba(0,0,0,0)'\r\n\t\t\t\tborderRadius='none'\r\n\t\t\t\tborderBottom='2px solid'\r\n\t\t\t\tborderBottomColor='theme_light.text.lighter'\r\n\t\t\t\tboxShadow={error ? '0 0 0 2px #E75858' : ''}\r\n\t\t\t\ttitle={`Number of individual ${label} notes`}\r\n\t\t\t\tclassName='tab_jump'\r\n\t\t\t/>\r\n\t\t</NumberInput>\r\n\t)\r\n}\r\n\r\nexport default NoteNumberInput","import React, {\r\n\tuseState,\r\n\tDispatch,\r\n\tSetStateAction,\r\n\tuseContext,\r\n} from 'react'\r\nimport { \r\n\tNumberInput, \r\n\tNumberInputField, \r\n} from '@chakra-ui/number-input'\r\n\r\nimport CountContext from '../utils/CountContext'\r\nimport { CountActions, sanitiseNumberInputVal } from '../utils/API'\r\nimport { useEffect } from 'react'\r\n\r\ninterface Props {\r\n\tdenomination: string\r\n\tstep: number\r\n\tlabel: string\r\n}\r\n\r\nconst NoteNumberInput: React.FC<Props> = ({\r\n\tdenomination,\r\n\tstep,\r\n\tlabel,\r\n}) => {\r\n\tconst [error, setError]: [null | string, Dispatch<SetStateAction<any>>] = useState(null)\r\n\tconst { state, dispatch } = useContext(CountContext)\r\n\tconst inVal = state.data.notes[denomination]\r\n\tconst [value, setValue]: [null | undefined | string | number, Dispatch<SetStateAction<any>>] = useState(null)\r\n\r\n\tuseEffect(() => {\r\n\t\t// console.log('### updating from inVal', inVal, (inVal * step) / 100)\r\n\t\tif (typeof inVal === 'number') setValue(inVal / 100)\r\n\t\telse setValue('')\r\n\t}, [inVal, step])\r\n\r\n\tconst handleValueChange = (v: any): void => {\r\n\t\t// console.log(v)\r\n\t\tconst poundValue = Number(v)\r\n\t\tconst penceValue = poundValue * 100\r\n\t\t\r\n\t\tif (v === '' || v === undefined || v === null) setValue('')\r\n\t\telse setValue(v)\r\n\t\t\r\n\t\tconst stepAsPound = (step / 100)\r\n\t\tconst val = poundValue / stepAsPound\r\n\r\n\t\tconst nanCheck = isNaN(val)\r\n\t\tconst zeroCheck = val < 0\r\n\r\n\t\tconst stepCheck = (val > 0 && poundValue % stepAsPound)\r\n\t\tif (nanCheck) {\r\n\t\t\tsetError(`Error in [handleValueChange] at \"Nan Check\": value is not a number: ${val}`)\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (zeroCheck) {\r\n\t\t\tsetError(`Error in [handleValueChange] at \"Zero Check\": value is bellow zero: ${val}`)\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (stepCheck) {\r\n\t\t\t// console.log(poundValue, stepAsPound, poundValue % stepAsPound)\r\n\t\t\tsetError(`Error in [handleValueChange] at \"Step Check\": value is an incompatible ammount: ${val}`)\r\n\t\t\treturn\r\n\t\t}\r\n\t\tsetError(null)\r\n\t\tconst payload = {\r\n\t\t\t[denomination]: (v === '' || v === null || v === undefined) ? null : penceValue\r\n\t\t}\r\n\t\tdispatch({\r\n\t\t\ttype: CountActions.UPDATE_NOTES,\r\n\t\t\tpayload,\r\n\t\t})\r\n\t}\r\n\r\n\treturn (\r\n\t\t<NumberInput\r\n\t\t\tpx='2em'\r\n\t\t\ttitle={`Number of individual ${label} notes ${error ? '\\n' + error : ''}`}\r\n\t\t\tvalue={sanitiseNumberInputVal(value, step)}\r\n\t\t>\r\n\t\t\t<NumberInputField \r\n\t\t\t\tonChange={(e: any) => handleValueChange(e.target.value)}\r\n\t\t\t\tvalue={sanitiseNumberInputVal(value, step)}\r\n\t\t\t\tbgColor='#f8f8f8'\r\n\t\t\t\tborderColor='rgba(0,0,0,0)'\r\n\t\t\t\tborderRadius='none'\r\n\t\t\t\tborderBottom='2px solid'\r\n\t\t\t\tborderBottomColor='theme_light.text.lighter'\r\n\t\t\t\tboxShadow={error ? '0 0 0 2px #E75858' : ''}\r\n\t\t\t\tclassName='tab_jump'\r\n\t\t\t/>\r\n\t\t</NumberInput>\r\n\t)\r\n}\r\n\r\nexport default NoteNumberInput","import React from 'react'\r\nimport { \r\n\tGrid,\r\n\tGridItem,\r\n\tFormLabel,\r\n} from '@chakra-ui/react'\r\nimport NoteNumberInput from './NoteNumberInput'\r\nimport NoteValueInput from './NoteValueInput'\r\n\r\ninterface Props {\r\n\tlabel: string\r\n\tstep: number\r\n\tdenomination: string\r\n}\r\n\r\nconst NoteInput: React.FC<Props> = ({\r\n\tlabel,\r\n\tstep,\r\n\tdenomination,\r\n}) => {\r\n\t// const [value, setValue]: [number, Dispatch<SetStateAction<number>>] = useState(2)\r\n\r\n\treturn (\r\n\t\t<GridItem\r\n\t\t\tp='8px 20px'\r\n\t\t>\r\n\t\t\t<Grid\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tjustifyContent='space-around'\r\n\t\t\t\twidth='100%'\r\n\t\t\t\ttemplateColumns='100px 1fr 1fr'\r\n\t\t\t\tjustifyItems='center'\r\n\t\t\t>\r\n\t\t\t\t<FormLabel\r\n\t\t\t\t\tmargin='0'\r\n\t\t\t\t>\r\n\t\t\t\t\t{label}\r\n\t\t\t\t</FormLabel>\r\n\t\t\t\t<NoteNumberInput \r\n\t\t\t\t\tstep={step}\r\n\t\t\t\t\tdenomination={denomination}\r\n\t\t\t\t\tlabel={label}\r\n\t\t\t\t/>\r\n\t\t\t\t<NoteValueInput\r\n\t\t\t\t\tstep={step}\r\n\t\t\t\t\tdenomination={denomination}\r\n\t\t\t\t\tlabel={label} \r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t</GridItem>\r\n\t)\r\n}\r\n\r\nexport default NoteInput","import React, { useContext } from 'react'\r\nimport {\r\n\tFlex,\r\n\tGrid,\r\n\tGridItem,\r\n\tFormLabel,\r\n\tBox,\r\n\tDivider,\r\n} from '@chakra-ui/react'\r\n\r\nimport NoteInputWrapper from './NoteInputWrapper'\r\nimport CountContext from '../utils/CountContext'\r\nimport SubTotal from '../SubTotal'\r\n\r\nconst BaggedCoin: React.FC = () => {\r\n\tconst { state: { data: { notes: { total } } } } = useContext(CountContext)\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Divider />\r\n\t\t\t<FormLabel\r\n\t\t\t\tmarginTop='10px'\r\n\t\t\t\ttitle='Notes in the till or Uncounted Pickups is this was a spot check. (Uncounted Pickups are notes which were in the safe during a pickup but not yet processed. Hence VBS would have assumed they were still in the till.'\r\n\t\t\t>\r\n\t\t\t\tNotes / Uncounted Pickups\r\n\t\t\t</FormLabel>\r\n\t\t\t<GridItem\r\n\t\t\t\tcolStart={1}\r\n\t\t\t\tcolEnd={-1}\r\n\t\t\t>\r\n\t\t\t\t<Flex\r\n\t\t\t\t\tdirection='column'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid\r\n\t\t\t\t\t\tp='8px 20px'\r\n\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\tjustifyContent='space-around'\r\n\t\t\t\t\t\twidth='100%'\r\n\t\t\t\t\t\ttemplateColumns='100px 1fr 1fr'\r\n\t\t\t\t\t\tjustifyItems='center'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Box></Box>\r\n\t\t\t\t\t\t<FormLabel>Number</FormLabel>\r\n\t\t\t\t\t\t<FormLabel>Value</FormLabel>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<NoteInputWrapper \r\n\t\t\t\t\t\tlabel='£50'\r\n\t\t\t\t\t\tstep={5000}\r\n\t\t\t\t\t\tdenomination='note_fifty'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<NoteInputWrapper \r\n\t\t\t\t\t\tlabel='£20'\r\n\t\t\t\t\t\tstep={2000}\r\n\t\t\t\t\t\tdenomination='note_twenty'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<NoteInputWrapper \r\n\t\t\t\t\t\tlabel='£10'\r\n\t\t\t\t\t\tstep={1000}\r\n\t\t\t\t\t\tdenomination='note_ten'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<NoteInputWrapper \r\n\t\t\t\t\t\tlabel='£5'\r\n\t\t\t\t\t\tstep={500}\r\n\t\t\t\t\t\tdenomination='note_five'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<NoteInputWrapper \r\n\t\t\t\t\t\tlabel='£1 (Scottish)'\r\n\t\t\t\t\t\tstep={100}\r\n\t\t\t\t\t\tdenomination='note_one'\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Flex>\r\n\t\t\t\t<SubTotal\r\n\t\t\t\t\tvalue={total}\r\n\t\t\t\t\ttitle='total value of notes (£)'\r\n\t\t\t\t/>\r\n\t\t\t</GridItem>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default BaggedCoin","import React, { useContext } from 'react'\r\nimport {\r\n\tBox,\r\n} from '@chakra-ui/react'\r\n\r\nimport Select from '../base/Select'\r\n\r\nimport { Repository as RepositoryT } from '../../global'\r\nimport initialReduxState from '../../constants/initialState'\r\n\r\nimport CountContext from './utils/CountContext'\r\nimport { CountActions } from './utils/API'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst Repository = () => {\r\n\tconst { state, dispatch } = useContext(CountContext)\r\n\tconst repositories: RepositoryT[] = useSelector((s: typeof initialReduxState) => s.repositories.repositoryList)\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tp='10px 0 20px'\r\n\t\t>\r\n\t\t\t<Select\r\n\t\t\t\tw='50%'\r\n\t\t\t\tvalue={state.repositoryId || undefined}\r\n\t\t\t\tonChange={(e: any) => dispatch({ type: CountActions.UPDATE_REPO, payload: e.target.value})}\r\n\t\t\t>\r\n\t\t\t\t{\r\n\t\t\t\t\trepositories.map((each: RepositoryT) =>\r\n\t\t\t\t\t\t<option \r\n\t\t\t\t\t\t\tvalue={each.id} \r\n\t\t\t\t\t\t\tkey={each.id}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\teach.name\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</option>\t\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t</Select>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default Repository","import React from 'react'\r\nimport { Box } from '@chakra-ui/react'\r\nimport { CalendarIcon } from '@chakra-ui/icons'\r\nimport DatePicker from 'react-datepicker'\r\n\r\nconst DateInput: React.FC<any> = (props: any) => (\r\n\t<Box\r\n\t\tborder='2px solid'\r\n\t\tdisplay='inline-flex'\r\n\t\tcolor='theme_light.text.light'\r\n\t\tborderColor='theme_light.text.lighter'\r\n\t\tp='2px 16px'\r\n\t\tfontSize='18px'\r\n\t\tposition='relative'\r\n\t\talignItems='center'\r\n\t\ttitle={props.title || 'pick a date'}\r\n\t\ttransition='.1s linear'\r\n\t\t_hover={{\r\n\t\t\tcolor: 'theme_light.text.standard',\r\n\t\t\tborderColor: 'theme_light.text.light',\r\n\t\t}}\r\n\t>\r\n\t\t{/* <input \r\n\t\t\t{...props}\r\n\t\t\ttype='date' \r\n\t\t/> */}\r\n\t\t<DatePicker\r\n\t\t\t{...props}\r\n\t\t\t\r\n\t\t/>\r\n\t\t<CalendarIcon />\r\n\t</Box>\r\n)\r\n\r\nexport default DateInput ","import React from 'react'\r\nimport { Box } from '@chakra-ui/react'\r\nimport { TimeIcon } from '@chakra-ui/icons'\r\nimport DatePicker from 'react-datepicker'\r\n\r\nconst TimeInput: React.FC<any> = (props: any) => (\r\n\t<Box\r\n\t\tborder='2px solid'\r\n\t\tdisplay='inline-flex'\r\n\t\tcolor='theme_light.text.light'\r\n\t\tborderColor='theme_light.text.lighter'\r\n\t\tp='2px 16px'\r\n\t\tfontSize='18px'\r\n\t\tposition='relative'\r\n\t\talignItems='center'\r\n\t\ttitle={props.title || 'select a time'}\r\n\t\ttransition='.1s linear'\r\n\t\t_hover={{\r\n\t\t\tcolor: 'theme_light.text.standard',\r\n\t\t\tborderColor: 'theme_light.text.light',\r\n\t\t}}\r\n\t>\r\n\t\t<DatePicker \r\n\t\t\t{...props}\r\n\t\t/>\r\n\t\t<TimeIcon />\r\n\t</Box>\r\n)\r\n\r\nexport default TimeInput ","import React, { useContext } from 'react'\r\nimport {\r\n\tFlex,\r\n\tButton,\r\n\tFormLabel,\r\n} from '@chakra-ui/react'\r\n\r\nimport { registerLocale, setDefaultLocale } from  \"react-datepicker\"\r\nimport gb from 'date-fns/locale/en-GB'\r\n\r\n// import {\r\n\t// \tDatePicker, \r\n// \tDatePickerInput,\r\n// \tTimePicker,\r\n// \tTimePickerSelect,\r\n// } from 'carbon-components-react'\r\n\r\nimport DateInput from '../base/DateInput'\r\nimport TimeInput from '../base/TimeInput'\r\nimport CountContext from './utils/CountContext'\r\nimport { CountActions } from './utils/API'\r\n\r\nregisterLocale('gb', gb)\r\nsetDefaultLocale('gb')\r\n\r\nconst Time: React.FC = () => {\r\n\tconst { state: { timestamp }, dispatch } = useContext(CountContext)\r\n\r\n\tconst handleChange = (date: Date): void => {\r\n\t\tdispatch({\r\n\t\t\ttype: CountActions.UPDATE_TIME,\r\n\t\t\tpayload: date\r\n\t\t})\r\n\t}\r\n\r\n\tconst handleResetTime = () => dispatch({ \r\n\t\ttype: CountActions.UPDATE_TIME, \r\n\t\tpayload: Date.now() \r\n\t})\r\n\r\n\t// const handleChangeDate = (e: any) => {\r\n\t// \tconst t = e.target.value\r\n\t// \tconst startDate = new Date(timestamp)\r\n\t// \tconst inputDate = new Date(t)\r\n\t// \tconsole.log({inputDate})\r\n\t// \tinputDate.setHours(startDate.getHours())\r\n\t// \tinputDate.setMinutes(startDate.getMinutes())\r\n\t// \tinputDate.setSeconds(startDate.getSeconds())\r\n\t// \tinputDate.setMilliseconds(startDate.getMilliseconds())\r\n\t// \tconsole.log({inputDate})\r\n\t// \tdispatch({\r\n\t// \t\ttype: CountActions.UPDATE_TIME,\r\n\t// \t\tpayload: inputDate.getTime()\r\n\t// \t})\r\n\t// }\r\n\r\n\t// const handleChangeTime = (e: any) => {\r\n\t// \tconst t = e.target.value\r\n\t// \tconst components = t.split(':')\r\n\t// \tconst inputDate = new Date(timestamp)\r\n\t// \tconsole.log({inputDate})\r\n\t// \tinputDate.setHours(components[0])\r\n\t// \tinputDate.setMinutes(components[1])\r\n\t// \tinputDate.setSeconds(components[2])\r\n\t// \tconsole.log({inputDate})\r\n\t// \tdispatch({\r\n\t// \t\ttype: CountActions.UPDATE_TIME,\r\n\t// \t\tpayload: inputDate.getTime()\r\n\t// \t})\r\n\t// }\r\n\r\n\t// const formatDate = (utc: number) => {\r\n\t// \tconst d: Date = new Date(utc)\r\n\t// \tconst n = (num: number) => num < 10 ? `0${num}` : num\r\n\t// \tconst year: number = d.getFullYear()\r\n\t// \tconst month: number | string = n(d.getMonth()+1)\r\n\t// \tconst day: number | string = n(d.getDate())\r\n\t// \treturn `${year}-${month}-${day}`\r\n\t// }\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<FormLabel>Date</FormLabel>\r\n\t\t\t<Flex\r\n\t\t\t\tw='100%'\r\n\t\t\t\tjustifyContent='space-around'\r\n\t\t\t\tflexWrap='wrap'\r\n\t\t\t>\r\n\t\t\t\t\t{/* <DatePicker\r\n\t\t\t\t\t\tid='date-picker'\r\n\t\t\t\t\t\tlight={false}\r\n\t\t\t\t\t\tonChange={() => {}}\r\n\t\t\t\t\t\tonClose={() => {}}\r\n\t\t\t\t\t\tdatePickerType=\"single\"\r\n\t\t\t\t\t\tdateFormat=\"d/m/Y\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DatePickerInput \r\n\t\t\t\t\t\t\tid='date-picker-input-id'\r\n\t\t\t\t\t\t\tlabelText={false}\r\n\t\t\t\t\t\t\tplaceholder='mm/dd/yyyy'\r\n\t\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\t\tinvalid={false}\r\n\t\t\t\t\t\t\tinvalidText='A valid value is required'\r\n\t\t\t\t\t\t\ticonDescription='Icon description'\r\n\t\t\t\t\t\t\tonClick={() => {}}\r\n\t\t\t\t\t\t\tonChange={() => {}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</DatePicker>\r\n\t\t\t\t\t<TimePicker\r\n\t\t\t\t\t\tid='time-picker-input-id'\r\n\t\t\t\t\t\tonChange={(e: any) => console.log(e.target.value)}\r\n\t\t\t\t\t></TimePicker> */}\r\n\t\t\t\t\t\r\n\t\t\t\t{/* <DatePicker\r\n\t\t\t\t\tselected={timestamp}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\tname='Date Start'\r\n\t\t\t\t\tlocale='gb'\r\n\t\t\t\t\ttimeFormat='HH:mm'\r\n\t\t\t\t\ttimeCaption='time input'\r\n\t\t\t\t\tdateFormat='dd/MM/yyyy'\r\n\t\t\t\t/>\r\n\t\t\t\t<DatePicker\r\n\t\t\t\t\tselected={timestamp}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\tname='Date Start'\r\n\t\t\t\t\tshowTimeSelect={true}\r\n\t\t\t\t\tshowTimeSelectOnly={true}\r\n\t\t\t\t\tlocale='gb'\r\n\t\t\t\t\ttimeFormat='HH:mm'\r\n\t\t\t\t\ttimeCaption='time input'\r\n\t\t\t\t\tdateFormat='HH:mm'\r\n\t\t\t\t/> */}\r\n\t\t\t\t<Flex\r\n\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\tjustifyContent='center'\r\n\t\t\t\t>\r\n\t\t\t\t\t<DateInput \r\n\t\t\t\t\t\tflex='1' \r\n\t\t\t\t\t\tselected={timestamp}\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\tname='Date Start'\r\n\t\t\t\t\t\tlocale='gb'\r\n\t\t\t\t\t\ttimeFormat='HH:mm'\r\n\t\t\t\t\t\ttimeCaption='time input'\r\n\t\t\t\t\t\tdateFormat='dd/MM/yyyy'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TimeInput \r\n\t\t\t\t\t\tflex='1' \r\n\t\t\t\t\t\tselected={timestamp}\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\tname='Date Start'\r\n\t\t\t\t\t\tshowTimeSelect={true}\r\n\t\t\t\t\t\tshowTimeSelectOnly={true}\r\n\t\t\t\t\t\tlocale='gb'\r\n\t\t\t\t\t\ttimeFormat='HH:mm'\r\n\t\t\t\t\t\ttimeCaption='time input'\r\n\t\t\t\t\t\tdateFormat='HH:mm'\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Flex>\r\n\t\t\t\t<Button \r\n\t\t\t\t\tvariant='ui'\r\n\t\t\t\t\tonClick={handleResetTime}\r\n\t\t\t\t>\r\n\t\t\t\t\tCount Now\r\n\t\t\t\t</Button>\r\n\t\t\t</Flex>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default Time","import React, { \r\n\tuseState, \r\n\tuseRef,\r\n} from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useNavigate, useParams } from 'react-router'\r\n\r\nimport { countsDataWriteAll, uiFlashWriteOne } from '../../../actions'\r\n\r\nimport {\r\n\tMenuItem,\r\n\tButton,\r\n\tFormControl,\r\n\tFormLabel,\r\n\tAlertDialog,\r\n\tAlertDialogHeader,\r\n\tAlertDialogOverlay,\r\n\tAlertDialogBody,\r\n\tAlertDialogFooter,\r\n\tAlertDialogContent,\r\n\tFlex,\r\n\tText,\r\n\tAlertDialogCloseButton,\r\n} from '@chakra-ui/react'\r\n\r\nimport {\r\n\tDeleteIcon,\r\n} from '@chakra-ui/icons'\r\n\r\nimport Select from '../../base/Select'\r\n\r\nimport initialState from '../../../constants/initialState'\r\nimport { Partner } from '../../../global'\r\n\r\nconst DeleteCount: React.FC = () => {\r\n\tconst [open, setOpen] = useState(false)\r\n\tconst [partner, setPartner] = useState(undefined)\r\n\tconst [busy, setBusy] = useState(false)\r\n\tconst [modalError, setModalError]: [null | string, any] = useState(null)\r\n\tconst [selectError, setSelectError]: [null | string, any] = useState(null)\r\n\t\r\n\tconst partners = useSelector((s: typeof initialState) => s.auth.partnerList)\r\n\tconst dispatch = useDispatch()\r\n\tconst params: { id: string | undefined } = useParams()\r\n\r\n\tconst safetyRef = useRef()\r\n\tconst navigate = useNavigate()\r\n\r\n\tconst handleChange = (e: any) => {\r\n\t\tsetPartner(e.target.value)\r\n\t\tsetSelectError(null)\r\n\t}\r\n\r\n\tconst handleClick = (e: any) => {\r\n\t\te.preventDefault()\r\n\t\tsetOpen(!open)\r\n\t}\r\n\r\n\tconst handleSubmit = (e: any) => {\r\n\t\tif (partner && partner !== '' && partner !== undefined && partner !== 'undefined') {\r\n\t\t\tsetBusy(true)\r\n\t\t\tconst EXT = `/api/v1/count/${params.id}`\r\n\t\t\t// const EXT = `/test/badly`\r\n\t\t\tconst OPTS = {\r\n\t\t\t\tmethod: 'DELETE',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' }\r\n\t\t\t}\r\n\t\t\tfetch(EXT, OPTS)\r\n\t\t\t\t.then(res => res.json())\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tif (res.status === 200) {\r\n\t\t\t\t\t\tdispatch(countsDataWriteAll())\r\n\t\t\t\t\t\tdispatch(uiFlashWriteOne('Count Deleted', '', 'info', 5000))\r\n\t\t\t\t\t\tnavigate('/counts')\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetModalError(res.responseMessage || res.errorMessage)\r\n\t\t\t\t\t\tconsole.error(res.responseMessage || res.errorMessage)\r\n\t\t\t\t\t\tsetBusy(false)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => {\r\n\t\t\t\t\tsetModalError(error.error)\r\n\t\t\t\t\tconsole.error(error)\r\n\t\t\t\t\tsetBusy(false)\r\n\t\t\t\t})\r\n\t\t} else {\r\n\t\t\tsetSelectError('Please select yourself from this list.')\r\n\t\t}\r\n\t}\r\n\r\n\tconst explicitClose = () => setOpen(false)\r\n\r\n\t// const explicitOpen = () => setOpen(true)\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<AlertDialog\r\n\t\t\t\tisOpen={open}\r\n\t\t\t\t// @ts-ignore\r\n\t\t\t\tleastDestructiveRef={safetyRef}\r\n\t\t\t\tsize='lg'\r\n\t\t\t\tonClose={() => {}}\r\n\t\t\t\tcloseOnEsc={true}\r\n\t\t\t\tcloseOnOverlayClick={true}\r\n\t\t\t\tblockScrollOnMount={true}\r\n\r\n\t\t\t>\r\n\t\t\t\t<AlertDialogOverlay>\r\n\t\t\t\t\t<AlertDialogContent\r\n\t\t\t\t\t\tw='800px'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<AlertDialogHeader>\r\n\t\t\t\t\t\t\tAre you sure you want to delete this count?\r\n\t\t\t\t\t\t\t<AlertDialogCloseButton \r\n\t\t\t\t\t\t\t\tonClick={explicitClose}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</AlertDialogHeader>\r\n\t\t\t\t\t\t<AlertDialogBody>\r\n\t\t\t\t\t\t\tThis cannot be undone except by a duty manager.\r\n\t\t\t\t\t\t\t<Text\r\n\t\t\t\t\t\t\t\tmarginTop='20px'\r\n\t\t\t\t\t\t\t\tcolor='theme_light.ui.dangerDark'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{modalError ? modalError : ''}\r\n\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t</AlertDialogBody>\r\n\t\t\t\t\t\t<AlertDialogFooter\r\n\t\t\t\t\t\t\tflexDirection='row-reverse'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FormLabel\r\n\t\t\t\t\t\t\t\t\tmarginBottom='30px'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tSelect your name to confirm the delete:\r\n\t\t\t\t\t\t\t\t</FormLabel>\r\n\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\tvalue={partner}\r\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\tborderColor={selectError ? 'theme_light.ui.dangerLight' : 'theme_light.text.lighter'}\r\n\t\t\t\t\t\t\t\t\ttitle={selectError ? selectError : null}\r\n\t\t\t\t\t\t\t\t\t_hover={{\r\n\t\t\t\t\t\t\t\t\t\tborderColor: selectError ? 'theme_light.ui.dangerDark' : 'theme_light.text.light',\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\t\tvalue='undefined'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t-Select Your Partner ID-\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tpartners.map((each: Partner) => \r\n\t\t\t\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={each.id}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={each.id}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t`${each.firstName}${each.preferredName ? ` (${each.preferredName})` : ''} ${each.lastName} - ${each.tillNumber}`\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t<Flex\r\n\t\t\t\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\t\t\t\tmarginTop='30px'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tvariant='dangerOutline'\r\n\t\t\t\t\t\t\t\t\t\tborder='none'\r\n\t\t\t\t\t\t\t\t\t\th='2rem'\r\n\t\t\t\t\t\t\t\t\t\tonClick={handleSubmit}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={busy}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tDelete this count\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\t\t\t\t\t\tref={safetyRef}\r\n\t\t\t\t\t\t\t\t\t\tonClick={explicitClose}\r\n\t\t\t\t\t\t\t\t\t\tpx='40px'\r\n\t\t\t\t\t\t\t\t\t\tdisabled={busy}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tBack to Safety\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Flex>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</AlertDialogFooter>\r\n\t\t\t\t\t</AlertDialogContent>\r\n\t\t\t\t</AlertDialogOverlay>\r\n\t\t\t</AlertDialog>\r\n\t\t\t<MenuItem\r\n\t\t\t\ticon={<DeleteIcon />}\r\n\t\t\t\tonClick={handleClick}\r\n\t\t\t>\r\n\t\t\t\tDelete Count\r\n\t\t\t</MenuItem>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default DeleteCount","import { uiFlashWriteOne } from '../../../actions'\r\nimport { FlashCatts } from '../../../global'\r\n\r\nimport { StateType } from '../utils/types'\r\n\r\ninterface ServerCountType {\r\n\trepositoryId?: number | null\r\n\ttimestamp?: number | null\r\n\tcounter?: string | null\r\n\tcounterId?: number | null\r\n\tsupervisor?: string | null\r\n\tsupervisorId?: number | null\r\n\tfloat?: ServerFloatType | null\r\n}\r\n\r\ninterface ServerFloatType {\r\n\tbagPence1?: number | null\r\n\tbagPence2?: number | null\r\n\tbagPence5?: number | null\r\n\tbagPence10?: number | null\r\n\tbagPence20?: number | null\r\n\tbagPence50?: number | null\r\n\tbagPound1?: number | null\r\n\tbagPound2?: number | null\r\n\tbagNote5?: number | null\r\n\tbagTotal?: number | null\r\n\tloosePence1?: number | null\r\n\tloosePence2?: number | null\r\n\tloosePence5?: number | null\r\n\tloosePence10?: number | null\r\n\tloosePence20?: number | null\r\n\tloosePence50?: number | null\r\n\tloosePound1?: number | null\r\n\tloosePound2?: number | null\r\n\tlooseOther?: number | null\r\n\tlooseTotal?: number | null\r\n\tnote1?: number | null\r\n\tnote5?: number | null\r\n\tnote10?: number | null\r\n\tnote20?: number | null\r\n\tnote50?: number | null\r\n\tnoteTotal?: number | null\r\n\tfloatTotal?: number | null\r\n}\r\n\r\n\r\nexport function saveExisting (state: StateType, dispatch: any, callback?: (arg0: any) => any) {\r\n\tconst count: ServerCountType = {\r\n\t\trepositoryId: state.repositoryId,\r\n\t\ttimestamp: state.timestamp,\r\n\t\tfloat: {\r\n\t\t\tbagPence1: state.data.bagged.pence_one,\r\n\t\t\tbagPence2: state.data.bagged.pence_two,\r\n\t\t\tbagPence5: state.data.bagged.pence_five,\r\n\t\t\tbagPence10: state.data.bagged.pence_ten,\r\n\t\t\tbagPence20: state.data.bagged.pence_twenty,\r\n\t\t\tbagPence50: state.data.bagged.pence_fifty,\r\n\t\t\tbagPound1: state.data.bagged.pound_one,\r\n\t\t\tbagPound2: state.data.bagged.pound_two,\r\n\t\t\tbagNote5: state.data.bagged.note_five,\r\n\t\t\tbagTotal: state.data.bagged.total,\r\n\t\t\tloosePence1: state.data.loose.pence_one,\r\n\t\t\tloosePence2: state.data.loose.pence_two,\r\n\t\t\tloosePence5: state.data.loose.pence_five,\r\n\t\t\tloosePence10: state.data.loose.pence_ten,\r\n\t\t\tloosePence20: state.data.loose.pence_twenty,\r\n\t\t\tloosePence50: state.data.loose.pence_fifty,\r\n\t\t\tloosePound1: state.data.loose.pound_one,\r\n\t\t\tloosePound2: state.data.loose.pound_two,\r\n\t\t\tlooseOther: state.data.loose.other,\r\n\t\t\tlooseTotal: state.data.loose.total,\r\n\t\t\tnote1: state.data.notes.note_one,\r\n\t\t\tnote5: state.data.notes.note_five,\r\n\t\t\tnote10: state.data.notes.note_ten,\r\n\t\t\tnote20: state.data.notes.note_twenty,\r\n\t\t\tnote50: state.data.notes.note_fifty,\r\n\t\t\tnoteTotal: state.data.notes.total,\r\n\t\t\tfloatTotal: state.data.notes.total\r\n\t\t}\r\n\t}\r\n\tif (!state.counterId) {\r\n\t\tcount.counterId = null\r\n\t\tcount.counter = state.counter\r\n\t} else {\r\n\t\tcount.counter = ''\r\n\t\tcount.counterId = Number(state.counterId)\r\n\t}\r\n\tif (!state.supervisorId) {\r\n\t\tcount.supervisorId = null\r\n\t\tcount.supervisor = state.supervisor\r\n\t} else {\r\n\t\tcount.supervisor = ''\r\n\t\tcount.supervisorId = Number(state.supervisorId)\r\n\t}\r\n\tconsole.log(count)\r\n\tconst EXT = `/api/v1/count/${state.id}`\r\n\tconst OPTS = {\r\n\t\tmethod: 'PUT',\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json'\r\n\t\t},\r\n\t\tbody: JSON.stringify({ count })\r\n\t}\r\n\tfetch(EXT, OPTS)\r\n\t\t.then(res => res.json())\r\n\t\t.then(res => {\r\n\t\t\tconsole.log(res)\r\n\t\t\tconst catt: FlashCatts = res.validation.code\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tdispatch(uiFlashWriteOne('Count updated', '', catt, 8000))\r\n\t\t\t} else {\r\n\t\t\t\tdispatch(uiFlashWriteOne('There was an issue updating the count', res.errorMessage || res.responseMessage || '', catt, 8000))\r\n\t\t\t}\r\n\t\t\treturn res\r\n\t\t})\r\n\t\t.then(callback)\r\n\t\t.catch(error => {\r\n\t\t\tdispatch(uiFlashWriteOne('Something went wrong.', error, 'danger', 8000))\r\n\t\t\tconsole.error(error)\r\n\t\t})\r\n}\r\n\r\nexport function saveNew (state: StateType, dispatch: any, callback: (res: any) => any) {\r\n\tconst count: ServerCountType = {\r\n\t\trepositoryId: state.repositoryId,\r\n\t\ttimestamp: state.timestamp,\r\n\t\tfloat: {\r\n\t\t\tbagPence1: state.data.bagged.pence_one,\r\n\t\t\tbagPence2: state.data.bagged.pence_two,\r\n\t\t\tbagPence5: state.data.bagged.pence_five,\r\n\t\t\tbagPence10: state.data.bagged.pence_ten,\r\n\t\t\tbagPence20: state.data.bagged.pence_twenty,\r\n\t\t\tbagPence50: state.data.bagged.pence_fifty,\r\n\t\t\tbagPound1: state.data.bagged.pound_one,\r\n\t\t\tbagPound2: state.data.bagged.pound_two,\r\n\t\t\tbagNote5: state.data.bagged.note_five,\r\n\t\t\tbagTotal: state.data.bagged.total,\r\n\t\t\tloosePence1: state.data.loose.pence_one,\r\n\t\t\tloosePence2: state.data.loose.pence_two,\r\n\t\t\tloosePence5: state.data.loose.pence_five,\r\n\t\t\tloosePence10: state.data.loose.pence_ten,\r\n\t\t\tloosePence20: state.data.loose.pence_twenty,\r\n\t\t\tloosePence50: state.data.loose.pence_fifty,\r\n\t\t\tloosePound1: state.data.loose.pound_one,\r\n\t\t\tloosePound2: state.data.loose.pound_two,\r\n\t\t\tlooseOther: state.data.loose.other,\r\n\t\t\tlooseTotal: state.data.loose.total,\r\n\t\t\tnote1: state.data.notes.note_one,\r\n\t\t\tnote5: state.data.notes.note_five,\r\n\t\t\tnote10: state.data.notes.note_ten,\r\n\t\t\tnote20: state.data.notes.note_twenty,\r\n\t\t\tnote50: state.data.notes.note_fifty,\r\n\t\t\tnoteTotal: state.data.notes.total,\r\n\t\t\tfloatTotal: state.data.notes.total\r\n\t\t}\r\n\t}\r\n\tif (!state.counterId) {\r\n\t\tcount.counterId = null\r\n\t\tcount.counter = state.counter\r\n\t} else {\r\n\t\tcount.counter = ''\r\n\t\tcount.counterId = Number(state.counterId)\r\n\t}\r\n\tif (!state.supervisorId) {\r\n\t\tcount.supervisorId = null\r\n\t\tcount.supervisor = state.supervisor\r\n\t} else {\r\n\t\tcount.supervisor = ''\r\n\t\tcount.supervisorId = Number(state.supervisorId)\r\n\t}\r\n\tconst EXT = `/api/v1/count/`\r\n\tconst OPTS = {\r\n\t\tmethod: 'POST',\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json'\r\n\t\t},\r\n\t\tbody: JSON.stringify({\r\n\t\t\tcount\r\n\t\t})\r\n\t}\r\n\tfetch(EXT, OPTS)\r\n\t\t.then(res => res.json())\r\n\t\t.then((res: any) => {\r\n\t\t\t// console.log(res)\r\n\t\t\tconst catt: FlashCatts = res.validation.code\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tdispatch(uiFlashWriteOne('New count created successfully', `Count status: ${catt}`, 'complete', 8000))\r\n\t\t\t} else {\r\n\t\t\t\tdispatch(uiFlashWriteOne('There was an issue posting the new count', res.errorMessage || res.responseMessage || '', catt, 8000))\r\n\t\t\t}\r\n\t\t\treturn res\r\n\t\t})\r\n\t\t.then(callback)\r\n\t\t.catch(error => {\r\n\t\t\tconsole.error({ error })\r\n\t\t\tdispatch(uiFlashWriteOne('Something went wrong.', error.error, 'danger', 8000))\r\n\t\t})\r\n}","import React, { useContext } from 'react'\r\n\r\nimport {\r\n\tMenuItem,\r\n\tIcon\r\n} from '@chakra-ui/react'\r\n\r\nimport {\r\n\tMdSave\r\n} from 'react-icons/md'\r\nimport { saveExisting } from '../SaveInterface/utils'\r\nimport CountContext from '../utils/CountContext'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nconst SaveCount: React.FC = () => {\r\n\tconst { state } = useContext(CountContext)\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst handleClick = () => {\r\n\t\tsaveExisting(state, dispatch)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<MenuItem\r\n\t\t\t\tonClick={handleClick}\r\n\t\t\t\ticon={<Icon as={MdSave} />}\r\n\t\t\t>\r\n\t\t\t\tSave\r\n\t\t\t</MenuItem>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default SaveCount","import React from 'react'\r\n\r\nimport { \r\n\tFlex, \r\n\tIconButton, \r\n\tMenu, \r\n\tMenuButton, \r\n\t// MenuItem, \r\n\tMenuList \r\n} from '@chakra-ui/react'\r\nimport { \r\n\tHamburgerIcon \r\n} from '@chakra-ui/icons'\r\n\r\nimport DeleteCount from './DeleteCount'\r\nimport SaveCount from './SaveCount'\r\n\r\nconst Options: React.FC = () => {\r\n\tconst fs = 16\r\n\treturn (\r\n\t\t<Flex\r\n\t\t\tjustifyContent='flex-end'\r\n\t\t\tfontSize={fs}\r\n\t\t>\r\n\t\t\t<Menu>\r\n\t\t\t\t<MenuButton\r\n\t\t\t\t\t\r\n\t\t\t\t\tas={IconButton}\r\n\t\t\t\t\tarial-label='Options'\r\n\t\t\t\t\ticon={<HamburgerIcon fontSize='26px' />}\r\n\t\t\t\t\tvariant='ui'\r\n\t\t\t\t/>\r\n\t\t\t\t<MenuList\r\n\t\t\t\t\tboxShadow='0 5px 10px rgba(0,0,0,.3)'\r\n\t\t\t\t>\r\n\t\t\t\t\t<DeleteCount />\r\n\t\t\t\t\t<SaveCount />\r\n\t\t\t\t</MenuList>\r\n\t\t\t</Menu>\r\n\t\t</Flex>\r\n\t)\r\n}\r\n\r\nexport default Options","import React from 'react'\r\n\r\nimport {\r\n\tText,\r\n} from '@chakra-ui/react'\r\n\r\ninterface Props {\r\n\ttotal: any\r\n}\r\n\r\nconst Overall: React.FC<Props> = ({\r\n\ttotal\r\n}) => {\r\n\treturn (\r\n\t\t<Text\r\n\t\t\t// fontWeight='bold'\r\n\t\t\tfontSize='32px'\r\n\t\t>\r\n\t\t\t{\r\n\t\t\t\t(total / 100).toFixed(2)\r\n\t\t\t}\r\n\t\t</Text>\r\n\t)\r\n}\r\n\r\nexport default Overall","import React from 'react'\r\n\r\nimport {\r\n\tText,\r\n} from '@chakra-ui/react'\r\n\r\ninterface Props {\r\n\tbagged: any\r\n\tloose: any\r\n\tnotes: any\r\n}\r\n\r\nconst Sub: React.FC<Props> = ({\r\n\tbagged,\r\n\tloose,\r\n\tnotes,\r\n}) => {\r\n\r\n\treturn (\r\n\t\t<Text\r\n\t\t\tgridColumn='2'\r\n\t\t\tcolor='theme_light.text.lighter'\r\n\t\t\tmarginTop='10px'\r\n\t\t>\r\n\t\t\t{\r\n\t\t\t\t[bagged, loose, notes]\r\n\t\t\t\t\t.filter((each: any) => each !== undefined)\r\n\t\t\t\t\t.map((each: any) => each/100)\r\n\t\t\t\t\t.map((each: any) => each.toFixed(2))\r\n\t\t\t\t\t.join(' + ')\r\n\t\t\t}\r\n\t\t</Text>\r\n\t)\r\n}\r\n\r\nexport default Sub","import React, { useContext } from 'react'\r\nimport { \r\n\tBox, \r\n\tDivider,\r\n\t// Flex,\r\n\tGrid,\r\n\t// Text,\r\n\tHeading,\r\n\tGridItem, \r\n} from '@chakra-ui/react'\r\n\r\nimport Overall from './Overall'\r\nimport Sub from './Sub'\r\nimport CountContext from '../utils/CountContext'\r\n\r\nconst Total: React.FC = () => {\r\n\tconst { state } = useContext(CountContext)\r\n\t\r\n\tconst bagged = state.data.bagged.total\r\n\tconst loose = state.data.loose.total\r\n\tconst notes = state.data.notes.total\r\n\t// const total = state.data.total\r\n\r\n\treturn (\r\n\t\t<Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Grid\r\n\t\t\t\ttemplateColumns='1fr 1fr'\r\n\t\t\t\ttemplateRows='auto auto'\r\n\t\t\t\tjustifyItems='center'\r\n\t\t\t\tp='40px 10px 10px'\r\n\t\t\t>\r\n\t\t\t\t<GridItem\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Heading as='h3'>\r\n\t\t\t\t\t\tTill Total\r\n\t\t\t\t\t</Heading>\r\n\t\t\t\t</GridItem>\r\n\t\t\t\t<GridItem\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Overall total={bagged + loose + notes} />\r\n\t\t\t\t</GridItem>\r\n\t\t\t\t<Sub \r\n\t\t\t\t\tbagged={bagged}\r\n\t\t\t\t\tloose={loose}\r\n\t\t\t\t\tnotes={notes}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default Total","import { CountActions } from './API'\r\nimport {\r\n\tStateType,\r\n\tActionType\r\n} from './types'\r\n\r\nconst countReducer = (state: StateType, action: ActionType) => {\r\n\t// console.log(action)\r\n\tswitch(action.type) {\r\n\t\tcase CountActions.WRITE_ALL:\r\n\t\t\tconsole.log(action.payload)\r\n\t\t\treturn {\r\n\t\t\t\t...action.payload,\r\n\t\t\t\tready: true,\r\n\t\t\t}\r\n\t\tcase CountActions.SET_READY:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tready: true,\r\n\t\t\t}\r\n\t\tcase CountActions.UPDATE_REPO:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\trepositoryId: action.payload\r\n\t\t\t}\r\n\t\tcase CountActions.UPDATE_COUTNER:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcounter: action.payload.counter,\r\n\t\t\t\tcounterId: action.payload.counterId || state.counterId,\r\n\t\t\t}\r\n\t\tcase CountActions.UPDATE_SUPERVISOR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsupervisor: action.payload.supervisor,\r\n\t\t\t\tsupervisorId: action.payload.supervisorId,\r\n\t\t\t}\r\n\t\tcase CountActions.UPDATE_TIME:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttimestamp: action.payload\r\n\t\t\t}\r\n\t\tcase CountActions.UPDATE_BAG:\r\n\t\t\treturn updateBag(state, action)\r\n\t\tcase CountActions.UPDATE_LOOSE:\r\n\t\t\treturn updateLoose(state, action)\r\n\t\tcase CountActions.UPDATE_NOTES:\r\n\t\t\treturn updateNotes(state, action)\r\n\t\tdefault: return state\r\n\t}\r\n}\r\n\r\nfunction updateBag (state: StateType, action: ActionType): StateType {\r\n\tconst bagged = {\r\n\t\t...state.data.bagged,\r\n\t\t...action.payload,\r\n\t}\r\n\tconst total: number = Object.keys(bagged)\r\n\t\t.filter(e => e !== 'total')\r\n\t\t.reduce((acc, each) => acc + bagged[each], 0)\r\n\r\n\treturn {\r\n\t\t...state,\r\n\t\tdata: {\r\n\t\t\t...state.data,\r\n\t\t\tbagged: {\r\n\t\t\t\t...bagged,\r\n\t\t\t\ttotal,\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction updateLoose (state: StateType, action: ActionType): StateType {\r\n\tconst loose = {\r\n\t\t...state.data.loose,\r\n\t\t...action.payload,\r\n\t}\r\n\tconst total: number = Object.keys(loose)\r\n\t\t.filter(e => e !== 'total')\r\n\t\t.reduce((acc, each) => acc + loose[each], 0)\r\n\r\n\treturn {\r\n\t\t...state,\r\n\t\tdata: {\r\n\t\t\t...state.data,\r\n\t\t\tloose: {\r\n\t\t\t\t...loose,\r\n\t\t\t\ttotal,\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction updateNotes (state: StateType, action: ActionType): StateType {\r\n\tconst notes = {\r\n\t\t...state.data.notes,\r\n\t\t...action.payload,\r\n\t}\r\n\tconst total: number = Object.keys(notes)\r\n\t\t.filter(e => e !== 'total')\r\n\t\t.reduce((acc, each) => acc + notes[each], 0)\r\n\r\n\treturn {\r\n\t\t...state,\r\n\t\tdata: {\r\n\t\t\t...state.data,\r\n\t\t\tnotes: {\r\n\t\t\t\t...notes,\r\n\t\t\t\ttotal,\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default countReducer","import {\r\n\tServerCountTypeFloatConfirmed,\r\n\tServerFloatType,\r\n} from '../../global'\r\n\r\nimport {\r\n\tMarkSeriesPoint,\r\n} from 'react-vis'\r\n\r\nexport interface SingleParsedCountBagT { \r\n\tlabel: string, \r\n\ty: number\r\n\tx: number\r\n\ttimestamp: number | string\r\n\tid: number\r\n}\r\n\r\nexport interface ContextCrosshair extends ServerFloatType {\r\n\ttitle: string\r\n\ttime: string\r\n\tdate: string\r\n\tcountId: number\r\n}\r\n\r\nexport type BagTypes = 'bagNote5' | 'bagPound2' | 'bagPound1' | 'bagPence50' | 'bagPence20' | 'bagPence10' | 'bagPence5' | 'bagPence2' | 'bagPence1'\r\nexport const bagTypes = ['bagNote5', 'bagPound2', 'bagPound1', 'bagPence50', 'bagPence20', 'bagPence10', 'bagPence5', 'bagPence2', 'bagPence1']\r\n\r\n// TODO: figgure out why this is self referential still\r\nexport interface ParsedCountBagsT {\r\n\tbagNote5: SingleParsedCountBagT[],\r\n\tbagPound2: SingleParsedCountBagT[],\r\n\tbagPound1: SingleParsedCountBagT[],\r\n\tbagPence50: SingleParsedCountBagT[],\r\n\tbagPence20: SingleParsedCountBagT[],\r\n\tbagPence10: SingleParsedCountBagT[],\r\n\tbagPence5: SingleParsedCountBagT[],\r\n\tbagPence2: SingleParsedCountBagT[],\r\n\tbagPence1: SingleParsedCountBagT[],\r\n}\r\n\r\nexport interface InspectRepoAction {\r\n\ttype: InspectRepoActionTypes\r\n\tpayload: any\r\n}\r\n\r\nexport enum InspectRepoActionTypes {\r\n\tREPO_SET = 'REPO_SET',\r\n\tSTART_DATE_SET = 'START_DATE_SET',\r\n\tEND_DATE_SET = 'END_DATE_SET',\r\n\tADJUSTMENTS_USE_SET = 'ADJUSTMENTS_USE_SET',\r\n\tADJUSTMENT_STEP_SIZE_SET = 'ADJUSTMENT_STEP_SIZE_SET',\r\n\tINSPECTING_SET = 'INSPECTING_SET',\r\n\tINSPECTING_CLEAR = 'INSPECTING_CLEAR',\r\n\tDATA_SET = 'DATA_SET',\r\n\tPARSED_DATA_BAGS_SET = 'PARSED_DATA_BAGS_SET',\r\n\tCROSSHAIR_SET = 'CROSSHAIR_SET',\r\n\tCROSSHAIR_CLEAR = 'CROSSHAIR_CLEAR',\r\n\tCROSSHAIR_POSITION_SET = 'CROSSHAIR_POSITION_SET',\r\n\tSERIES_HOVER_SET = 'SERIES_HOVER_SET',\r\n\tSERIES_HOVER_CLEAR = 'SERIES_HOVER_CLEAR',\r\n}\r\n\r\nexport interface xAxisLabel {\r\n\t[x: number]: string\r\n}\r\n\r\nexport interface InspectRepoInitialStateT {\r\n\trepo?: number\r\n\tstartTime: Date\r\n\tendTime: Date\r\n\tadjustYAxisRenderPosition: boolean\r\n\tadjustmentStepSize: number\r\n\tinspecting?: MarkSeriesPoint\r\n\tconstants: {\r\n\t\tWIDTH: number\r\n\t\tHEIGHT: number\r\n\t\tY_PADDING: number\r\n\t},\r\n\tdata: ServerCountTypeFloatConfirmed[]\r\n\tparsedCountBags: ParsedCountBagsT\r\n\txAxisLabels: xAxisLabel\r\n\tcrosshair?: ContextCrosshair\r\n\tcrosshairX?: number\r\n\tfocusedSeries: BagTypes[]\r\n\thoverSeries?: BagTypes\r\n}","import { repositories } from './API'\r\nimport {\r\n\tStateType\r\n} from './types'\r\n\r\nconst initialState: StateType = {\r\n\tid: null,\r\n\trepository: repositories[0],\r\n\trepositoryId: null,\r\n\tcounter: '',\r\n\tcounterId: '',\r\n\tsupervisor: '',\r\n\tsupervisorId: '',\r\n\tdata: {\r\n\t\tbagged: {\r\n\t\t\tpence_one: null,\r\n\t\t\tpence_two: null,\r\n\t\t\tpence_five: null,\r\n\t\t\tpence_ten: null,\r\n\t\t\tpence_twenty: null,\r\n\t\t\tpence_fifty: null,\r\n\t\t\tpound_one: null,\r\n\t\t\tpound_two: null,\r\n\t\t\tnote_five: null,\r\n\t\t\ttotal: null,\r\n\t\t},\r\n\t\tloose: {\r\n\t\t\tpence_one: null,\r\n\t\t\tpence_two: null,\r\n\t\t\tpence_five: null,\r\n\t\t\tpence_ten: null,\r\n\t\t\tpence_twenty: null,\r\n\t\t\tpence_fifty: null,\r\n\t\t\tpound_one: null,\r\n\t\t\tpound_two: null,\r\n\t\t\tother: null,\r\n\t\t\ttotal: null,\r\n\t\t},\r\n\t\tnotes: {\r\n\t\t\tnote_one: null,\r\n\t\t\tnote_five: null,\r\n\t\t\tnote_ten: null,\r\n\t\t\tnote_twenty: null,\r\n\t\t\tnote_fifty: null,\r\n\t\t\ttotal: null,\r\n\t\t},\r\n\t\ttotal: 0,\r\n\t},\r\n\ttimestamp: Date.now(),\r\n\tready: false,\r\n\tverified: false,\r\n}\r\n\r\nexport default initialState","import React, { useContext } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nimport { \r\n\tButton,\r\n} from '@chakra-ui/react'\r\n\r\nimport CountContext from '../utils/CountContext'\r\n\r\nimport { saveExisting, saveNew } from './utils'\r\nimport { useNavigate } from 'react-router'\r\n\r\ninterface Props {\r\n\tedit?: boolean\r\n}\r\n\r\nconst Save: React.FC<Props> = ({\r\n\tedit\r\n}) => {\r\n\tconst navigate = useNavigate()\r\n\tconst { state } = useContext(CountContext)\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst handleClick = () => {\r\n\t\tif (edit) {\r\n\r\n\t\t\tconsole.log('Send ajax to PUT, show flash')\r\n\t\t\t// optional perform validation and show popup\r\n\t\t\t// console.log(state)\r\n\t\t\t// return\r\n\t\t\tsaveExisting(state, dispatch)\r\n\r\n\t\t} else {\r\n\t\t\tconsole.log('Send ajax POST, show flash')\r\n\t\t\tsaveNew(state, dispatch, (res: any) => {\r\n\t\t\t\tconst editUrl = `/count/${res.count.id}`\r\n\t\t\t\tconsole.log('redirecting to: ', editUrl)\r\n\t\t\t\treturn navigate(editUrl)\r\n\t\t\t})\r\n\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Button\r\n\t\t\tvariant='link'\r\n\t\t\tsize='lg'\r\n\t\t\tpy='16px'\r\n\t\t\tonClick={handleClick}\r\n\t\t>\r\n\t\t\tSave\r\n\t\t</Button>\r\n\t)\r\n}\r\n\r\nexport default Save","import React, { useContext } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useNavigate } from 'react-router'\r\n\r\nimport { \r\n\tButton,\r\n} from '@chakra-ui/react'\r\n\r\n// import { FlashCatts } from '../../../global'\r\n// import { uiFlashWriteOne } from '../../../actions'\r\nimport { saveExisting, saveNew } from './utils'\r\nimport CountContext from '../utils/CountContext'\r\n\r\ninterface Props {\r\n\tedit?: boolean\r\n}\r\n\r\nconst Close: React.FC<Props> = ({\r\n\tedit\r\n}) => {\r\n\tconst { state } = useContext(CountContext)\r\n\tconst dispatch = useDispatch()\r\n\tconst navigate = useNavigate()\r\n\r\n\tconst handleClick = () => {\r\n\t\tif (edit) {\r\n\t\t\tconsole.log('Send ajax to PUT, show flash')\r\n\t\t\tsaveExisting(state, dispatch, () => {\r\n\t\t\t\tnavigate(-1)\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tconsole.log('Perform Validation, Show confirmation, send ajax to POST, show flash')\r\n\t\t\tsaveNew(state, dispatch, (res: any) => {\r\n\t\t\t\treturn navigate(-1)\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Button\r\n\t\t\tvariant='outline'\r\n\t\t\tbgColor='#fff'\r\n\t\t\tsize='lg'\r\n\t\t\tmx='3em'\r\n\t\t\tonClick={handleClick}\r\n\t\t>\r\n\t\t\tSave and Close\r\n\t\t</Button>\r\n\t)\r\n}\r\n\r\nexport default Close","import React, { useContext } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useNavigate } from 'react-router'\r\n\r\nimport { \r\n\tButton,\r\n} from '@chakra-ui/react'\r\nimport {\r\n\tChevronRightIcon,\r\n} from '@chakra-ui/icons'\r\n\r\nimport CountContext from '../utils/CountContext'\r\nimport { saveExisting, saveNew } from './utils'\r\n\r\ninterface Props {\r\n\tedit?: boolean\r\n}\r\n\r\nconst Next: React.FC<Props> = ({\r\n\tedit\r\n}) => {\r\n\tconst { state } = useContext(CountContext)\r\n\tconst dispatch = useDispatch()\r\n\tconst navigate = useNavigate()\r\n\r\n\tconst handleClick = () => {\r\n\t\tif (edit) {\r\n\t\t\tconsole.log('Send ajax to PUT, redirect to /count/new')\r\n\t\t\tsaveExisting(state, dispatch, () => {\r\n\t\t\t\tnavigate('/count/new')\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tconsole.log('Perform Validation, Show confirmation, send ajax to POST, redirect to /count/new')\r\n\t\t\tsaveNew(state, dispatch, (res: any) => {\r\n\t\t\t\tnavigate('/count/new')\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Button\r\n\t\t\tsize='lg'\r\n\t\t\tpy='12px'\r\n\t\t\tonClick={handleClick}\r\n\t\t>\r\n\t\t\tSave &#38; Next <ChevronRightIcon />\r\n\t\t</Button>\r\n\t)\r\n}\r\n\r\nexport default Next","import React from 'react'\r\n\r\nimport {\r\n\tFlex,\r\n} from '@chakra-ui/react'\r\n\r\n// import Temp from './Temp'\r\n\r\nimport Save from './Save'\r\nimport Close from './Close'\r\nimport Next from './Next'\r\n// import { StateType } from './utils/types'\r\n\r\ninterface Props {\r\n\tedit: boolean | undefined\r\n}\r\n\r\nconst SaveInterface: React.FC<Props> = ({\r\n\tedit\r\n}) => {  \r\n\r\n\treturn (\r\n\t\t<Flex\r\n\t\t\tborder='1px dashed'\r\n\t\t\tborderColor='rgba(155,0,0,0)'\r\n\t\t\talignItems='center'\r\n\t\t\tjustifyContent='center'\r\n\t\t\tpy='1em'\r\n\t\t\tmy='3em'\r\n\t\t\tposition='sticky'\r\n\t\t\tbottom='0px'\r\n\t\t\tflexWrap='wrap'\r\n\t\t>\r\n\t\t\t{/* <Temp /> */}\r\n\t\t\t<Save edit={edit} />\r\n\t\t\t<Close edit={edit} />\r\n\t\t\t<Next edit={edit} />\t\t\t\r\n\t\t</Flex>\r\n\t)\r\n}\r\n\r\nexport default SaveInterface","import React, { Dispatch, useReducer, useEffect, useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tFlex,\r\n\tText,\r\n\tSkeleton,\r\n} from '@chakra-ui/react'\r\nimport { useParams } from 'react-router-dom'\r\n\r\nimport BaggedCoin from './BaggedCoin/'\r\nimport Counter from './Counter/'\r\nimport LooseCoin from './LooseCoin/'\r\nimport Notes from './Notes/'\r\nimport Repository from './Repository'\r\nimport Time from './Time'\r\nimport Options from './Options/'\r\nimport Total from './Total/'\r\n\r\nimport CountContext from './utils/CountContext'\r\n\r\nimport { \r\n\tCountActions, \r\n\t// validateCount,\r\n\tformatReadableName,\r\n} from './utils/API'\r\n\r\nimport {\r\n\tStateType,\r\n\tActionType,\r\n} from './utils/types'\r\n\r\nimport countReducer from './utils/reducer'\r\nimport initialState from './utils/initialState'\r\nimport SaveInterface from './SaveInterface/'\r\n\r\ninterface Props {\r\n\tedit?: boolean\r\n}\r\n\r\nconst Count: React.FC<Props> = ({ edit }) => {\r\n\r\n\tconst params: any = useParams()\r\n\tconst repos = useSelector((s: any) => s.repositories.repositoryList)\r\n\tconst [state, dispatch]: [StateType, Dispatch<ActionType>] = useReducer(countReducer, initialState)\r\n\tconst [createdOn, setCreatedOn] = useState(null)\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tconst ready = () => dispatch({ type: CountActions.SET_READY, payload: {} })\r\n\r\n\t\t// 22 - 6\r\n\r\n\t\tif (!edit) {\r\n\t\t\tif (repos.length) {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: CountActions.WRITE_ALL, \r\n\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\t...initialState,\r\n\t\t\t\t\t\trepositoryId: repos[0].id\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\treturn ready()\r\n\t\t\t} else {\r\n\t\t\t\tconst EXT = `/api/v1/repository?limit=1`\r\n\t\t\t\tconst OPTS = {\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tfetch(EXT, OPTS)\r\n\t\t\t\t\t.then(res => res.json())\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\ttype: CountActions.WRITE_ALL, \r\n\t\t\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\t\t\t...initialState,\r\n\t\t\t\t\t\t\t\trepositoryId: res.repositories[0].id\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\treturn ready()\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst EXT = `/api/v1/count/${params.id}`\r\n\t\tconst OPTS = {\r\n\t\t\tmethod: 'GET',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\tfetch(EXT, OPTS)\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(res => {\r\n\t\t\t\t// const validation = validateCount(res.count)\r\n\t\t\t\t// if (validation.code === 'invalid') {\r\n\t\t\t\t// \tconsole.log('invalid response from the server')\r\n\t\t\t\t// } else {\r\n\t\t\t\t\tif (res.status > 100 && res.status < 300) {\r\n\t\t\t\t\t\tconst count = res.count[0]\r\n\t\t\t\t\t\t// console.log(count.id)\r\n\t\t\t\t\t\tconst stateFromRequest: StateType = {\r\n\t\t\t\t\t\t\tid: count.id,\r\n\t\t\t\t\t\t\trepository: `${count.repositoryId}`,\r\n\t\t\t\t\t\t\trepositoryId: count.repositoryId,\r\n\t\t\t\t\t\t\ttimestamp: count.timestamp,\r\n\t\t\t\t\t\t\tcounter: formatReadableName(count.counter),\r\n\t\t\t\t\t\t\tcounterId: count.counterId,\r\n\t\t\t\t\t\t\tsupervisor: formatReadableName(count.supervisor),\r\n\t\t\t\t\t\t\tsupervisorId: count.supervisorId,\r\n\t\t\t\t\t\t\tready: false,\r\n\t\t\t\t\t\t\tverified: Boolean(count.verified),\r\n\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\tbagged: {\r\n\t\t\t\t\t\t\t\t\tpence_one: count.float.bagPence1,\r\n\t\t\t\t\t\t\t\t\tpence_two: count.float.bagPence2,\r\n\t\t\t\t\t\t\t\t\tpence_five: count.float.bagPence5,\r\n\t\t\t\t\t\t\t\t\tpence_ten: count.float.bagPence10,\r\n\t\t\t\t\t\t\t\t\tpence_twenty: count.float.bagPence20,\r\n\t\t\t\t\t\t\t\t\tpence_fifty: count.float.bagPence50,\r\n\t\t\t\t\t\t\t\t\tpound_one: count.float.bagPound1,\r\n\t\t\t\t\t\t\t\t\tpound_two: count.float.bagPound2,\r\n\t\t\t\t\t\t\t\t\tnote_five: count.float.bagNote5,\r\n\t\t\t\t\t\t\t\t\ttotal: count.float.bagTotal,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tloose: {\r\n\t\t\t\t\t\t\t\t\tpence_one: count.float.loosePence1,\r\n\t\t\t\t\t\t\t\t\tpence_two: count.float.loosePence2,\r\n\t\t\t\t\t\t\t\t\tpence_five: count.float.loosePence5,\r\n\t\t\t\t\t\t\t\t\tpence_ten: count.float.loosePence10,\r\n\t\t\t\t\t\t\t\t\tpence_twenty: count.float.loosePence20,\r\n\t\t\t\t\t\t\t\t\tpence_fifty: count.float.loosePence50,\r\n\t\t\t\t\t\t\t\t\tpound_one: count.float.loosePound1,\r\n\t\t\t\t\t\t\t\t\tpound_two: count.float.loosePound2,\r\n\t\t\t\t\t\t\t\t\tother: count.float.looseOther,\r\n\t\t\t\t\t\t\t\t\ttotal: count.float.looseTotal,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tnotes: {\r\n\t\t\t\t\t\t\t\t\tnote_one: count.float.note1,\r\n\t\t\t\t\t\t\t\t\tnote_five: count.float.note5,\r\n\t\t\t\t\t\t\t\t\tnote_ten: count.float.note10,\r\n\t\t\t\t\t\t\t\t\tnote_twenty: count.float.note20,\r\n\t\t\t\t\t\t\t\t\tnote_fifty: count.float.note50,\r\n\t\t\t\t\t\t\t\t\ttotal: count.float.noteTotal,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\ttotal: count.float.floatTotal\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsetCreatedOn(count.createdOn)\r\n\t\t\t\t\t\t// TODO: replace with server side join\r\n\t\t\t\t\t\tdispatch({ type: CountActions.WRITE_ALL, payload: stateFromRequest })\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.error(res.errorMessage)\r\n\t\t\t\t\t}\r\n\t\t\t\t// }\r\n\t\t\t})\r\n\t\t\t.catch(err => console.error(err))\r\n\t\t\t\r\n\t\t// eslint-disable-next-line\r\n\t}, [edit, params.id, dispatch])\r\n\r\n\tif (edit && !state.ready) {\r\n\t\treturn (\r\n\t\t\t<Flex\r\n\t\t\t\tdirection='column'\r\n\t\t\t>\r\n\t\t\t\t{/* <Text\r\n\t\t\t\t\twordBreak='break-all'\r\n\t\t\t\t>\r\n\t\t\t\t\t{ JSON.stringify(state) }\r\n\t\t\t\t</Text> */}\r\n\t\t\t\t<Skeleton height='30px' my='4px'></Skeleton>\r\n\t\t\t\t<Skeleton height='30px' my='4px'></Skeleton>\r\n\t\t\t\t<Skeleton height='30px' my='4px'></Skeleton>\r\n\t\t\t</Flex>\r\n\t\t)\r\n\t}\r\n\treturn (\r\n\t\t<CountContext.Provider value={{\r\n\t\t\tstate, dispatch\r\n\t\t}}>\r\n\t\t\t{\r\n\t\t\t\ttypeof createdOn === 'number'\r\n\t\t\t\t\t? <Text>\r\n\t\t\t\t\t\t\tCount originally created {new Date(createdOn || '').toLocaleString('en-GB')}\r\n\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t: ''\r\n\t\t\t}\r\n\t\t\t<Text\r\n\t\t\t\twordBreak='break-all'\r\n\t\t\t>\r\n\t\t\t\t{/* { JSON.stringify(state) } */}\r\n\t\t\t</Text>\r\n\t\t\t<Flex\r\n\t\t\t\tflexDirection='column'\r\n\t\t\t>\r\n\t\t\t\t{\r\n\t\t\t\t\tedit ? <Options /> : ''\r\n\t\t\t\t}\r\n\t\t\t\t<Repository />\r\n\t\t\t\t<Flex\r\n\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\tbgColor='#fff'\r\n\t\t\t\t\tp='3em 1em'\r\n\t\t\t\t\tm='0 0 3em'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Time />\r\n\t\t\t\t\t<Flex\r\n\t\t\t\t\t\t// w='100%'\r\n\t\t\t\t\t\tjustifyContent='space-around'\r\n\t\t\t\t\t\tm='30px 0'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Counter\r\n\t\t\t\t\t\t\tlabel='Counter'\r\n\t\t\t\t\t\t\tdispatchType={CountActions.UPDATE_COUTNER}\r\n\t\t\t\t\t\t\tstateAssignment='counter'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Counter\r\n\t\t\t\t\t\t\tlabel='Supervisor'\r\n\t\t\t\t\t\t\tdispatchType={CountActions.UPDATE_SUPERVISOR}\r\n\t\t\t\t\t\t\tstateAssignment='supervisor'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Flex>\r\n\t\t\t\t\t<BaggedCoin />\r\n\t\t\t\t\t<LooseCoin />\r\n\t\t\t\t\t<Notes />\r\n\t\t\t\t\t<Total />\r\n\t\t\t\t\t<SaveInterface \r\n\t\t\t\t\t\tedit={edit}\r\n\t\t\t\t\t/> \r\n\t\t\t\t</Flex>\r\n\t\t\t</Flex>\r\n\t\t</CountContext.Provider>\r\n\t)\r\n}\r\n\r\nexport default Count","import { createContext } from 'react'\r\n\r\nimport {\r\n\tInspectRepoInitialStateT,\r\n} from './types'\r\n\r\nexport const InspectRepoContext = createContext<any>({})\r\n\r\nexport const ABS_START_DATE = '2021-03-30'\r\n\r\nconst baseDate = new Date(ABS_START_DATE)\r\n\r\nexport const inspectRepoInitialState: InspectRepoInitialStateT = {\r\n\trepo: undefined,\r\n\tstartTime: new Date(baseDate.getTime() - 1000 * 60 * 60 * 24 * 7 * 5),\r\n\tendTime: new Date(baseDate),\r\n\tadjustYAxisRenderPosition: false,\r\n\tadjustmentStepSize: .2,\r\n\tinspecting: undefined,\r\n\tconstants: {\r\n\t\tWIDTH: 1200,\r\n\t\tHEIGHT: 500,\r\n\t\tY_PADDING: 20,\r\n\t},\r\n\tdata: [],\r\n\tparsedCountBags: {\r\n\t\tbagNote5: [],\r\n\t\tbagPound2: [],\r\n\t\tbagPound1: [],\r\n\t\tbagPence50: [],\r\n\t\tbagPence20: [],\r\n\t\tbagPence10: [],\r\n\t\tbagPence5: [],\r\n\t\tbagPence2: [],\r\n\t\tbagPence1: [],\r\n\t},\r\n\txAxisLabels: [],\r\n\tcrosshair: undefined,\r\n\tcrosshairX: undefined,\r\n\tfocusedSeries: [],\r\n\thoverSeries: undefined,\r\n}\r\n\r\n","\r\nimport {\r\n\tInspectRepoActionTypes, \r\n\tContextCrosshair, \r\n\tParsedCountBagsT,\r\n\tBagTypes,\r\n} from './types'\r\n\r\nimport {\r\n\tServerCountType,\r\n} from '../../global'\r\n\r\nexport const repoSet = (repo?: number) => ({\r\n\ttype: InspectRepoActionTypes.REPO_SET,\r\n\tpayload: repo\r\n})\r\nexport const startDateSet = (date: Date) => ({\r\n\ttype: InspectRepoActionTypes.START_DATE_SET,\r\n\tpayload: date\r\n})\r\nexport const endDateSet = (date: Date) => ({\r\n\ttype: InspectRepoActionTypes.END_DATE_SET,\r\n\tpayload: date\r\n})\r\nexport const adjustmentUseSet = (useAdjustments: boolean) => ({\r\n\ttype: InspectRepoActionTypes.ADJUSTMENTS_USE_SET,\r\n\tpayload: useAdjustments\r\n})\r\nexport const adjustmentStepSizeSet = (adjustment: number) => ({\r\n\ttype: InspectRepoActionTypes.ADJUSTMENT_STEP_SIZE_SET,\r\n\tpayload: adjustment\r\n})\r\nexport const inspectingSet = (inspecting: any) => ({\r\n\ttype: InspectRepoActionTypes.INSPECTING_SET,\r\n\tpayload: inspecting\r\n})\r\nexport const inspectingClear = () => ({\r\n\ttype: InspectRepoActionTypes.INSPECTING_CLEAR,\r\n})\r\n\r\nexport const dataSet = (data: ServerCountType[]) => ({\r\n\ttype: InspectRepoActionTypes.DATA_SET,\r\n\tpayload: data\r\n})\r\n\r\nexport const parsedCountBagsSet = (parsedCountBags: ParsedCountBagsT) => ({\r\n\ttype: InspectRepoActionTypes.PARSED_DATA_BAGS_SET,\r\n\tpayload: parsedCountBags\r\n})\r\nexport const crosshairWrite = (crosshair: ContextCrosshair) => ({\r\n\ttype: InspectRepoActionTypes.CROSSHAIR_SET,\r\n\tpayload: crosshair\r\n})\r\nexport const crosshairPositionSet = (x: number) => ({\r\n\ttype: InspectRepoActionTypes.CROSSHAIR_POSITION_SET,\r\n\tpayload: x\r\n})\r\nexport const crosshairClear = () => ({\r\n\ttype: InspectRepoActionTypes.CROSSHAIR_CLEAR,\r\n})\r\n\r\nexport const seriesHoverSet = (bagType: BagTypes) => ({\r\n\ttype: InspectRepoActionTypes.SERIES_HOVER_SET,\r\n\tpayload: bagType\r\n})\r\nexport const seriesHoverClear = () => ({\r\n\ttype: InspectRepoActionTypes.SERIES_HOVER_CLEAR\r\n})","import React, { useContext } from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nimport Select from '../base/Select'\r\n\r\nimport initialState from '../../constants/initialState'\r\nimport { InspectRepoContext } from './Utils'\r\nimport { repoSet } from './InspectRepoActions'\r\n\r\ninterface Props {\r\n}\r\n\r\nconst RepoSelect: React.FC<Props> = () => {\r\n\tconst { contextState, contextDispatch } = useContext(InspectRepoContext)\r\n\tconst repoList = useSelector((s: typeof initialState) => s.repositories.repositoryList)\r\n\r\n\tconst { repo } = contextState\r\n\r\n\treturn (\r\n\t\t<Select\r\n\t\t\tonChange={(e: any) => contextDispatch(repoSet(e.target.value))}\r\n\t\t\tvalue={repo}\r\n\t\t\tw='250px'\r\n\t\t>\r\n\t\t\t{\r\n\t\t\t\trepoList.map((each: any) => \r\n\t\t\t\t\t<option\r\n\t\t\t\t\t\tkey={each.id}\r\n\t\t\t\t\t\tvalue={each.id}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\teach.name\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</option>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t</Select>\r\n\t)\r\n}\r\n\r\nexport default RepoSelect","import React, { useContext } from 'react'\r\n\r\nimport {\r\n\tFlex,\r\n\tButton,\r\n\tSlider,\r\n\tSliderTrack,\r\n\tSliderFilledTrack,\r\n\tSliderThumb,\r\n} from '@chakra-ui/react'\r\n\r\nimport DateInput from '../base/DateInput'\r\nimport RepoSelect from './RepoSelect'\r\nimport { \r\n\tstartDateSet, \r\n\tendDateSet, \r\n\tadjustmentUseSet,\r\n\tadjustmentStepSizeSet,\r\n} from './InspectRepoActions'\r\nimport { InspectRepoContext } from './Utils'\r\n\r\ninterface Props {\r\n}\r\n\r\nconst TopControlGroup: React.FC<Props> = () => {\r\n\tconst { contextState, contextDispatch } = useContext(InspectRepoContext)\r\n\r\n\tconst { \r\n\t\tstartTime, \r\n\t\tendTime, \r\n\t\tuseAdjustments,\r\n\t\tadjustmentStepSize,\r\n\t} = contextState\r\n\r\n\treturn (\r\n\t\t<Flex\r\n\t\t\talignItems='center'\r\n\t\t>\r\n\t\t\t<p>Top Control Group</p>\r\n\t\t\t<RepoSelect />\r\n\t\t\t<DateInput \r\n\t\t\t\tflex='1' \r\n\t\t\t\tselected={startTime}\r\n\t\t\t\tonChange={(d: any) => contextDispatch(startDateSet(d))}\r\n\t\t\t\tname='Date Start'\r\n\t\t\t\tlocale='gb'\r\n\t\t\t\ttimeFormat='HH:mm'\r\n\t\t\t\ttimeCaption='time input'\r\n\t\t\t\tdateFormat='dd/MM/yyyy'\r\n\t\t\t/>\r\n\t\t\t<DateInput \r\n\t\t\t\tflex='1' \r\n\t\t\t\tselected={endTime}\r\n\t\t\t\tonChange={(d: any) => contextDispatch(endDateSet(d))}\r\n\t\t\t\tname='Date Start'\r\n\t\t\t\tlocale='gb'\r\n\t\t\t\ttimeFormat='HH:mm'\r\n\t\t\t\ttimeCaption='time input'\r\n\t\t\t\tdateFormat='dd/MM/yyyy'\r\n\t\t\t/>\r\n\t\t\t<Button\r\n\t\t\t\tonClick={() => contextDispatch(adjustmentUseSet(!useAdjustments))}\r\n\t\t\t\tvariant='ui'\r\n\t\t\t>\r\n\t\t\t\tAdjustments: {useAdjustments ? 'ON' : 'OFF'}\r\n\t\t\t</Button>\r\n\t\t\t<Slider\r\n\t\t\t\tmin={0.05}\r\n\t\t\t\tmax={.8}\r\n\t\t\t\tstep={0.01}\r\n\t\t\t\tvalue={adjustmentStepSize}\r\n\t\t\t\tonChange={(v: any) => contextDispatch(adjustmentStepSizeSet(v))}\r\n\t\t\t\t// onChangeEnd={(v: any) => setAdjustmentStepSize(v)}\r\n\t\t\t\twidth={'200px'}\r\n\t\t\t>\r\n\t\t\t\t<SliderTrack>\r\n\t\t\t\t\t<SliderFilledTrack />\r\n\t\t\t\t</SliderTrack>\r\n\t\t\t\t<SliderThumb />\r\n\t\t\t</Slider>\r\n\t\t</Flex>\r\n\t)\r\n}\r\n\r\nexport default TopControlGroup","\r\nimport {\r\n\tInspectRepoActionTypes,\r\n\tInspectRepoInitialStateT,\r\n\tInspectRepoAction,\r\n} from './types'\r\n\r\nconst InspectRepoReducer = (state: InspectRepoInitialStateT, action: InspectRepoAction) => {\r\n\t// console.log(action)\r\n\tswitch (action.type) {\r\n\t\tcase InspectRepoActionTypes.REPO_SET: return reduceRepoSet(state, action)\r\n\t\tcase InspectRepoActionTypes.START_DATE_SET: return reduceStartDateSet(state, action)\r\n\t\tcase InspectRepoActionTypes.END_DATE_SET: return reduceEndDateSet(state, action)\r\n\t\tcase InspectRepoActionTypes.ADJUSTMENTS_USE_SET: return reduceAdjustmentUseSet(state, action)\r\n\t\tcase InspectRepoActionTypes.ADJUSTMENT_STEP_SIZE_SET: return reduceAdjustmentStepSizeSet(state, action)\r\n\t\tcase InspectRepoActionTypes.INSPECTING_SET: return reduceInspectingSet(state, action)\r\n\t\tcase InspectRepoActionTypes.INSPECTING_CLEAR: return reduceInspectingClear(state)\r\n\t\tcase InspectRepoActionTypes.DATA_SET: return reduceDataSet(state, action)\r\n\t\tcase InspectRepoActionTypes.PARSED_DATA_BAGS_SET: return reduceParsedDataBagsSet(state, action)\r\n\t\tcase InspectRepoActionTypes.CROSSHAIR_SET: return reduceCrosshairSet(state, action)\r\n\t\tcase InspectRepoActionTypes.CROSSHAIR_POSITION_SET: return reduceCrosshairPositionSet(state, action)\r\n\t\tcase InspectRepoActionTypes.CROSSHAIR_CLEAR: return reduceCrosshairClear(state, action)\r\n\t\tcase InspectRepoActionTypes.SERIES_HOVER_SET: return reduceSeriesHoverSet(state, action)\r\n\t\tcase InspectRepoActionTypes.SERIES_HOVER_CLEAR: return reduceSeriesHoverClear(state)\r\n\t\tdefault: return state\r\n\t}\r\n}\r\n\r\nfunction reduceRepoSet (state: InspectRepoInitialStateT, action: InspectRepoAction): InspectRepoInitialStateT {\r\n\treturn {\r\n\t\t...state,\r\n\t\trepo: action.payload\r\n\t}\r\n}\r\n\r\nfunction reduceStartDateSet (state: InspectRepoInitialStateT, action: InspectRepoAction): InspectRepoInitialStateT {\r\n\treturn {\r\n\t\t...state,\r\n\t\tstartTime: action.payload\r\n\t}\r\n}\r\n\r\nfunction reduceEndDateSet (state: InspectRepoInitialStateT, action: InspectRepoAction): InspectRepoInitialStateT {\r\n\treturn {\r\n\t\t...state,\r\n\t\tendTime: action.payload\r\n\t}\r\n}\r\n\r\nfunction reduceAdjustmentUseSet (state: InspectRepoInitialStateT, action: InspectRepoAction): InspectRepoInitialStateT {\r\n\treturn {\r\n\t\t...state,\r\n\t\tadjustYAxisRenderPosition: action.payload\r\n\t}\r\n}\r\n\r\nfunction reduceAdjustmentStepSizeSet (state: InspectRepoInitialStateT, action: InspectRepoAction): InspectRepoInitialStateT {\r\n\treturn {\r\n\t\t...state,\r\n\t\tadjustmentStepSize: action.payload\r\n\t}\r\n}\r\n\r\nfunction reduceInspectingSet (state: InspectRepoInitialStateT, action: InspectRepoAction): InspectRepoInitialStateT {\r\n\treturn {\r\n\t\t...state,\r\n\t\tinspecting: action.payload\r\n\t}\r\n}\r\n\r\nfunction reduceInspectingClear (state: InspectRepoInitialStateT): InspectRepoInitialStateT {\r\n\treturn {\r\n\t\t...state,\r\n\t\tinspecting: undefined\r\n\t}\r\n}\r\n\r\nfunction reduceDataSet (state: InspectRepoInitialStateT, action: InspectRepoAction): InspectRepoInitialStateT {\r\n\treturn {\r\n\t\t...state,\r\n\t\tdata: action.payload\r\n\t}\r\n}\r\n\r\nfunction reduceParsedDataBagsSet (state: InspectRepoInitialStateT, action: InspectRepoAction): InspectRepoInitialStateT {\r\n\treturn {\r\n\t\t...state,\r\n\t\tparsedCountBags: action.payload\r\n\t}\r\n}\r\nfunction reduceCrosshairSet (state: InspectRepoInitialStateT, action: InspectRepoAction): InspectRepoInitialStateT {\r\n\treturn {\r\n\t\t...state,\r\n\t\tcrosshair: action.payload\r\n\t}\r\n}\r\nfunction reduceCrosshairPositionSet (state: InspectRepoInitialStateT, action: InspectRepoAction): InspectRepoInitialStateT {\r\n\treturn {\r\n\t\t...state,\r\n\t\tcrosshairX: action.payload\r\n\t}\r\n}\r\nfunction reduceCrosshairClear (state: InspectRepoInitialStateT, action: InspectRepoAction): InspectRepoInitialStateT {\r\n\treturn {\r\n\t\t...state,\r\n\t\tcrosshair: undefined,\r\n\t\tcrosshairX: undefined\r\n\t}\r\n}\r\nfunction reduceSeriesHoverSet (state: InspectRepoInitialStateT, action: InspectRepoAction): InspectRepoInitialStateT {\r\n\treturn {\r\n\t\t...state,\r\n\t\thoverSeries: action.payload\r\n\t}\r\n}\r\nfunction reduceSeriesHoverClear (state: InspectRepoInitialStateT): InspectRepoInitialStateT {\r\n\treturn {\r\n\t\t...state,\r\n\t\thoverSeries: undefined\r\n\t}\r\n}\r\n\r\nexport default InspectRepoReducer","/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport React, { useContext } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { css, jsx } from '@emotion/react'\r\n\r\nimport {\r\n\tBox,\r\n\tText,\r\n} from '@chakra-ui/react'\r\n\r\nimport {\r\n\tXYPlot,\r\n\tHorizontalGridLines,\r\n\tXAxis,\r\n\tYAxis,\r\n\tHint,\r\n\tCrosshair,\r\n\t// TODO: investigate...\r\n\t// LineMarkSeries,\r\n\tLineSeries,\r\n\tMarkSeries,\r\n\tRVTickFormat,\r\n\tMarkSeriesPoint,\r\n} from 'react-vis'\r\n\r\nimport {  \r\n\tinspectingSet,\r\n\tinspectingClear,\r\n\tcrosshairPositionSet,\r\n\tcrosshairWrite,\r\n\tseriesHoverSet,\r\n\tseriesHoverClear,\r\n} from './InspectRepoActions'\r\n\r\nimport { InspectRepoContext } from './Utils'\r\n\r\nimport { BagTypeReadableLabels, ReduxStateType } from '../../global'\r\n\r\nimport { \r\n\tBagTypes,\r\n\t// bagTypes, \r\n\t// BagTypes,\r\n\tContextCrosshair,\r\n\tInspectRepoInitialStateT, \r\n\t// bagTypes as bts\r\n} from './types'\r\n\r\ninterface Props {\r\n\r\n}\r\n\r\nconst tooltipStyle = css({\r\n\ttextAlign: 'left',\r\n\t// fontSize: '12px',\r\n\tfontSize: '8px',\r\n\tpadding: '6px',\r\n\tborderRadius: '5px',\r\n\tpointerEvents: 'none',\r\n\tboxShadow: '5px 5px 5px rgba(0,0,0,.3)',\r\n\tbackground: '#3A3A48',\r\n\tmargin: '5px',\r\n\tboxSizing: 'border-box',\r\n\tcolor: '#fff'\r\n})\r\n\r\n// const months_short = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\r\nconst months_full = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'Septmber', 'October', 'November', 'December']\r\n\r\nconst GraphOnlyBags: React.FC<Props> = () => {\r\n\tconst COLOURS = useSelector((state: ReduxStateType) => state.ui.colours)\r\n\tconst { contextState, contextDispatch }: { contextState: InspectRepoInitialStateT, contextDispatch: any } = useContext(InspectRepoContext)\r\n\r\n\tconst {\r\n\t\tinspecting,\r\n\t\tdata,\r\n\t\tconstants: {\r\n\t\t\tWIDTH,\r\n\t\t\tHEIGHT,\r\n\t\t\tY_PADDING,\r\n\t\t},\r\n\t\tparsedCountBags,\r\n\t\tcrosshair,\r\n\t\tcrosshairX,\r\n\t\thoverSeries,\r\n\t} = contextState\r\n\r\n\tconst handleMarkMouseOver = (e: MarkSeriesPoint) => {\r\n\t\tcontextDispatch(inspectingSet(e))\r\n\t}\r\n\r\n\tconst handleMarkMouseOut = () => {\r\n\t\tcontextDispatch(inspectingClear())\r\n\t}\r\n\r\n\tconst handleFormatTicks = (e: RVTickFormat | undefined) => {\r\n\t\tconst idx = Number(e)\r\n\t\tif (data && data[idx]) {\r\n\t\t\tconst rawCount = data[idx].timestamp\r\n\t\t\tlet d = new Date()\r\n\t\t\tif (typeof rawCount === 'number') {\r\n\t\t\t\td = new Date(rawCount)\r\n\t\t\t}\r\n\t\t\treturn `${d.getDate()} ${months_full[d.getMonth()]} - \\n${d.toLocaleTimeString()}`\r\n\t\t} \r\n\t\treturn ''\r\n\t}\r\n\r\n\tconst handleNearestX = (e: MarkSeriesPoint) => {\r\n\t\tconst x = Number(e.x)\r\n\t\tconst count = data[x]\r\n\r\n\t\tcontextDispatch(crosshairPositionSet(x))\r\n\r\n\t\tif (crosshair && crosshair.countId === count.id) return\r\n\r\n\t\tconst d = new Date(count.timestamp || '')\r\n\t\tconst createCrosshair: ContextCrosshair = {\r\n\t\t\tcountId: Number(count.id),\r\n\t\t\ttitle: '',\r\n\t\t\ttime: d.toLocaleTimeString(),\r\n\t\t\tdate: d.toLocaleDateString(),\r\n\t\t\t...count.float\r\n\t\t}\r\n\r\n\t\tcontextDispatch(crosshairWrite(createCrosshair))\r\n\t}\r\n\r\n\tconst handleSeriesMouseOver = (bagType: BagTypes) => {\r\n\t\tconsole.log('seriesMouseOver', bagType)\r\n\t\tcontextDispatch(seriesHoverSet(bagType))\r\n\t}\r\n\r\n\tconst handleSeriesMouseOut = (bagType: BagTypes) => {\r\n\t\tconsole.log('seriesMouseOut', bagType)\r\n\t\tcontextDispatch(seriesHoverClear())\r\n\t}\r\n\r\n\tconst handleSeriesClick = (bagType: BagTypes) => {\r\n\t\tconsole.log('seriesClick', bagType)\r\n\t}\r\n\r\n\tconst colourRelation = (bagtype: BagTypes | BagTypeReadableLabels) => {\r\n\t\tswitch(bagtype) {\r\n\t\t\tcase 'Bagged £5':\r\n\t\t\tcase 'bagNote5': return COLOURS.red\r\n\t\t\tcase 'Bagged £2':\r\n\t\t\tcase 'bagPound2': return COLOURS.green\r\n\t\t\tcase 'Bagged £1':\r\n\t\t\tcase 'bagPound1': return COLOURS.blue\r\n\t\t\tcase 'Bagged 50p':\r\n\t\t\tcase 'bagPence50': return COLOURS.orange\r\n\t\t\tcase 'Bagged 20p':\r\n\t\t\tcase 'bagPence20': return COLOURS.yellow\r\n\t\t\tcase 'Bagged 10p':\r\n\t\t\tcase 'bagPence10': return COLOURS.teal\r\n\t\t\tcase 'Bagged 5p':\r\n\t\t\tcase 'bagPence5': return COLOURS.black\r\n\t\t\tcase 'Bagged 2p':\r\n\t\t\tcase 'bagPence2': return COLOURS.gold\r\n\t\t\tcase 'Bagged 1p':\r\n\t\t\tcase 'bagPence1': return COLOURS.liveRed\r\n\t\t\tdefault: return COLOURS.purple\r\n\t\t}\r\n\t}\r\n\r\n\tconst tooltipFontSize = 12\r\n\tconst crosshairFontSize = 10\r\n\tconst tooltipTextSyle = {\r\n\t\tfontSize: tooltipFontSize,\r\n\t\tcolor: '#fff'\r\n\t}\r\n\tconst crosshairStyle = {\r\n\t\tfontSize: crosshairFontSize,\t\r\n\t\tcolor: '#fff'\r\n\t}\r\n\tconst shadowMarkSize = 20\r\n\r\n\t// https://github.com/uber/react-vis/blob/master/docs/interaction.md\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t<XYPlot\r\n\t\t\twidth={WIDTH}\r\n\t\t\theight={HEIGHT}\r\n\t\t\tyPadding={Y_PADDING}\r\n\t\t\tonMouseLeave={() => contextDispatch(inspectingClear())}\r\n\t\t\t// animation={true}\r\n\t\t\tstyle={{\r\n\t\t\t\tposition: 'relative'\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{/* <ParallelCoordinates \r\n\t\t\t\tdata={d} \r\n\t\t\t\tstyle={{\r\n\t\t\t\t\taxes: {\r\n\t\t\t\t\t\tline: {},\r\n\t\t\t\t\t\tticks: {},\r\n\t\t\t\t\t\ttext: {}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tlabels: {\r\n\t\t\t\t\t\tfontSize: 10\r\n\t\t\t\t\t},\r\n\t\t\t\t\tline: {\r\n\t\t\t\t\t\tstrokeOpacity: 1\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdeselectedLineStyle: {\r\n\t\t\t\t\t\tstrokeOpacity: 0.1\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t/> */}\r\n\t\t\t<HorizontalGridLines />\r\n\t\t\t<XAxis \r\n\t\t\t\ttitle='Days'\r\n\t\t\t\torientation='bottom'\r\n\t\t\t\ttickFormat={handleFormatTicks}\r\n\t\t\t/>\r\n\t\t\t<YAxis \r\n\t\t\t\ttitle='Baggs'\r\n\t\t\t\torientation='left'\r\n\t\t\t/>\r\n\t\t\t{/* <LineSeries \r\n\t\t\t\tfill='none'\r\n\t\t\t\tdata={poundTwo}\r\n\t\t\t/> */}\r\n\t\t\t{/* <LineSeries \r\n\t\t\t\tfill='none'\r\n\t\t\t\tdata={parsedCountBags.bagNote5}\r\n\t\t\t\tcolor={colourRelation('bagNote5')}\r\n\t\t\t/> */}\r\n\t\t\t<LineSeries \r\n\t\t\t\t// fill='none'\r\n\t\t\t\tdata={parsedCountBags.bagPound2}\r\n\t\t\t\tfill={colourRelation('bagPound2')}\r\n\t\t\t\tcolor={colourRelation('bagPound2')}\r\n\t\t\t\tonSeriesMouseOver={() => handleSeriesMouseOver('bagPound2')}\r\n\t\t\t\tonSeriesMouseOut={() => handleSeriesMouseOut('bagPound2')}\r\n\t\t\t\tonSeriesClick={() => handleSeriesClick('bagPound2')}\r\n\t\t\t\tstyle={(hoverSeries && hoverSeries === 'bagPound2') ? {\r\n\t\t\t\t\tstrokeWidth: 4\r\n\t\t\t\t} : {\r\n\t\t\t\t\tstrokeWidth: 2\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t\t{/* Might work this time... */}\r\n\t\t\t{/* {\r\n\t\t\t\tbts.map((val: string, n: number, arr: string[]) => <LineSeries \r\n\r\n\t\t\t\t/>)\r\n\t\t\t} */}\r\n\t\t\t<LineSeries \r\n\t\t\t\tfill='none'\r\n\t\t\t\tdata={parsedCountBags.bagPound1}\r\n\t\t\t\tcolor={colourRelation('bagPound1')}\r\n\t\t\t\tonSeriesMouseOver={() => handleSeriesMouseOver('bagPound1')}\r\n\t\t\t\tonSeriesMouseOut={() => handleSeriesMouseOut('bagPound1')}\r\n\t\t\t\tonSeriesClick={() => handleSeriesClick('bagPound1')}\r\n\t\t\t/>\r\n\t\t\t<LineSeries \r\n\t\t\t\tfill='none'\r\n\t\t\t\tdata={parsedCountBags.bagPence50}\r\n\t\t\t\tcolor={colourRelation('bagPence50')}\r\n\t\t\t\tonSeriesMouseOver={() => handleSeriesMouseOver('bagPence50')}\r\n\t\t\t\tonSeriesMouseOut={() => handleSeriesMouseOut('bagPence50')}\r\n\t\t\t\tonSeriesClick={() => handleSeriesClick('bagPence50')}\r\n\t\t\t/>\r\n\t\t\t<LineSeries \r\n\t\t\t\tfill='none'\r\n\t\t\t\tdata={parsedCountBags.bagPence20}\r\n\t\t\t\tcolor={colourRelation('bagPence20')}\r\n\t\t\t\tonSeriesMouseOver={() => handleSeriesMouseOver('bagPence20')}\r\n\t\t\t\tonSeriesMouseOut={() => handleSeriesMouseOut('bagPence20')}\r\n\t\t\t\tonSeriesClick={() => handleSeriesClick('bagPence20')}\r\n\t\t\t/>\r\n\t\t\t<LineSeries \r\n\t\t\t\tfill='none'\r\n\t\t\t\tdata={parsedCountBags.bagPence10}\r\n\t\t\t\tcolor={colourRelation('bagPence10')}\r\n\t\t\t\tonSeriesMouseOver={() => handleSeriesMouseOver('bagPence10')}\r\n\t\t\t\tonSeriesMouseOut={() => handleSeriesMouseOut('bagPence10')}\r\n\t\t\t\tonSeriesClick={() => handleSeriesClick('bagPence10')}\r\n\t\t\t/>\r\n\t\t\t<LineSeries \r\n\t\t\t\tfill='none'\r\n\t\t\t\tdata={parsedCountBags.bagPence5}\r\n\t\t\t\tcolor={colourRelation('bagPence5')}\r\n\t\t\t\tonSeriesMouseOver={() => handleSeriesMouseOver('bagPence5')}\r\n\t\t\t\tonSeriesMouseOut={() => handleSeriesMouseOut('bagPence5')}\r\n\t\t\t\tonSeriesClick={() => handleSeriesClick('bagPence5')}\r\n\t\t\t/>\r\n\t\t\t<LineSeries \r\n\t\t\t\tfill='none'\r\n\t\t\t\tdata={parsedCountBags.bagPence2}\r\n\t\t\t\tcolor={colourRelation('bagPence2')}\r\n\t\t\t\tonSeriesMouseOver={() => handleSeriesMouseOver('bagPence2')}\r\n\t\t\t\tonSeriesMouseOut={() => handleSeriesMouseOut('bagPence2')}\r\n\t\t\t\tonSeriesClick={() => handleSeriesClick('bagPence2')}\r\n\t\t\t/>\r\n\t\t\t<LineSeries \r\n\t\t\t\tfill='none'\r\n\t\t\t\tdata={parsedCountBags.bagPence1}\r\n\t\t\t\tcolor={colourRelation('bagPence1')}\r\n\t\t\t\t// onSeriesMouseOver={() => console.log(Date.now())}\r\n\t\t\t\tonSeriesMouseOver={() => handleSeriesMouseOver('bagPence1')}\r\n\t\t\t\tonSeriesMouseOut={() => handleSeriesMouseOut('bagPence1')}\r\n\t\t\t\tonSeriesClick={() => handleSeriesClick('bagPence1')}\r\n\t\t\t/>\r\n\r\n\r\n\t\t\t{/* <MarkSeries \r\n\t\t\t\tclassName='bagged-note-five'\r\n\t\t\t\tdata={parsedCountBags.bagNote5}\r\n\t\t\t\tonValueMouseOver={(v: any) => setInspecting(v)}\r\n\t\t\t\tcolor={COLOURS.red}\r\n\t\t\t/> */}\r\n\t\t\t{/* Duplicate mark series, hidden to add larger mouse target area */}\r\n\t\t\t<MarkSeries \r\n\t\t\t\tdata={parsedCountBags.bagPound2}\r\n\t\t\t\tonValueMouseOver={handleMarkMouseOver}\r\n\t\t\t\tonValueMouseOut={handleMarkMouseOut}\r\n\t\t\t\tcolor='rgba(0,0,0,0)'\r\n\t\t\t\t_sizeValue={shadowMarkSize}\r\n\t\t\t/>\r\n\t\t\t<MarkSeries \r\n\t\t\t\tclassName='bagged-pound-two'\r\n\t\t\t\tdata={parsedCountBags.bagPound2}\r\n\t\t\t\tonValueMouseOver={handleMarkMouseOver}\r\n\t\t\t\tcolor={colourRelation('bagPound2')}\r\n\t\t\t\tonNearestX={handleNearestX}\r\n\t\t\t\tonSeriesMouseOver={() => handleSeriesMouseOver('bagPound2')}\r\n\t\t\t\tonSeriesMouseOut={() => handleSeriesMouseOut('bagPound2')}\r\n\t\t\t\tonSeriesClick={() => handleSeriesClick('bagPound2')}\r\n\t\t\t/>\r\n\t\t\t<MarkSeries \r\n\t\t\t\tdata={parsedCountBags.bagPound1}\r\n\t\t\t\tonValueMouseOver={handleMarkMouseOver}\r\n\t\t\t\tonValueMouseOut={handleMarkMouseOut}\r\n\t\t\t\tcolor='rgba(0,0,0,0)'\r\n\t\t\t\t// color={COLOURS.blue}\r\n\t\t\t\t_sizeValue={shadowMarkSize}\r\n\t\t\t/>\r\n\t\t\t<MarkSeries \r\n\t\t\t\tclassName='bagged-pound-one'\r\n\t\t\t\tdata={parsedCountBags.bagPound1}\r\n\t\t\t\tonValueMouseOver={handleMarkMouseOver}\r\n\t\t\t\tcolor={colourRelation('bagPound1')}\r\n\t\t\t\tonSeriesMouseOver={() => handleSeriesMouseOver('bagPound1')}\r\n\t\t\t\tonSeriesMouseOut={() => handleSeriesMouseOut('bagPound1')}\r\n\t\t\t\tonSeriesClick={() => handleSeriesClick('bagPound1')}\r\n\t\t\t/>\r\n\t\t\t<MarkSeries \r\n\t\t\t\tdata={parsedCountBags.bagPence50}\r\n\t\t\t\tonValueMouseOver={handleMarkMouseOver}\r\n\t\t\t\tonValueMouseOut={handleMarkMouseOut}\r\n\t\t\t\tcolor='rgba(0,0,0,0)'\r\n\t\t\t\t_sizeValue={shadowMarkSize}\r\n\t\t\t/>\r\n\t\t\t<MarkSeries \r\n\t\t\t\tclassName='bagged-pence-fifty'\r\n\t\t\t\tdata={parsedCountBags.bagPence50}\r\n\t\t\t\tonValueMouseOver={handleMarkMouseOver}\r\n\t\t\t\tcolor={colourRelation('bagPence50')}\r\n\t\t\t\tonSeriesMouseOver={() => handleSeriesMouseOver('bagPence50')}\r\n\t\t\t\tonSeriesMouseOut={() => handleSeriesMouseOut('bagPence50')}\r\n\t\t\t\tonSeriesClick={() => handleSeriesClick('bagPence50')}\r\n\t\t\t/>\r\n\t\t\t<MarkSeries \r\n\t\t\t\tdata={parsedCountBags.bagPence20}\r\n\t\t\t\tonValueMouseOver={handleMarkMouseOver}\r\n\t\t\t\tonValueMouseOut={handleMarkMouseOut}\r\n\t\t\t\tcolor='rgba(0,0,0,0)'\r\n\t\t\t\t_sizeValue={shadowMarkSize}\r\n\t\t\t/>\r\n\t\t\t<MarkSeries \r\n\t\t\t\tclassName='bagged-pence-twenty'\r\n\t\t\t\tdata={parsedCountBags.bagPence20}\r\n\t\t\t\tonValueMouseOver={handleMarkMouseOver}\r\n\t\t\t\tcolor={colourRelation('bagPence20')}\r\n\t\t\t\tonSeriesMouseOver={() => handleSeriesMouseOver('bagPence20')}\r\n\t\t\t\tonSeriesMouseOut={() => handleSeriesMouseOut('bagPence20')}\r\n\t\t\t\tonSeriesClick={() => handleSeriesClick('bagPence20')}\r\n\t\t\t/>\r\n\t\t\t<MarkSeries \r\n\t\t\t\tdata={parsedCountBags.bagPence10}\r\n\t\t\t\tonValueMouseOver={handleMarkMouseOver}\r\n\t\t\t\tonValueMouseOut={handleMarkMouseOut}\r\n\t\t\t\tcolor='rgba(0,0,0,0)'\r\n\t\t\t\t_sizeValue={shadowMarkSize}\r\n\t\t\t/>\r\n\t\t\t<MarkSeries \r\n\t\t\t\tclassName='bagged-pence-ten'\r\n\t\t\t\tdata={parsedCountBags.bagPence10}\r\n\t\t\t\tonValueMouseOver={handleMarkMouseOver}\r\n\t\t\t\tcolor={colourRelation('bagPence10')}\r\n\t\t\t\tonSeriesMouseOver={() => handleSeriesMouseOver('bagPence10')}\r\n\t\t\t\tonSeriesMouseOut={() => handleSeriesMouseOut('bagPence10')}\r\n\t\t\t\tonSeriesClick={() => handleSeriesClick('bagPence10')}\r\n\t\t\t/>\r\n\t\t\t<MarkSeries \r\n\t\t\t\tdata={parsedCountBags.bagPence5}\r\n\t\t\t\tonValueMouseOver={handleMarkMouseOver}\r\n\t\t\t\tonValueMouseOut={handleMarkMouseOut}\r\n\t\t\t\tcolor='rgba(0,0,0,0)'\r\n\t\t\t\t_sizeValue={shadowMarkSize}\r\n\t\t\t/>\r\n\t\t\t<MarkSeries \r\n\t\t\t\tclassName='bagged-pence-five'\r\n\t\t\t\tdata={parsedCountBags.bagPence5}\r\n\t\t\t\tonValueMouseOver={handleMarkMouseOver}\r\n\t\t\t\tcolor={colourRelation('bagPence5')}\r\n\t\t\t\tonSeriesMouseOver={() => handleSeriesMouseOver('bagPence5')}\r\n\t\t\t\tonSeriesMouseOut={() => handleSeriesMouseOut('bagPence5')}\r\n\t\t\t\tonSeriesClick={() => handleSeriesClick('bagPence5')}\r\n\t\t\t/>\r\n\t\t\t<MarkSeries \r\n\t\t\t\tdata={parsedCountBags.bagPence2}\r\n\t\t\t\tonValueMouseOver={handleMarkMouseOver}\r\n\t\t\t\tonValueMouseOut={handleMarkMouseOut}\r\n\t\t\t\tcolor='rgba(0,0,0,0)'\r\n\t\t\t\t_sizeValue={shadowMarkSize}\r\n\t\t\t/>\r\n\t\t\t<MarkSeries \r\n\t\t\t\tclassName='bagged-pence-two'\r\n\t\t\t\tdata={parsedCountBags.bagPence2}\r\n\t\t\t\tonValueMouseOver={handleMarkMouseOver}\r\n\t\t\t\tcolor={colourRelation('bagPence2')}\r\n\t\t\t\tonSeriesMouseOver={() => handleSeriesMouseOver('bagPence2')}\r\n\t\t\t\tonSeriesMouseOut={() => handleSeriesMouseOut('bagPence2')}\r\n\t\t\t\tonSeriesClick={() => handleSeriesClick('bagPence2')}\r\n\t\t\t/>\r\n\t\t\t<MarkSeries \r\n\t\t\t\tdata={parsedCountBags.bagPence1}\r\n\t\t\t\tonValueMouseOver={handleMarkMouseOver}\r\n\t\t\t\tonValueMouseOut={handleMarkMouseOut}\r\n\t\t\t\tcolor='rgba(0,0,0,0)'\r\n\t\t\t\t_sizeValue={shadowMarkSize}\r\n\t\t\t/>\r\n\t\t\t<MarkSeries \r\n\t\t\t\tclassName='bagged-pence-one'\r\n\t\t\t\tdata={parsedCountBags.bagPence1}\r\n\t\t\t\tonValueMouseOver={handleMarkMouseOver}\r\n\t\t\t\tcolor={colourRelation('bagPence1')}\r\n\t\t\t\tonSeriesMouseOver={() => handleSeriesMouseOver('bagPence1')}\r\n\t\t\t\tonSeriesMouseOut={() => handleSeriesMouseOut('bagPence1')}\r\n\t\t\t\tonSeriesClick={() => handleSeriesClick('bagPence1')}\r\n\t\t\t/>\r\n\r\n\t\t\t{/* <ParallelCoordinates \r\n\t\t\t\tdata={parsedCountBags.bagPound2} \r\n\t\t\t/> */}\r\n\t\t\t{ \r\n\t\t\t\t(inspecting !== null && inspecting !== undefined) && \r\n\t\t\t\t<Hint \r\n\t\t\t\t\tvalue={inspecting}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tcss={tooltipStyle}\r\n\t\t\t\t\t\tborderTop={`5px solid ${colourRelation(inspecting.label)}`}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{/* <Text \r\n\t\t\t\t\t\t\t{...tooltipTextSyle}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{inspecting.timestamp}\r\n\t\t\t\t\t\t</Text> */}\r\n\t\t\t\t\t\t<Text \r\n\t\t\t\t\t\t\t{...tooltipTextSyle}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{inspecting.label}\r\n\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t<Text \r\n\t\t\t\t\t\t\t{...tooltipTextSyle}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tQuantity: {Math.round(Number(inspecting.y))}\r\n\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Hint> \r\n\t\t\t}\r\n\t\t\t{ (crosshair !== null && crosshair !== undefined) && \r\n\t\t\t\t<Crosshair \r\n\t\t\t\t\tvalues={[{ x: crosshairX }]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tcss={tooltipStyle}\r\n\t\t\t\t\t\ttransform='translateY(-100%)'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t(crosshair.title && crosshair.title.length) &&\r\n\t\t\t\t\t\t\t<Text \r\n\t\t\t\t\t\t\t\t{...crosshairStyle}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{crosshair.title}\r\n\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t<Text\r\n\t\t\t\t\t\t\t{...crosshairStyle}\r\n\t\t\t\t\t\t\twhiteSpace='nowrap'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{crosshair.date}, {crosshair.time}\r\n\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Crosshair>\r\n\t\t\t}\r\n\t\t</XYPlot>\r\n\t\tWhyyyyyyyyyyyyyyyyyyyyyy {hoverSeries}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default GraphOnlyBags\r\n","/** @ jsxRuntime classic */\r\n/** @ jsx jsx */\r\nimport React, { useEffect, useReducer } from 'react'\r\n// import { css, jsx } from '@emotion/react'\r\n\r\nimport { \r\n\tServerCountType, \r\n\tServerCountTypeFloatConfirmed,\r\n\tBagTypeReadableLabels,\r\n} from '../../global'\r\n\r\nimport { \r\n\tInspectRepoContext, \r\n} from './Utils'\r\n\r\nimport {\r\n\tParsedCountBagsT,\r\n\tSingleParsedCountBagT,\r\n\tBagTypes,\r\n} from './types'\r\n\r\nimport TopControlGroup from './TopControlGroup'\r\nimport { inspectRepoInitialState } from './Utils'\r\nimport InspectRepoReducer from './InspectRepoReducer'\r\nimport GraphOnlyBags from './GraphOnlyBags'\r\nimport { dataSet, parsedCountBagsSet } from './InspectRepoActions'\r\n\r\n// const styles = css`\r\n// \tcolor: red;\r\n// `\r\n\r\ninterface ServerCountTypeWithAdjustment extends ServerCountType {\r\n\tadjustment?: number | null\r\n}\r\n\r\nconst InspectOneRepo: React.FC = () => {\r\n\tconst [contextState, contextDispatch] = useReducer(InspectRepoReducer, inspectRepoInitialState)\r\n\r\n\t// TODO: change name of adjustYAxisRenderPosition. use* syntax is React special syntax\r\n\tconst { \r\n\t\tstartTime, \r\n\t\tendTime, \r\n\t\tadjustYAxisRenderPosition, \r\n\t\trepo, \r\n\t\tadjustmentStepSize,\r\n\t\tinspecting,\r\n\t\tdata,\r\n\t} = contextState\r\n\t\r\n\t/**\r\n\t * # Use Effect 1/2\r\n\t * - For the specified date range, pull count data for the select repository\r\n\t * \r\n\t * @listens {repo, endTime, StartTime}\r\n\t * @dispatch {ServerCountType[]}\r\n\t */\r\n\tuseEffect(() => {\r\n\t\tconst EXT = `/api/v1/count?fromdate=${startTime.getTime()}&todate=${endTime.getTime()}&float=true&repository=${repo}`\r\n\t\tconsole.log(EXT)\r\n\t\tconst OPTS = {\r\n\t\t\tmethod: 'GET',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t}\r\n\t\t}\r\n\t\tfetch(EXT, OPTS)\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(res => {\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t\tcontextDispatch(dataSet(\r\n\t\t\t\t\tres.counts.sort((a: ServerCountType, b: ServerCountType) => {\r\n\t\t\t\t\t\tconst timestampA = Number(a.timestamp)\r\n\t\t\t\t\t\tconst timestampB = Number(b.timestamp)\r\n\t\t\t\t\t\treturn timestampA - timestampB\r\n\t\t\t\t\t})\r\n\t\t\t\t))\r\n\t\t\t})\r\n\t}, [repo, endTime, startTime])\r\n\r\n\t/**\r\n\t * # Use Effect 2/2\r\n\t * - Uses the data object to create the parsedData object\r\n\t * - pasrsedData \"rotates\" the data to use series based on denomination, instead of per count record\r\n\t * \r\n\t * @listens {data, adjustYAxisRenderPosition, adjustmentStepSize}\r\n\t * @dispatch {ServerCountType[]}\r\n\t */\r\n\tuseEffect(() => {\r\n\t\t/**\r\n\t\t * \r\n\t\t */\r\n\t\tconst adjustedCount = data.map((each: ServerCountTypeFloatConfirmed) => {\r\n\t\t\t// Local types and lookup objects\r\n\t\t\tconst bags: BagTypes[] = ['bagNote5', 'bagPound2', 'bagPound1', 'bagPence50', 'bagPence20', 'bagPence10', 'bagPence5', 'bagPence2', 'bagPence1']\r\n\t\t\t// Used with the 'adjustments' option. Scales diffirent denominations to be uniform.\r\n\t\t\tconst adjustments: {\r\n\t\t\t\tbagNote5: number\r\n\t\t\t\tbagPound2: number\r\n\t\t\t\tbagPound1: number\r\n\t\t\t\tbagPence50: number\r\n\t\t\t\tbagPence20: number\r\n\t\t\t\tbagPence10: number\r\n\t\t\t\tbagPence5: number\r\n\t\t\t\tbagPence2: number\r\n\t\t\t\tbagPence1: number\r\n\t\t\t} = {\r\n\t\t\t\tbagNote5: (100 * 5),\r\n\t\t\t\tbagPound2: (100 * 20),\r\n\t\t\t\tbagPound1: (100 * 20),\r\n\t\t\t\tbagPence50: (100 * 10),\r\n\t\t\t\tbagPence20: (100 * 10),\r\n\t\t\t\tbagPence10: (100 * 5),\r\n\t\t\t\tbagPence5: (100 * 5),\r\n\t\t\t\tbagPence2: (100 * 1),\r\n\t\t\t\tbagPence1: (100 * 1),\r\n\t\t\t}\r\n\r\n\t\t\t// Copy the float data. \r\n\t\t\t// Bag values will be overwritten later and used to render the graph series points.\r\n\t\t\tconst float = { ...each.float }\r\n\r\n\t\t\tinterface RecordType {\r\n\t\t\t\tlabel: BagTypes\r\n\t\t\t\tvalue: number\r\n\t\t\t}\r\n\r\n\t\t\t// for each bag type (BagTypes[]) lookup the value and label\r\n\t\t\t// create a new array of objects each containing this key. Sort into size order.\r\n\t\t\t// [{label: 'bagNote5', value: 2}, {label: 'bagPound2', value: 6} ...{label: 'bagPence1', value: 3}]\r\n\t\t\tconst records: RecordType[] = bags.map((bag: BagTypes) => ({\r\n\t\t\t\tlabel: bag,\r\n\t\t\t\tvalue: Number(each.float[bag]) || 0\r\n\t\t\t}))\r\n\t\t\t.sort((a, b) => a.value - b.value)\r\n\r\n\t\t\t// A queue method is used to examine each value, grouping same values together\r\n\t\t\tconst stack: RecordType[] = []\r\n\t\t\t\r\n\t\t\t// Each Record is compared to the existing stack value (for any items)\r\n\t\t\t// If the stack is empty, it is the first loop\r\n\t\t\t// If the current value is the same, add it, otherwise empty the stack.\r\n\t\t\trecords.forEach((oneRecord: RecordType) => {\r\n\t\t\t\tif (stack.length === 0) {\r\n\t\t\t\t\tstack.push(oneRecord)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (oneRecord.value === stack[0].value) {\r\n\t\t\t\t\t\tstack.push(oneRecord)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\temptyStack(oneRecord)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tfunction emptyStack (oneRecord: any) {\r\n\t\t\t\t// The stack size will be    0 < stack.length <= bagTypes.length \r\n\t\t\t\tconst len: number = stack.length\r\n\t\t\t\tconst middle: number = Math.ceil(len / 2)\r\n\t\t\t\t\r\n\t\t\t\t/**\r\n\t\t\t\t * Looping over the stack, two indexes are used.\r\n\t\t\t\t * i is calculated such that the middle is 0. \r\n\t\t\t\t * This ensures any sdjustments move items (almost) equally up the graph as down.\r\n\t\t\t\t * j counts loops, used for index access to the stack.\r\n\t\t\t\t */\r\n\t\t\t\tfor (let i = 1 - middle, j = 0; i <= len - middle; i++, j++) {\r\n\t\t\t\t\t// Labels and values are extracted\r\n\t\t\t\t\tconst label = stack[j].label\r\n\t\t\t\t\tconst value = stack[j].value\r\n\t\t\t\t\t// if adjustments are in use, offset each point by its relative diffirence\r\n\t\t\t\t\t// NOTE: the fail claus of the tenary used to be i. Check why later\r\n\t\t\t\t\t// TODO: Check functionality given 3 overlapping values. Seems to preference raising all 3 above the line\r\n\t\t\t\t\tconst multiplier: number = adjustYAxisRenderPosition \r\n\t\t\t\t\t\t? i * adjustmentStepSize * adjustments[label] \r\n\t\t\t\t\t\t: 0\r\n\t\t\t\t\t// Lastly, the two values from Record are used to re-write the float values\r\n\t\t\t\t\tfloat[label] = value + multiplier\r\n\t\t\t\t}\r\n\t\t\t\t// clear the float, ready for the next BagType\r\n\t\t\t\tstack.length = 0\r\n\t\t\t\tstack.push(oneRecord)\r\n\t\t\t}\r\n\r\n\t\t\treturn { ...each, float }\r\n\t\t})\r\n\r\n\t\t/**\r\n\t\t * SingleParsedCountBagT is the objects that will be passed to the series and render each point.\r\n\t\t * Reduce over the adjusted counts previously created, push each of the bags to their own array\r\n\t\t * \r\n\t\t * @return {ParsedCountBagsT}\r\n\t\t */\r\n\t\tconst parsedC: ParsedCountBagsT = adjustedCount.reduce((acc: ParsedCountBagsT, each: ServerCountTypeWithAdjustment, idx: number) => {\r\n\t\t\tconst newAcc: ParsedCountBagsT = { ...acc }\r\n\r\n\t\t\t// create a SingleParsedCountBagT from a given readable label\r\n\t\t\tfunction pushToNewAcc (bagType: BagTypeReadableLabels): SingleParsedCountBagT {\r\n\t\t\t\tlet y = 0\r\n\t\t\t\tconst timestamp = each.timestamp ? new Date(each.timestamp).toLocaleString('en-GB') : ''\r\n\t\t\t\t\r\n\t\t\t\tswitch (bagType) {\r\n\t\t\t\t\tcase 'Bagged £5': y = (each.float?.bagNote5 || 0) / (100 * 5); break;\r\n\t\t\t\t\tcase 'Bagged £2': y = (each.float?.bagPound2 || 0) / (100 * 20); break;\r\n\t\t\t\t\tcase 'Bagged £1': y = (each.float?.bagPound1 || 0) / (100 * 20); break;\r\n\t\t\t\t\tcase 'Bagged 50p': y = (each.float?.bagPence50 || 0) / (100 * 10); break;\r\n\t\t\t\t\tcase 'Bagged 20p': y = (each.float?.bagPence20 || 0) / (100 * 10); break;\r\n\t\t\t\t\tcase 'Bagged 10p': y = (each.float?.bagPence10 || 0) / (100 * 5); break;\r\n\t\t\t\t\tcase 'Bagged 5p': y = (each.float?.bagPence5 || 0) / (100 * 5); break;\r\n\t\t\t\t\tcase 'Bagged 2p': y = (each.float?.bagPence2 || 0) / 100; break;\r\n\t\t\t\t\tcase 'Bagged 1p': y = (each.float?.bagPence1 || 0) / 100; break;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn { \r\n\t\t\t\t\tlabel: bagType, y, x: idx, timestamp, id: each.id || 0\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tnewAcc.bagNote5.push(pushToNewAcc('Bagged £5'))\r\n\t\t\tnewAcc.bagPound2.push(pushToNewAcc('Bagged £2'))\r\n\t\t\tnewAcc.bagPound1.push(pushToNewAcc('Bagged £1'))\r\n\t\t\tnewAcc.bagPence50.push(pushToNewAcc('Bagged 50p'))\r\n\t\t\tnewAcc.bagPence20.push(pushToNewAcc('Bagged 20p'))\r\n\t\t\tnewAcc.bagPence10.push(pushToNewAcc('Bagged 10p'))\r\n\t\t\tnewAcc.bagPence5.push(pushToNewAcc('Bagged 5p'))\r\n\t\t\tnewAcc.bagPence2.push(pushToNewAcc('Bagged 2p'))\r\n\t\t\tnewAcc.bagPence1.push(pushToNewAcc('Bagged 1p'))\r\n\t\t\treturn newAcc\r\n\t\t}, {\r\n\t\t\tbagNote5: [],\r\n\t\t\tbagPound2: [],\r\n\t\t\tbagPound1: [],\r\n\t\t\tbagPence50: [],\r\n\t\t\tbagPence20: [],\r\n\t\t\tbagPence10: [],\r\n\t\t\tbagPence5: [],\r\n\t\t\tbagPence2: [],\r\n\t\t\tbagPence1: [],\r\n\t\t})\r\n\t\t// console.log('parsedCountBagsSet', parsedC)\r\n\t\t// ParsedCountBagsT is now ready to render, dispatch a write action\r\n\t\tcontextDispatch(parsedCountBagsSet(parsedC))\r\n\t}, [\r\n\t\tdata, \r\n\t\tadjustYAxisRenderPosition, \r\n\t\tadjustmentStepSize\r\n\t])\r\n\r\n\treturn (\r\n\t\t<InspectRepoContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\tcontextState, \r\n\t\t\t\tcontextDispatch,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tbackground: '#fff'\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<TopControlGroup />\r\n\t\t\t\t<GraphOnlyBags />\r\n\t\t\t\t{\r\n\t\t\t\t\tJSON.stringify(inspecting)\r\n\t\t\t\t}\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li>Toggle individual series</li>\r\n\t\t\t\t\t<li>How to emphasis on hover</li>\r\n\t\t\t\t\t<li>Add series labels</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t</InspectRepoContext.Provider>\r\n\t)\r\n}\r\n\r\nexport default InspectOneRepo","/** @ jsxRuntime classic */\r\n/** @ jsx jsx */\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\n// import { css, jsx } from '@emotion/react'\r\n\r\nimport {\r\n\tXYPlot,\r\n\tHorizontalGridLines,\r\n\tXAxis,\r\n\tYAxis,\r\n\tLineSeries,\r\n\tMarkSeries,\r\n\tHint,\r\n\t// ParallelCoordinates,\r\n\t// Crosshair,\r\n} from 'react-vis'\r\n\r\nimport { \r\n\tReduxStateType,\r\n\tServerCountType, \r\n\t// ServerFloatType,\r\n\tBagTypeReadableLabels,\r\n} from '../global'\r\n\r\nimport initialState from '../constants/initialState'\r\n\r\nimport {\r\n\tButton,\r\n\tSlider,\r\n\tSliderTrack,\r\n\tSliderFilledTrack,\r\n\tSliderThumb,\r\n\tFlex,\r\n} from '@chakra-ui/react'\r\nimport Select from './base/Select'\r\nimport DateInput from './base/DateInput'\r\n\r\n// const styles = css`\r\n// \tcolor: red;\r\n// `\r\nconst ABS_START_DATE = '2021-03-30'\r\nconst WIDTH: number = 1200\r\nconst HEIGHT: number = 500\r\nconst Y_PADDING: number = 20\r\n\r\ninterface ParsedCountT {\r\n\tbagNote5: ParsedCountT[],\r\n\tbagPound2: ParsedCountT[],\r\n\tbagPound1: ParsedCountT[],\r\n\tbagPence50: ParsedCountT[],\r\n\tbagPence20: ParsedCountT[],\r\n\tbagPence10: ParsedCountT[],\r\n\tbagPence5: ParsedCountT[],\r\n\tbagPence2: ParsedCountT[],\r\n\tbagPence1: ParsedCountT[],\r\n}\r\n\r\ninterface ServerCountTypeWithAdjustment extends ServerCountType {\r\n\tadjustment?: number | null\r\n}\r\n\r\nconst VisTest1: React.FC = () => {\r\n\tconst repoList = useSelector((s: typeof initialState) => s.repositories.repositoryList)\r\n\r\n\tconst [repo, setRepo] = useState(1)\r\n\t// const baseDate = new Date()\r\n\tconst baseDate = new Date(ABS_START_DATE)\r\n\tconst [startTime, setStartTime] = useState(new Date(baseDate.getTime() - 1000 * 60 * 60 * 24 * 7 * 5))\r\n\tconst [endTime, setEndTime] = useState(baseDate)\r\n\tconst [useAdjustments, setUseAdjustments] = useState(true)\r\n\tconst [data, setData]: [ServerCountType[], any] = useState([])\r\n\tconst [adjustmentStepSize, setAdjustmentStepSize] = useState(.2)\r\n\tconst [inspecting, setInspecting]: [any, any] = useState(null)\r\n\tconst COLOURS = useSelector((state: ReduxStateType) => state.ui.colours)\r\n\tconst [parsedCount, setParsedCount]: [ParsedCountT, any] = useState({\r\n\t\tbagNote5: [],\r\n\t\tbagPound2: [],\r\n\t\tbagPound1: [],\r\n\t\tbagPence50: [],\r\n\t\tbagPence20: [],\r\n\t\tbagPence10: [],\r\n\t\tbagPence5: [],\r\n\t\tbagPence2: [],\r\n\t\tbagPence1: [],\r\n\t})\r\n\r\n\tuseEffect(() => {\r\n\t\tconst EXT = `/api/v1/count?fromdate=${startTime.getTime()}&todate=${endTime.getTime()}&float=true&repository=${repo}`\r\n\t\tconsole.log(EXT)\r\n\t\tconst OPTS = {\r\n\t\t\tmethod: 'GET',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t}\r\n\t\t}\r\n\t\tfetch(EXT, OPTS)\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(res => {\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t\tsetData(res.counts.reverse())\r\n\t\t\t})\r\n\t}, [repo, endTime, startTime])\r\n\r\n\tuseEffect(() => {\r\n\t\tconst adjustedC = data.map((each: any) => {\r\n\t\t\ttype BagTypes = 'bagNote5' | 'bagPound2' | 'bagPound1' | 'bagPence50' | 'bagPence20' | 'bagPence10' | 'bagPence5' | 'bagPence2' | 'bagPence1'\r\n\t\t\tconst bags: BagTypes[] = ['bagNote5', 'bagPound2', 'bagPound1', 'bagPence50', 'bagPence20', 'bagPence10', 'bagPence5', 'bagPence2', 'bagPence1']\r\n\t\t\tconst adjustments: any = {\r\n\t\t\t\tbagNote5: (100 * 5),\r\n\t\t\t\tbagPound2: (100 * 20),\r\n\t\t\t\tbagPound1: (100 * 20),\r\n\t\t\t\tbagPence50: (100 * 10),\r\n\t\t\t\tbagPence20: (100 * 10),\r\n\t\t\t\tbagPence10: (100 * 5),\r\n\t\t\t\tbagPence5: (100 * 5),\r\n\t\t\t\tbagPence2: (100 * 1),\r\n\t\t\t\tbagPence1: (100 * 1),\r\n\t\t\t}\r\n\t\t\tconst float = { ...each.float }\r\n\t\t\tconst record = bags.map((bag: BagTypes) => ({\r\n\t\t\t\tlabel: bag,\r\n\t\t\t\tvalue: each.float[bag]\r\n\t\t\t}))\r\n\t\t\t.sort((a, b) => a.value - b.value)\r\n\t\t\t// console.log(record)\r\n\t\t\tconst stack: any[] = []\r\n\t\t\t// loop through each item\r\n\t\t\t// \t\t- check item\r\n\t\t\t//\t\t- if last === null\r\n\t\t\t//\t\t\t- add this to stack, continue\r\n\t\t\t//\t\t- something in stack\r\n\t\t\t//\t\t\t- compare to last in stack\r\n\t\t\t//\t\t\t\t- are diffirent\r\n\t\t\t//\t\t\t\t\t- set all in stack stack\r\n\t\t\t//\t\t\t\t\t- push new value to stack\r\n\t\t\t// \t\t\t\t- are same\r\n\t\t\t//\t\t\t\t\t- push new value to stack, continue\r\n\t\t\trecord.forEach((oneRecord: any) => {\r\n\t\t\t\tif (stack.length === 0) {\r\n\t\t\t\t\tstack.push(oneRecord)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (oneRecord.value === stack[0].value) {\r\n\t\t\t\t\t\tstack.push(oneRecord)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\temptyStack(oneRecord)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tfunction emptyStack (oneRecord: any) {\r\n\t\t\t\t// const stepSize: number = .2\r\n\t\t\t\t// const stepSize: number = 100\r\n\t\t\t\tconst len: number = stack.length\r\n\t\t\t\tconst middle: number = Math.ceil(len / 2)\r\n\t\t\t\t// const temp: BagTypes[] = []\r\n\t\t\t\t// const temp: any = []\r\n\t\t\t\tfor (let i = 1 - middle, j = 0; i <= len - middle; i++, j++) {\r\n\t\t\t\t\t// temp.push(i)\r\n\t\t\t\t\tconst label = stack[j].label\r\n\t\t\t\t\tconst value = stack[j].value\r\n\t\t\t\t\tconst multiplier: number = useAdjustments \r\n\t\t\t\t\t\t? i * \tadjustmentStepSize * adjustments[label] \r\n\t\t\t\t\t\t: i\r\n\t\t\t\t\tfloat[label] = value + multiplier\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tstack.length = 0\r\n\t\t\t\tstack.push(oneRecord)\r\n\t\t\t}\r\n\r\n\t\t\t// if (each.id === 4) console.log(each.float, float)\r\n\t\t\treturn { ...each, float }\r\n\t\t})\r\n\t\t// console.log({ adjustedC, data })\r\n\r\n\t\tconst parsedC = adjustedC.reduce((acc: ParsedCountT, each: ServerCountTypeWithAdjustment, idx: number) => {\r\n\t\t\tconst newAcc: any = { ...acc }\r\n\r\n\t\t\tfunction pushToNewAcc (bagType: BagTypeReadableLabels) {\r\n\t\t\t\tlet y = 0\r\n\t\t\t\tconst timestamp = each.timestamp ? new Date(each.timestamp).toLocaleString('en-GB') : undefined\r\n\t\t\t\t\r\n\t\t\t\tswitch (bagType) {\r\n\t\t\t\t\tcase 'Bagged £5': y = (each.float?.bagNote5 || 0) / (100 * 5); break;\r\n\t\t\t\t\tcase 'Bagged £2': y = (each.float?.bagPound2 || 0) / (100 * 20); break;\r\n\t\t\t\t\tcase 'Bagged £1': y = (each.float?.bagPound1 || 0) / (100 * 20); break;\r\n\t\t\t\t\tcase 'Bagged 50p': y = (each.float?.bagPence50 || 0) / (100 * 10); break;\r\n\t\t\t\t\tcase 'Bagged 20p': y = (each.float?.bagPence20 || 0) / (100 * 10); break;\r\n\t\t\t\t\tcase 'Bagged 10p': y = (each.float?.bagPence10 || 0) / (100 * 5); break;\r\n\t\t\t\t\tcase 'Bagged 5p': y = (each.float?.bagPence5 || 0) / (100 * 5); break;\r\n\t\t\t\t\tcase 'Bagged 2p': y = (each.float?.bagPence2 || 0) / 100; break;\r\n\t\t\t\t\tcase 'Bagged 1p': y = (each.float?.bagPence1 || 0) / 100; break;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn { \r\n\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\tlabel: bagType, y, x: idx, timestamp, id: each.id\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tnewAcc.bagNote5.push(pushToNewAcc('Bagged £5'))\r\n\t\t\tnewAcc.bagPound2.push(pushToNewAcc('Bagged £2'))\r\n\t\t\tnewAcc.bagPound1.push(pushToNewAcc('Bagged £1'))\r\n\t\t\tnewAcc.bagPence50.push(pushToNewAcc('Bagged 50p'))\r\n\t\t\tnewAcc.bagPence20.push(pushToNewAcc('Bagged 20p'))\r\n\t\t\tnewAcc.bagPence10.push(pushToNewAcc('Bagged 10p'))\r\n\t\t\tnewAcc.bagPence5.push(pushToNewAcc('Bagged 5p'))\r\n\t\t\tnewAcc.bagPence2.push(pushToNewAcc('Bagged 2p'))\r\n\t\t\tnewAcc.bagPence1.push(pushToNewAcc('Bagged 1p'))\r\n\t\t\treturn newAcc\r\n\t\t}, {\r\n\t\t\tbagNote5: [],\r\n\t\t\tbagPound2: [],\r\n\t\t\tbagPound1: [],\r\n\t\t\tbagPence50: [],\r\n\t\t\tbagPence20: [],\r\n\t\t\tbagPence10: [],\r\n\t\t\tbagPence5: [],\r\n\t\t\tbagPence2: [],\r\n\t\t\tbagPence1: [],\r\n\t\t})\r\n\t\t// console.log('setParsedCount')\r\n\t\tsetParsedCount(parsedC)\r\n\t}, [\r\n\t\tdata, \r\n\t\tuseAdjustments, \r\n\t\tadjustmentStepSize\r\n\t])\r\n\r\n\tconst handleRepoChange = (e: any) => {\r\n\t\tsetRepo(e.target.value)\r\n\t}\r\n\r\n\tconst toggleAdjustments = () => {\r\n\t\tsetUseAdjustments(!useAdjustments)\r\n\t}\r\n\r\n\tconst handleMarkMouseOver = (e: any) => {\r\n\t\tsetInspecting(e)\r\n\t}\r\n\r\n\t// const poundTwo = data.map((each: ServerCountType, idx: number) => ({ \r\n\t// \ty: (each.float?.bagPound2 || 0) / 100, \r\n\t// \t// @ts-ignore\r\n\t// \tx: idx//new Date(each.timestamp) \r\n\t// \t, timestamp: each.timestamp ? new Date(each.timestamp) : undefined\r\n\t// }))\r\n\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tstyle={{\r\n\t\t\t\tbackground: '#fff'\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<Flex\r\n\t\t\t\talignItems='center'\r\n\t\t\t>\r\n\t\t\t\t<Select\r\n\t\t\t\t\tonChange={handleRepoChange}\r\n\t\t\t\t\tvalue={repo}\r\n\t\t\t\t\tw='250px'\r\n\t\t\t\t>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\trepoList.map((each: any) => \r\n\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\tkey={each.id}\r\n\t\t\t\t\t\t\t\tvalue={each.id}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\teach.name\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t</Select>\r\n\t\t\t\t<DateInput \r\n\t\t\t\t\tflex='1' \r\n\t\t\t\t\tselected={startTime}\r\n\t\t\t\t\tonChange={(d: any) => setStartTime(d)}\r\n\t\t\t\t\tname='Date Start'\r\n\t\t\t\t\tlocale='gb'\r\n\t\t\t\t\ttimeFormat='HH:mm'\r\n\t\t\t\t\ttimeCaption='time input'\r\n\t\t\t\t\tdateFormat='dd/MM/yyyy'\r\n\t\t\t\t/>\r\n\t\t\t\t<DateInput \r\n\t\t\t\t\tflex='1' \r\n\t\t\t\t\tselected={endTime}\r\n\t\t\t\t\tonChange={(d: any) => setEndTime(d)}\r\n\t\t\t\t\tname='Date Start'\r\n\t\t\t\t\tlocale='gb'\r\n\t\t\t\t\ttimeFormat='HH:mm'\r\n\t\t\t\t\ttimeCaption='time input'\r\n\t\t\t\t\tdateFormat='dd/MM/yyyy'\r\n\t\t\t\t/>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={toggleAdjustments}\r\n\t\t\t\t\tvariant='ui'\r\n\t\t\t\t>\r\n\t\t\t\t\tAdjustments: {useAdjustments ? 'ON' : 'OFF'}\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Slider\r\n\t\t\t\t\tmin={0.05}\r\n\t\t\t\t\tmax={.8}\r\n\t\t\t\t\tstep={0.01}\r\n\t\t\t\t\tvalue={adjustmentStepSize}\r\n\t\t\t\t\tonChange={(v: any) => setAdjustmentStepSize(v)}\r\n\t\t\t\t\t// onChangeEnd={(v: any) => setAdjustmentStepSize(v)}\r\n\t\t\t\t\twidth={'200px'}\r\n\t\t\t\t>\r\n\t\t\t\t\t<SliderTrack>\r\n\t\t\t\t\t\t<SliderFilledTrack />\r\n\t\t\t\t\t</SliderTrack>\r\n\t\t\t\t\t<SliderThumb />\r\n\t\t\t\t</Slider>\r\n\t\t\t</Flex>\r\n\t\t\t<XYPlot\r\n\t\t\t\twidth={WIDTH}\r\n\t\t\t\theight={HEIGHT}\r\n\t\t\t\tyPadding={Y_PADDING}\r\n\t\t\t\tonMouseLeave={() => setInspecting(null)}\r\n\t\t\t\t// animation={true}\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tposition: 'relative'\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t{/* <ParallelCoordinates \r\n\t\t\t\t\tdata={d} \r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\taxes: {\r\n\t\t\t\t\t\t\tline: {},\r\n\t\t\t\t\t\t\tticks: {},\r\n\t\t\t\t\t\t\ttext: {}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tlabels: {\r\n\t\t\t\t\t\t\tfontSize: 10\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tline: {\r\n\t\t\t\t\t\t\tstrokeOpacity: 1\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdeselectedLineStyle: {\r\n\t\t\t\t\t\t\tstrokeOpacity: 0.1\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t/> */}\r\n\t\t\t\t<HorizontalGridLines />\r\n\t\t\t\t<XAxis />\r\n\t\t\t\t<YAxis />\r\n\t\t\t\t{/* <LineSeries \r\n\t\t\t\t\tfill='none'\r\n\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\tdata={poundTwo}\r\n\t\t\t\t/> */}\r\n\t\t\t\t{/* <LineSeries \r\n\t\t\t\t\tfill='none'\r\n\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\tdata={parsedCount.bagNote5}\r\n\t\t\t\t\tcolor={COLOURS.red}\r\n\t\t\t\t/> */}\r\n\t\t\t\t<LineSeries \r\n\t\t\t\t\tfill='none'\r\n\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\tdata={parsedCount.bagPound2}\r\n\t\t\t\t\tcolor={COLOURS.green}\r\n\t\t\t\t/>\r\n\t\t\t\t<LineSeries \r\n\t\t\t\t\tfill='none'\r\n\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\tdata={parsedCount.bagPound1}\r\n\t\t\t\t\tcolor={COLOURS.blue}\r\n\t\t\t\t/>\r\n\t\t\t\t<LineSeries \r\n\t\t\t\t\tfill='none'\r\n\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\tdata={parsedCount.bagPence50}\r\n\t\t\t\t\tcolor={COLOURS.orange}\r\n\t\t\t\t/>\r\n\t\t\t\t<LineSeries \r\n\t\t\t\t\tfill='none'\r\n\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\tdata={parsedCount.bagPence20}\r\n\t\t\t\t\tcolor={COLOURS.yellow}\r\n\t\t\t\t/>\r\n\t\t\t\t<LineSeries \r\n\t\t\t\t\tfill='none'\r\n\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\tdata={parsedCount.bagPence10}\r\n\t\t\t\t\tcolor={COLOURS.teal}\r\n\t\t\t\t/>\r\n\t\t\t\t<LineSeries \r\n\t\t\t\t\tfill='none'\r\n\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\tdata={parsedCount.bagPence5}\r\n\t\t\t\t\tcolor={COLOURS.black}\r\n\t\t\t\t/>\r\n\t\t\t\t<LineSeries \r\n\t\t\t\t\tfill='none'\r\n\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\tdata={parsedCount.bagPence2}\r\n\t\t\t\t\tcolor={COLOURS.gold}\r\n\t\t\t\t/>\r\n\t\t\t\t<LineSeries \r\n\t\t\t\t\tfill='none'\r\n\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\tdata={parsedCount.bagPence1}\r\n\t\t\t\t\tcolor={COLOURS.liveRed}\r\n\t\t\t\t\tonSeriesMouseOver={() => console.log(Date.now())}\r\n\t\t\t\t/>\r\n\r\n\r\n\t\t\t\t{/* <MarkSeries \r\n\t\t\t\t\tclassName='bagged-note-five'\r\n\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\tdata={parsedCount.bagNote5}\r\n\t\t\t\t\tonValueMouseOver={(v: any) => setInspecting(v)}\r\n\t\t\t\t\tcolor={COLOURS.red}\r\n\t\t\t\t/> */}\r\n\t\t\t\t<MarkSeries \r\n\t\t\t\t\tclassName='bagged-pound-two'\r\n\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\tdata={parsedCount.bagPound2}\r\n\t\t\t\t\tonValueMouseOver={handleMarkMouseOver}\r\n\t\t\t\t\tcolor={COLOURS.green}\r\n\t\t\t\t/>\r\n\t\t\t\t<MarkSeries \r\n\t\t\t\t\tclassName='bagged-pound-one'\r\n\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\tdata={parsedCount.bagPound1}\r\n\t\t\t\t\tonValueMouseOver={handleMarkMouseOver}\r\n\t\t\t\t\tcolor={COLOURS.blue}\r\n\t\t\t\t/>\r\n\t\t\t\t<MarkSeries \r\n\t\t\t\t\tclassName='bagged-pence-fifty'\r\n\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\tdata={parsedCount.bagPence50}\r\n\t\t\t\t\tonValueMouseOver={handleMarkMouseOver}\r\n\t\t\t\t\tcolor={COLOURS.orange}\r\n\t\t\t\t/>\r\n\t\t\t\t<MarkSeries \r\n\t\t\t\t\tclassName='bagged-pence-twenty'\r\n\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\tdata={parsedCount.bagPence20}\r\n\t\t\t\t\tonValueMouseOver={handleMarkMouseOver}\r\n\t\t\t\t\tcolor={COLOURS.yellow}\r\n\t\t\t\t/>\r\n\t\t\t\t<MarkSeries \r\n\t\t\t\t\tclassName='bagged-pence-ten'\r\n\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\t// TODO: ts stops complaining if this value is put in an array\r\n\t\t\t\t\t// data appears to expect any[][]\r\n\t\t\t\t\t// investigate plz\r\n\t\t\t\t\tdata={parsedCount.bagPence10}\r\n\t\t\t\t\tonValueMouseOver={handleMarkMouseOver}\r\n\t\t\t\t\tcolor={COLOURS.teal}\r\n\t\t\t\t/>\r\n\t\t\t\t<MarkSeries \r\n\t\t\t\t\tclassName='bagged-pence-five'\r\n\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\tdata={parsedCount.bagPence5}\r\n\t\t\t\t\tonValueMouseOver={handleMarkMouseOver}\r\n\t\t\t\t\tcolor={COLOURS.black}\r\n\r\n\t\t\t\t/>\r\n\t\t\t\t<MarkSeries \r\n\t\t\t\t\tclassName='bagged-pence-two'\r\n\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\tdata={parsedCount.bagPence2}\r\n\t\t\t\t\tonValueMouseOver={handleMarkMouseOver}\r\n\t\t\t\t\tcolor={COLOURS.gold}\r\n\t\t\t\t/>\r\n\t\t\t\t<MarkSeries \r\n\t\t\t\t\tclassName='bagged-pence-one'\r\n\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\tdata={parsedCount.bagPence1}\r\n\t\t\t\t\tonValueMouseOver={handleMarkMouseOver}\r\n\t\t\t\t\tcolor={COLOURS.liveRed}\r\n\t\t\t\t/>\r\n\t\t\t\t{/* <ParallelCoordinates \r\n\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\tdata={parsedCount.bagPound2} \r\n\t\t\t\t/> */}\r\n\t\t\t\t{ (inspecting !== null) && <Hint value={inspecting} /> }\r\n\t\t\t\t{/* { (inspecting !== null) && <Crosshair value={[inspecting]} /> } */}\r\n\t\t\t</XYPlot>\r\n\t\t\t{\r\n\t\t\t\tJSON.stringify(inspecting)\r\n\t\t\t}\r\n\t\t\t<ul\r\n\t\t\t// @ts-ignore\r\n\t\t\t\t// className={css}\r\n\t\t\t>\r\n\t\t\t\t<li>Toggle individual series</li>\r\n\t\t\t\t<li>How to emphasis on hover</li>\r\n\t\t\t\t<li>Why Emotion.js not working?</li>\r\n\t\t\t\t<li>Cancel Hint on mouseout</li>\r\n\t\t\t\t<li>Add Crosshair</li>\r\n\t\t\t\t<li>Add series labels</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default VisTest1","import React, { useEffect } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { HashRouter, Route, Routes, Navigate } from 'react-router-dom'\r\n\r\nimport { authUsersWriteAll, repositoriesWriteAll, authPartnersWriteAll } from '../actions'\r\n\r\nimport PageWrapper from './PageWrapper'\r\nimport Login from './Login'\r\nimport Dashboard from './Dashboard/'\r\nimport Counts from './Counts/'\r\nimport Count from './Count/'\r\nimport InspectOneRepo from './InspectOneRepo/'\r\n\r\nimport './Carbon.css'\r\nimport './Carbon-alterations.css'\r\nimport './ReactDatetime.css'\r\nimport './App.scss'\r\n\r\nimport 'react-datepicker/dist/react-datepicker.css'\r\nimport VisTest1 from './VisTest1'\r\n\r\nconst App: React.FC = () => {\r\n\tconst dispatch = useDispatch()\r\n\r\n\tuseEffect(() => {\r\n\t\tfunction initialiseApp () {\r\n\t\t\tdispatch(authPartnersWriteAll())\r\n\t\t\tdispatch(repositoriesWriteAll())\r\n\t\t\tdispatch(authUsersWriteAll())\r\n\t\t}\r\n\t\tinitialiseApp()\r\n\t\t// eslint-disable-next-line\r\n\t}, [])\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <HashRouter>\r\n        <Routes>\r\n          <Route \r\n\t\t\t\t\t\tpath='/login' \r\n\t\t\t\t\t\telement={<Login />} \r\n\t\t\t\t\t/>\r\n          <Route \r\n\t\t\t\t\t\tpath='/home' \r\n\t\t\t\t\t\telement={\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<PageWrapper>\r\n\t\t\t\t\t\t\t\t</PageWrapper>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>            \r\n          <Route \r\n\t\t\t\t\t\tpath='/counts' \r\n\t\t\t\t\t\telement={\r\n\t\t\t\t\t\t\t<PageWrapper title='All Counts'>\r\n\t\t\t\t\t\t\t\t<Counts />\r\n\t\t\t\t\t\t\t</PageWrapper>\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t/>\r\n          <Route \r\n\t\t\t\t\t\tpath='/count/new' \r\n\t\t\t\t\t\telement={\r\n\t\t\t\t\t\t\t<PageWrapper title='Add Count'>\r\n\t\t\t\t\t\t\t\t<Count />\r\n\t\t\t\t\t\t\t</PageWrapper>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n          <Route \r\n\t\t\t\t\t\tpath='/count/:id'\r\n\t\t\t\t\t\telement={\r\n\t\t\t\t\t\t\t<PageWrapper title='Edit Count'>\r\n\t\t\t\t\t\t\t\t<Count edit={true} />\r\n\t\t\t\t\t\t\t</PageWrapper>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n          <Route \r\n\t\t\t\t\t\tpath='/repositories'\r\n\t\t\t\t\t\telement={\r\n\t\t\t\t\t\t\t<PageWrapper title='All Repositories'>\r\n\t\t\t\t\t\t\t\t<Dashboard />\r\n\t\t\t\t\t\t\t</PageWrapper>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n          <Route \r\n\t\t\t\t\t\tpath='/repo/:id'\r\n\t\t\t\t\t\telement={\r\n\t\t\t\t\t\t\t<PageWrapper title='All Repositories'>\r\n\t\t\t\t\t\t\t\t<InspectOneRepo />\r\n\t\t\t\t\t\t\t</PageWrapper>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n          <Route \r\n\t\t\t\t\t\tpath='/vistest1'\r\n\t\t\t\t\t\telement={\r\n\t\t\t\t\t\t\t<PageWrapper title='Visualisation Test 1'>\r\n\t\t\t\t\t\t\t\t<VisTest1 />\r\n\t\t\t\t\t\t\t</PageWrapper>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n          <Route \r\n\t\t\t\t\t\tpath='/' \r\n\t\t\t\t\t\telement={<Navigate to='/repositories' />}\r\n\t\t\t\t\t/>\r\n        </Routes>\r\n      </HashRouter>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\nimport { ChakraProvider, extendTheme } from '@chakra-ui/react'\r\n\r\nimport store from './constants/store'\r\nimport customTheme from './constants/theme/'\r\n\r\nimport './index.css'\r\n\r\nimport App from './components/App'\r\nimport reportWebVitals from './reportWebVitals'\r\n\r\nconst theme = extendTheme(customTheme)\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <ChakraProvider theme={theme}>\r\n        <App />\r\n      </ChakraProvider>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}